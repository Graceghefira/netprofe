"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[3685],{31849:(j,x,n)=>{n.d(x,{$:()=>k});var y=n(14085),C=n(87122),o=n(54438);const _=[[["","fuseCardFront",""]],[["","fuseCardBack",""]],"*",[["","fuseCardExpansion",""]]],f=["[fuseCardFront]","[fuseCardBack]","*","[fuseCardExpansion]"];function p(s,F){1&s&&(o.j41(0,"div",0),o.SdG(1),o.k0s(),o.j41(2,"div",1),o.SdG(3,1),o.k0s())}function v(s,F){1&s&&(o.j41(0,"div",2),o.SdG(1,3),o.k0s()),2&s&&o.Y8G("@expandCollapse",void 0)}function D(s,F){if(1&s&&(o.SdG(0,2),o.DNE(1,v,2,1,"div",2)),2&s){const t=o.XpG();o.R7$(),o.vxM(t.expanded?1:-1)}}let k=(()=>{class s{constructor(){this.expanded=!1,this.face="front",this.flippable=!1}get classList(){return{"fuse-card-expanded":this.expanded,"fuse-card-face-back":this.flippable&&"back"===this.face,"fuse-card-face-front":this.flippable&&"front"===this.face,"fuse-card-flippable":this.flippable}}ngOnChanges(t){"expanded"in t&&(this.expanded=(0,y.he)(t.expanded.currentValue)),"flippable"in t&&(this.flippable=(0,y.he)(t.flippable.currentValue))}static{this.\u0275fac=function(m){return new(m||s)}}static{this.\u0275cmp=o.VBU({type:s,selectors:[["fuse-card"]],hostVars:2,hostBindings:function(m,u){2&m&&o.HbH(u.classList)},inputs:{expanded:"expanded",face:"face",flippable:"flippable"},exportAs:["fuseCard"],features:[o.OA$],ngContentSelectors:f,decls:2,vars:2,consts:[[1,"fuse-card-front"],[1,"fuse-card-back"],[1,"fuse-card-expansion"]],template:function(m,u){1&m&&(o.NAR(_),o.DNE(0,p,4,0)(1,D,2,1)),2&m&&(o.vxM(u.flippable?0:-1),o.R7$(),o.vxM(u.flippable?-1:1))},styles:["fuse-card{position:relative;display:flex;overflow:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable{border-radius:0;overflow:visible;transform-style:preserve-3d;transition:transform 1s;perspective:600px;background:transparent;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-front{visibility:hidden;opacity:0;transform:rotateY(180deg)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-back{visibility:visible;opacity:1;transform:rotateY(360deg)}fuse-card.fuse-card-flippable .fuse-card-front,fuse-card.fuse-card-flippable .fuse-card-back{display:flex;flex-direction:column;flex:1 1 auto;z-index:10;transition:transform .5s ease-out 0s,visibility 0s ease-in .2s,opacity 0s ease-in .2s;backface-visibility:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable .fuse-card-front{position:relative;opacity:1;visibility:visible;transform:rotateY(0);overflow:hidden}fuse-card.fuse-card-flippable .fuse-card-back{position:absolute;inset:0;opacity:0;visibility:hidden;transform:rotateY(180deg);overflow:hidden auto}\n"],encapsulation:2,data:{animation:C.X}})}}return s})()},3685:(j,x,n)=>{n.r(x),n.d(x,{default:()=>K});var y=n(10467),C=n(60177),o=n(89417),_=n(88834),f=n(25084),p=n(30636),v=n(96695),D=n(90882),k=n(2042),s=n(9159),F=n(31849),t=n(54438),m=n(40711),u=n(25798),E=n(80507),T=n(3366),R=n(45794);const $=()=>[5,10,20];function G(e,l){1&e&&(t.j41(0,"div",42),t.nrm(1,"div",43)(2,"div",43)(3,"div",43)(4,"div",43)(5,"div",43)(6,"div",43)(7,"div",44),t.k0s())}function P(e,l){1&e&&(t.j41(0,"mat-header-cell"),t.EFF(1," Name "),t.k0s())}function N(e,l){1&e&&(t.j41(0,"div",42),t.nrm(1,"div",43),t.k0s())}function Y(e,l){if(1&e&&(t.j41(0,"mat-cell",56),t.EFF(1),t.k0s()),2&e){const a=l.$implicit;t.R7$(),t.SpI(" ",a.user_name," ")}}function M(e,l){1&e&&(t.j41(0,"mat-header-cell"),t.EFF(1," User Profile "),t.k0s())}function L(e,l){if(1&e&&(t.j41(0,"mat-cell"),t.EFF(1),t.k0s()),2&e){const a=l.$implicit;t.R7$(),t.SpI(" ",a.role," ")}}function U(e,l){1&e&&(t.j41(0,"mat-header-cell"),t.EFF(1," Upload "),t.k0s())}function I(e,l){if(1&e&&(t.j41(0,"mat-cell"),t.EFF(1),t.k0s()),2&e){const a=l.$implicit,r=t.XpG(2);t.R7$(),t.SpI(" ",r.convertBytesToMB(a.total_bytes_out).toFixed(2)," MB/s ")}}function V(e,l){1&e&&(t.j41(0,"mat-header-cell"),t.EFF(1," Download "),t.k0s())}function X(e,l){if(1&e&&(t.j41(0,"mat-cell"),t.EFF(1),t.k0s()),2&e){const a=l.$implicit,r=t.XpG(2);t.R7$(),t.SpI(" ",r.convertBytesToMB(a.total_bytes_in).toFixed(2)," MB/s ")}}function A(e,l){1&e&&(t.j41(0,"mat-header-cell"),t.EFF(1," Total Bandwidth "),t.k0s())}function H(e,l){if(1&e&&(t.j41(0,"mat-cell"),t.EFF(1),t.k0s()),2&e){const a=l.$implicit,r=t.XpG(2);t.R7$(),t.SpI("",r.convertBytesToMB(a.total_user_bytes).toFixed(2)," MB/s ")}}function O(e,l){1&e&&t.nrm(0,"mat-header-row")}function z(e,l){1&e&&t.nrm(0,"mat-row")}function J(e,l){if(1&e&&(t.j41(0,"mat-table",45,3)(2,"div"),t.qex(3,46),t.DNE(4,P,2,0,"mat-header-cell",47)(5,N,2,0,"div",37)(6,Y,2,1,"mat-cell",48),t.bVm(),t.qex(7,49),t.DNE(8,M,2,0,"mat-header-cell",47)(9,L,2,1,"mat-cell",50),t.bVm(),t.qex(10,51),t.DNE(11,U,2,0,"mat-header-cell",47)(12,I,2,1,"mat-cell",50),t.bVm(),t.qex(13,52),t.DNE(14,V,2,0,"mat-header-cell",47)(15,X,2,1,"mat-cell",50),t.bVm(),t.qex(16,53),t.DNE(17,A,2,0,"mat-header-cell",47)(18,H,2,1,"mat-cell",50),t.bVm(),t.DNE(19,O,1,0,"mat-header-row",54)(20,z,1,0,"mat-row",55),t.k0s()()),2&e){const a=t.XpG();t.Y8G("dataSource",a.dataSource),t.R7$(5),t.Y8G("ngIf",a.isLoading),t.R7$(14),t.Y8G("matHeaderRowDef",a.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",a.displayedColumns)}}function Z(e,l){1&e&&(t.j41(0,"div",57)(1,"div",58),t.nrm(2,"img",59),t.j41(3,"h1",60),t.EFF(4,"Data Not Found"),t.k0s()()())}const S=new Date,B=S.getMonth(),Q=S.getFullYear(),K=(S.getDay(),[{path:"",component:(()=>{class e{constructor(a,r,d,i,c,w){this.bandwithService=a,this.userService=r,this.fuseLoadingService=d,this.cdr=i,this._apiService=c,this._toastService=w,this.range=new o.gE({start:new o.MJ(new Date(Q,B-1)),end:new o.MJ(new Date)}),this.displayedColumns=["name","user_profile","upload","download","total_bandwidth"],this.dataSource=new s.I6,this.drawerMode="side",this.drawerOpened=!0,this.pagedRoleDatas=[],this.userDatas=[],this.pageSize=5,this.currentPage=1,this.selectedUser=null,this.totalBandwidthMax=1e9,this.startDates=new Date(B-1).toLocaleDateString("en-CA"),this.endDates=(new Date).toLocaleDateString("en-CA"),this.isNotDataFound=!1,this.isLoading=!1,this.range.get("end")?.valueChanges.subscribe(h=>{const g=this.range.get("start")?.value;if(g&&h){const b=g instanceof Date?g:new Date(g),W=h instanceof Date?h:new Date(h);this.startDates=b.toLocaleDateString("en-CA"),this.endDates=W.toLocaleDateString("en-CA"),this.fetcData(this.currentPage,this.startDates,this.endDates)}})}applyFilter(a){a=a.trim().toLowerCase(),this.dataSource.filterPredicate=(r,d)=>r.user_name.toLowerCase().includes(d),this.dataSource.filter=a,this.isNotDataFound=0===this.dataSource.filteredData.length}getFormattedDateTime(){const a=new Date,r=b=>b<10?"0"+b:b;return`${a.getFullYear()} - ${r(a.getMonth()+1)} - ${r(a.getDate())} ${r(a.getHours())}.${r(a.getMinutes())}.${r(a.getSeconds())}`}updateTimeRealTime(){setInterval(()=>{this.timeNow=this.getFormattedDateTime(),this.cdr.detectChanges()},100)}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}convertBytesToMB(a){return parseFloat(a)/1048576}ngOnInit(){try{this.fuseLoadingService.show(),this.totalUser="Memuat Data ",this.totalUserBandwith="Memuat Data ",this.fetcData(this.startDates,this.endDates,!0),this.updateTimeRealTime()}catch(a){throw this.fuseLoadingService.hide(),this._toastService.error("Internal Server Error","Error Fetch Data"),a}finally{this.fuseLoadingService.hide()}}fetcData(a,r,d){var i=this;return(0,y.A)(function*(){try{i.isLoading=d;const c=yield i._apiService.post("/api/mikrotik/get-data-by-date-full",{startDate:a,endDate:r});0===c.users.length?(i.isNotDataFound=!0,i.isLoading=!1):(i.isNotDataFound=!1,i.isLoading=!1),i.dataSource.data=c.users,i.totalUser=i.dataSource.data.length}catch(c){throw i._toastService.error("Internal Server Error","Error"),i.isNotDataFound=!1,i.isLoading=!1,c}})()}static{this.\u0275fac=function(r){return new(r||e)(t.rXU(m.P),t.rXU(u.D),t.rXU(E.X),t.rXU(t.gRc),t.rXU(T.G),t.rXU(R.tw))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-bandwith-profile"]],viewQuery:function(r,d){if(1&r&&(t.GBs(k.B4,5),t.GBs(v.iy,5)),2&r){let i;t.mGM(i=t.lsd())&&(d.sort=i.first),t.mGM(i=t.lsd())&&(d.paginator=i.first)}},decls:62,vars:12,consts:[["fuseCard",""],["picker",""],["paginator",""],["table",""],[1,"absolute","inset-0","flex","min-w-0","flex-col","overflow-hidden"],[1,"h-full"],[1,"h-full","p-4","overflow-y-scroll"],[1,"px-4","py-4","flex","justify-between","items-center"],[1,"font-bold","text-lg","sm:text-3xl"],[1,"text-sm","sm:text-base"],[1,"text-sm","text-gray-600"],[1,"font-medium","text-gray-500"],[1,"mx-2","text-gray-400"],[1,"font-semibold","text-blue-600","hover:text-blue-500","truncate"],[1,"grid-cols-1","sm:grid-cols-2","grid","gap-3","px-3"],[1,"flex","flex-col","px-8","py-6","shadow-lg"],[1,"my-5","bg-neutral-100","p-6","rounded-lg"],[3,"rangePicker","formGroup"],["matStartDate","","formControlName","start","placeholder","Start date"],["matEndDate","","formControlName","end","placeholder","End date"],["matSuffix","",3,"for"],[1,"grid","grid-cols-1","gap-3"],[1,"flex","flex-col","px-8","py-6","pb-4","shadow-lg"],[1,"text-xl","font-bold"],[1,"mt-2"],[1,"font-medium"],[1,"flex","flex-col","px-8","py-6","pb-4","shadow-lg","bg-slate-800","text-white"],[1,"p-3","overflow-y-hidden"],[1,"bg-card","flex","flex-col","overflow-hidden","rounded-2xl","h-fit","w-full","p-4","shadow-lg","sm:col-span-6"],[1,"truncate","text-lg","flex-col","sm:flex-row","font-medium","leading-6","tracking-tight","px-5","py-3","flex","items-start","sm:items-center","w-full","justify-between"],["for","table-search",1,"sr-only"],[1,"relative","my-2"],[1,"absolute","inset-y-0","rtl:inset-r-0","start-0","flex","items-center","ps-3","pointer-events-none"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"w-4","h-4","text-gray-500","dark:text-gray-400"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"],["type","text","matInput","","placeholder","Search User Profile",1,"block","p-2","ps-10","text-sm","text-gray-900","border","border-gray-300","rounded-lg","bg-gray-50","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"keyup"],[1,"py-2","sm:px-4","overflow-y-hidden"],["role","status","class","p-5 animate-pulse",4,"ngIf"],[1,"relative","overflow-x-auto","sm:rounded-lg"],["matSort","","class","min-w-160 max-sm:min-w-128",3,"dataSource",4,"ngIf"],["class","my-10",4,"ngIf"],[3,"pageSize","pageSizeOptions","showFirstLastButtons"],["role","status",1,"p-5","animate-pulse"],[1,"h-6","bg-gray-300","rounded-full","dark:bg-gray-700","w-full","mb-[22px]"],[1,"h-6","bg-gray-300","rounded-full","dark:bg-gray-700","w-full"],["matSort","",1,"min-w-160","max-sm:min-w-128",3,"dataSource"],["matColumnDef","name"],[4,"matHeaderCellDef"],["class","py-4 font-medium",4,"matCellDef"],["matColumnDef","user_profile"],[4,"matCellDef"],["matColumnDef","upload"],["matColumnDef","download"],["matColumnDef","total_bandwidth"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"py-4","font-medium"],[1,"my-10"],[1,"flex","flex-col","items-center"],["src","../../../../../assets/not-found.jpg","alt","not-found.jpg",1,"h-64","bg-cover","bg-center","object-scale-down"],[1,"mt-2","font-semibold","text-xl","-tracking-tighter"]],template:function(r,d){if(1&r){const i=t.RV6();t.j41(0,"div",4)(1,"mat-sidenav-container",5)(2,"mat-sidenav-content",6)(3,"div",7)(4,"div")(5,"h1",8),t.EFF(6,"Voucher Usage"),t.k0s(),t.j41(7,"p",9),t.EFF(8,"Voucher Usage Information"),t.k0s()(),t.j41(9,"div",10)(10,"span",11),t.EFF(11,"Home"),t.k0s(),t.j41(12,"span",12),t.EFF(13,"/"),t.k0s(),t.j41(14,"span",13),t.EFF(15,"Voucher Usage"),t.k0s()()(),t.j41(16,"div",14)(17,"fuse-card",15,0)(19,"mat-form-field",16)(20,"mat-label"),t.EFF(21,"Enter a date range"),t.k0s(),t.j41(22,"mat-date-range-input",17),t.nrm(23,"input",18)(24,"input",19),t.k0s(),t.j41(25,"mat-hint"),t.EFF(26,"MM/DD/YYYY \u2013 MM/DD/YYYY"),t.k0s(),t.nrm(27,"mat-datepicker-toggle",20)(28,"mat-date-range-picker",null,1),t.k0s()(),t.j41(30,"div",21)(31,"fuse-card",22,0)(33,"div",23),t.EFF(34,"Total User"),t.k0s(),t.j41(35,"div",24)(36,"p",25),t.EFF(37),t.k0s()()(),t.j41(38,"fuse-card",26,0)(40,"div",23),t.EFF(41,"Time Now"),t.k0s(),t.j41(42,"div",24)(43,"p",25),t.EFF(44),t.k0s()()()()(),t.j41(45,"section",27)(46,"div",28)(47,"div",29)(48,"label",30),t.EFF(49,"Search"),t.k0s(),t.j41(50,"div",31)(51,"div",32),t.qSk(),t.j41(52,"svg",33),t.nrm(53,"path",34),t.k0s()(),t.joV(),t.j41(54,"input",35),t.bIt("keyup",function(w){return t.eBV(i),t.Njj(d.applyFilter(w.target.value))}),t.k0s()()(),t.j41(55,"div",36),t.DNE(56,G,8,0,"div",37),t.j41(57,"div",38),t.DNE(58,J,21,4,"mat-table",39),t.k0s(),t.DNE(59,Z,5,0,"div",40),t.k0s(),t.nrm(60,"mat-paginator",41,2),t.k0s()()()()()}if(2&r){const i=t.sdS(29);t.R7$(22),t.Y8G("rangePicker",i)("formGroup",d.range),t.R7$(5),t.Y8G("for",i),t.R7$(10),t.SpI("",d.totalUser," User"),t.R7$(7),t.JRh(d.timeNow),t.R7$(12),t.Y8G("ngIf",d.isLoading),t.R7$(2),t.Y8G("ngIf",!d.isLoading),t.R7$(),t.Y8G("ngIf",d.isNotDataFound&&!d.isLoading),t.R7$(),t.Y8G("pageSize",10)("pageSizeOptions",t.lJ4(11,$))("showFirstLastButtons",!0)}},dependencies:[_.Hl,D.US,D.El,C.MD,C.bT,F.$,s.tP,s.Zl,s.tL,s.ji,s.cC,s.YV,s.iL,s.KS,s.$R,s.YZ,s.NB,v.Ou,v.iy,f.X6,f.bU,f.el,f.xR,f.IG,f.SG,p.RG,p.rl,p.nJ,p.MV,p.yw,o.YN,o.me,o.BC,o.cb,o.X1,o.j4,o.JD],encapsulation:2})}}return e})()}])}}]);