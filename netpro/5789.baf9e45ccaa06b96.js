"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[5789],{25789:(W,p,r)=>{r.r(p),r.d(p,{default:()=>Z});var f=r(60177),e=r(54438),_=r(88834),x=r(75351),m=r(96695),c=r(2042),l=r(9159),F=r(31849),v=r(59042),y=r(89417),T=r(99213),h=r(45794),g=r(3366);let U=(()=>{class t{constructor(){this.activeUsers=(0,e.vPA)([]),this.isLoading=(0,e.vPA)(!1),this.isNotFound=(0,e.vPA)(!1),this.totalUser=(0,e.vPA)(0),this._toastService=(0,e.WQX)(h.tw),this._apiService=(0,e.WQX)(g.G)}fetchData(){this.isLoading.set(!0),this._apiService.get("/api/mikrotik/get-active-micasa",!0).then(a=>{this.isLoading.set(!1),this.isNotFound.set(!1),this.activeUsers.set(a.active_users??[]),this.totalUser.set(a.active_users.length)}).catch(a=>{this.isLoading.set(!1),this.isNotFound.set(!0),this._toastService.error("Failed to fetch data","Error")})}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const C=()=>[5,10,20];function w(t,i){1&t&&(e.j41(0,"div",24),e.nrm(1,"div",25)(2,"div",25)(3,"div",25)(4,"div",25)(5,"div",25)(6,"div",25)(7,"div",26),e.k0s())}function A(t,i){1&t&&(e.j41(0,"div")(1,"div",27),e.nrm(2,"img",28),e.j41(3,"h1",29),e.EFF(4,"Data Not Found"),e.k0s()()())}function k(t,i){1&t&&(e.j41(0,"mat-header-cell",43),e.EFF(1," User "),e.k0s())}function S(t,i){1&t&&(e.j41(0,"div",24),e.nrm(1,"div",25),e.k0s())}function D(t,i){if(1&t&&(e.j41(0,"mat-cell",44),e.EFF(1),e.k0s()),2&t){const a=i.$implicit;e.R7$(),e.SpI(" ",a.user," ")}}function j(t,i){1&t&&(e.j41(0,"mat-header-cell",45),e.EFF(1," Ip Address "),e.k0s())}function E(t,i){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const a=i.$implicit;e.R7$(),e.SpI(" ",a.address," ")}}function $(t,i){1&t&&(e.j41(0,"mat-header-cell",45),e.EFF(1," MAC Address "),e.k0s())}function R(t,i){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const a=i.$implicit;e.R7$(),e.SpI(" ",a["mac-address"]," ")}}function N(t,i){1&t&&(e.j41(0,"mat-header-cell",45),e.EFF(1," Uptime "),e.k0s())}function I(t,i){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const a=i.$implicit;e.R7$(),e.SpI(" ",a.uptime," ")}}function B(t,i){1&t&&(e.j41(0,"mat-header-cell",45),e.EFF(1," Download "),e.k0s())}function L(t,i){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const a=i.$implicit,s=e.XpG(2);e.R7$(),e.SpI(" ",s.convertBytesToMB(a["bytes-in"]).toFixed(2)," MB/s ")}}function G(t,i){1&t&&(e.j41(0,"mat-header-cell",45),e.EFF(1," Upload "),e.k0s())}function M(t,i){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const a=i.$implicit,s=e.XpG(2);e.R7$(),e.SpI("",s.convertBytesToMB(a["bytes-out"]).toFixed(2)," MB/s ")}}function Y(t,i){1&t&&e.nrm(0,"mat-header-row")}function V(t,i){1&t&&e.nrm(0,"mat-row")}function X(t,i){if(1&t&&(e.j41(0,"mat-table",30,2)(2,"div"),e.qex(3,31),e.DNE(4,k,2,0,"mat-header-cell",32)(5,S,2,0,"div",19)(6,D,2,1,"mat-cell",33),e.bVm(),e.qex(7,34),e.DNE(8,j,2,0,"mat-header-cell",35)(9,E,2,1,"mat-cell",36),e.bVm(),e.qex(10,37),e.DNE(11,$,2,0,"mat-header-cell",35)(12,R,2,1,"mat-cell",36),e.bVm(),e.qex(13,38),e.DNE(14,N,2,0,"mat-header-cell",35)(15,I,2,1,"mat-cell",36),e.bVm(),e.qex(16,39),e.DNE(17,B,2,0,"mat-header-cell",35)(18,L,2,1,"mat-cell",36),e.bVm(),e.qex(19,40),e.DNE(20,G,2,0,"mat-header-cell",35)(21,M,2,1,"mat-cell",36),e.bVm(),e.DNE(22,Y,1,0,"mat-header-row",41)(23,V,1,0,"mat-row",42),e.k0s()()),2&t){const a=e.XpG();e.Y8G("dataSource",a.dataSource),e.R7$(5),e.Y8G("ngIf",a.isLoading),e.R7$(17),e.Y8G("matHeaderRowDef",a.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",a.displayedColumns)}}let H=(()=>{class t{constructor(a,s,o){this._apiService=a,this._tableActiveUsersService=s,this.cdr=o,this.displayedColumns=["user","address","mac_address","uptime","bytes-in","bytes-out"],this.dataSource=new l.I6,this.toast=(0,e.WQX)(h.tw),(0,e.QZP)(()=>{this.dataSource.data=this._tableActiveUsersService.activeUsers(),setTimeout(()=>{console.log(this.dataSource.data)},1e3)})}get isLoading(){return this._tableActiveUsersService.isLoading()}set setIsLoading(a){this._tableActiveUsersService.isLoading.set(a)}set setIsNotDataFound(a){this._tableActiveUsersService.isNotFound.set(a)}get isNotDataFound(){return this._tableActiveUsersService.isNotFound()}get totalUser(){return this._tableActiveUsersService.totalUser()}ngOnInit(){this._tableActiveUsersService.fetchData(),this.updateTimeRealTime()}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}getFormattedDateTime(){const a=new Date,s=u=>u<10?"0"+u:u;return`${a.getFullYear()} - ${s(a.getMonth()+1)} - ${s(a.getDate())} ${s(a.getHours())}.${s(a.getMinutes())}.${s(a.getSeconds())}`}updateTimeRealTime(){setInterval(()=>{this.timeNow=this.getFormattedDateTime(),this.cdr.detectChanges()},100)}convertBytesToMB(a){return parseFloat(a)/1048576}applyFilter(a){a=a.trim().toLowerCase(),this.dataSource.filterPredicate=(s,o)=>s.user.toLowerCase().includes(o),this.dataSource.filter=a,this.setIsNotDataFound=0===this.dataSource.filteredData.length}static{this.\u0275fac=function(s){return new(s||t)(e.rXU(g.G),e.rXU(U),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-table-active-users"]],viewQuery:function(s,o){if(1&s&&(e.GBs(c.B4,5),e.GBs(m.iy,5)),2&s){let n;e.mGM(n=e.lsd())&&(o.sort=n.first),e.mGM(n=e.lsd())&&(o.paginator=n.first)}},decls:34,vars:9,consts:[["fuseCard",""],["paginator",""],["table",""],[1,"grid","grid-cols-2","gap-3"],[1,"flex","flex-col","px-8","py-6","pb-4","shadow-lg"],[1,"text-xl","font-bold"],[1,"mt-2"],[1,"font-medium"],[1,"flex","flex-col","px-8","py-6","pb-4","shadow-lg","bg-slate-800","text-white"],[1,"my-4"],[1,"flex","flex-col","shadow-md"],[1,"truncate","text-lg","flex-col","sm:flex-row","font-medium","leading-6","tracking-tight","px-5","py-3","flex","items-start","sm:items-center","w-full","justify-between"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","gap-3"],["for","table-search",1,"sr-only"],[1,"relative","my-2"],[1,"absolute","inset-y-0","rtl:inset-r-0","start-0","flex","items-center","ps-3","pointer-events-none"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"w-4","h-4","text-gray-500","dark:text-gray-400"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"],["type","text","matInput","","placeholder","Search Active User",1,"block","p-2","ps-10","text-sm","text-gray-900","border","border-gray-300","rounded-lg","bg-gray-50","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"keyup"],["role","status","class","p-5 animate-pulse",4,"ngIf"],[4,"ngIf"],[1,"w-full","overflow-auto","whitespace-nowrap"],["matSort","","class","min-w-160 max-sm:min-w-128",3,"dataSource",4,"ngIf"],[3,"pageSize","pageSizeOptions","showFirstLastButtons"],["role","status",1,"p-5","animate-pulse"],[1,"h-6","bg-gray-300","rounded-full","dark:bg-gray-700","w-full","mb-[22px]"],[1,"h-6","bg-gray-300","rounded-full","dark:bg-gray-700","w-full"],[1,"flex","flex-col","items-center"],["src","../../../../../assets/not-found.jpg","alt","not-found.jpg",1,"h-64","bg-cover","bg-center","object-scale-down"],[1,"mt-2","font-semibold","text-xl","-tracking-tighter"],["matSort","",1,"min-w-160","max-sm:min-w-128",3,"dataSource"],["matColumnDef","user"],["mat-sort-header","profile_name",4,"matHeaderCellDef"],["class","py-4 font-medium",4,"matCellDef"],["matColumnDef","address"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","mac_address"],["matColumnDef","uptime"],["matColumnDef","bytes-in"],["matColumnDef","bytes-out"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["mat-sort-header","profile_name"],[1,"py-4","font-medium"],["mat-sort-header",""]],template:function(s,o){if(1&s){const n=e.RV6();e.j41(0,"div",3)(1,"fuse-card",4,0)(3,"div",5),e.EFF(4,"Total Active User"),e.k0s(),e.j41(5,"div",6)(6,"p",7),e.EFF(7),e.k0s()()(),e.j41(8,"fuse-card",8,0)(10,"div",5),e.EFF(11,"Time Now"),e.k0s(),e.j41(12,"div",6)(13,"p",7),e.EFF(14),e.k0s()()()(),e.j41(15,"main",9)(16,"fuse-card",10,0)(18,"div",11),e.EFF(19," Active Users "),e.j41(20,"div",12)(21,"label",13),e.EFF(22,"Search"),e.k0s(),e.j41(23,"div",14)(24,"div",15),e.qSk(),e.j41(25,"svg",16),e.nrm(26,"path",17),e.k0s()(),e.joV(),e.j41(27,"input",18),e.bIt("keyup",function(d){return e.eBV(n),e.Njj(o.applyFilter(d.target.value))}),e.k0s()()()(),e.DNE(28,w,8,0,"div",19)(29,A,5,0,"div",20),e.j41(30,"div",21),e.DNE(31,X,24,4,"mat-table",22),e.k0s(),e.nrm(32,"mat-paginator",23,1),e.k0s()()}2&s&&(e.R7$(7),e.SpI("",o.totalUser," User"),e.R7$(7),e.JRh(o.timeNow),e.R7$(14),e.Y8G("ngIf",o.isLoading),e.R7$(),e.Y8G("ngIf",o.isNotDataFound&&!o.isLoading),e.R7$(2),e.Y8G("ngIf",!o.isLoading&&!o.isNotDataFound),e.R7$(),e.Y8G("pageSize",10)("pageSizeOptions",e.lJ4(8,C))("showFirstLastButtons",!0))},dependencies:[f.MD,f.bT,_.Hl,m.Ou,m.iy,x.hM,l.tP,l.Zl,l.tL,l.ji,l.cC,l.YV,l.iL,l.KS,l.$R,l.YZ,l.NB,T.m_,y.X1,v.fS,v.fg,c.NQ,c.B4,c.aE,F.$],encapsulation:2})}}return t})();var P=r(49192);const Q=()=>[".."],Z=[{path:"",component:(()=>{class t{static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-active-users"]],decls:8,vars:2,consts:[[1,"w-full","h-fit","mb-10","flex","flex-col"],["aria-label","Breadcrumb",1,"flex","shadow","px-5","py-3","text-gray-700","borde","bg-white","dark:bg-slate-800"],[1,"inline-flex","items-center","space-x-1","md:space-x-2","rtl:space-x-reverse"],[1,"inline-flex","items-center"],[1,"inline-flex","items-center","text-sm","font-medium","text-gray-700","hover:text-blue-600","dark:text-gray-400","dark:hover:text-white",3,"routerLink"],[1,"w-full","p-4"]],template:function(s,o){1&s&&(e.j41(0,"main",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),e.EFF(5," Active Users "),e.k0s()()()(),e.j41(6,"div",5),e.nrm(7,"app-table-active-users"),e.k0s()()),2&s&&(e.R7$(4),e.Y8G("routerLink",e.lJ4(1,Q)))},dependencies:[H,P.Wk],encapsulation:2})}}return t})()}]}}]);