"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[5487],{31849:(D,x,a)=>{a.d(x,{$:()=>f});var p=a(14085),v=a(87122),e=a(54438);const m=[[["","fuseCardFront",""]],[["","fuseCardBack",""]],"*",[["","fuseCardExpansion",""]]],b=["[fuseCardFront]","[fuseCardBack]","*","[fuseCardExpansion]"];function C(d,c){1&d&&(e.j41(0,"div",0),e.SdG(1),e.k0s(),e.j41(2,"div",1),e.SdG(3,1),e.k0s())}function _(d,c){1&d&&(e.j41(0,"div",2),e.SdG(1,3),e.k0s()),2&d&&e.Y8G("@expandCollapse",void 0)}function S(d,c){if(1&d&&(e.SdG(0,2),e.DNE(1,_,2,1,"div",2)),2&d){const s=e.XpG();e.R7$(),e.vxM(s.expanded?1:-1)}}let f=(()=>{class d{constructor(){this.expanded=!1,this.face="front",this.flippable=!1}get classList(){return{"fuse-card-expanded":this.expanded,"fuse-card-face-back":this.flippable&&"back"===this.face,"fuse-card-face-front":this.flippable&&"front"===this.face,"fuse-card-flippable":this.flippable}}ngOnChanges(s){"expanded"in s&&(this.expanded=(0,p.he)(s.expanded.currentValue)),"flippable"in s&&(this.flippable=(0,p.he)(s.flippable.currentValue))}static{this.\u0275fac=function(u){return new(u||d)}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["fuse-card"]],hostVars:2,hostBindings:function(u,y){2&u&&e.HbH(y.classList)},inputs:{expanded:"expanded",face:"face",flippable:"flippable"},exportAs:["fuseCard"],features:[e.OA$],ngContentSelectors:b,decls:2,vars:2,consts:[[1,"fuse-card-front"],[1,"fuse-card-back"],[1,"fuse-card-expansion"]],template:function(u,y){1&u&&(e.NAR(m),e.DNE(0,C,4,0)(1,S,2,1)),2&u&&(e.vxM(y.flippable?0:-1),e.R7$(),e.vxM(y.flippable?-1:1))},styles:["fuse-card{position:relative;display:flex;overflow:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable{border-radius:0;overflow:visible;transform-style:preserve-3d;transition:transform 1s;perspective:600px;background:transparent;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-front{visibility:hidden;opacity:0;transform:rotateY(180deg)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-back{visibility:visible;opacity:1;transform:rotateY(360deg)}fuse-card.fuse-card-flippable .fuse-card-front,fuse-card.fuse-card-flippable .fuse-card-back{display:flex;flex-direction:column;flex:1 1 auto;z-index:10;transition:transform .5s ease-out 0s,visibility 0s ease-in .2s,opacity 0s ease-in .2s;backface-visibility:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable .fuse-card-front{position:relative;opacity:1;visibility:visible;transform:rotateY(0);overflow:hidden}fuse-card.fuse-card-flippable .fuse-card-back{position:absolute;inset:0;opacity:0;visibility:hidden;transform:rotateY(180deg);overflow:hidden auto}\n"],encapsulation:2,data:{animation:v.X}})}}return d})()},55487:(D,x,a)=>{a.r(x),a.d(x,{default:()=>ge});var p=a(10467),v=a(60177),e=a(54438),m=a(89417),b=a(88834),C=a(25084),_=a(31849),S=a(22080);let f=(()=>{class n{nonce;_printStyle=[];_styleSheetFile="";constructor(t){this.nonce=t}setPrintStyle(t){this._printStyle=[];for(let r in t)t.hasOwnProperty(r)&&this._printStyle.push((r+JSON.stringify(t[r])).replace(/['"]+/g,""))}returnStyleValues(){return`<style${this.nonce?` nonce="${this.nonce}"`:""}> ${this._printStyle.join(" ").replace(/,/g,";")} </style>`}returnStyleSheetLinkTags(){return this._styleSheetFile}setStyleSheetFile(t){const r=function(o){return`<link rel="stylesheet" type="text/css" href="${o}">`};if(-1!==t.indexOf(",")){const o=t.split(",");this._styleSheetFile=o.map(l=>r(l)).join("")}else this._styleSheetFile=r(t)}updateInputDefaults(t){for(let r=0;r<t.length;r++){const o=t[r];o.defaultValue=o.value,o.checked&&(o.defaultChecked=!0)}}updateSelectDefaults(t){for(let r=0;r<t.length;r++){const o=t[r];o.options[o.selectedIndex].defaultSelected=!0}}updateTextAreaDefaults(t){for(let r=0;r<t.length;r++){const o=t[r];o.defaultValue=o.value}}canvasToImageHtml(t){return`<img src="${t.toDataURL()}" style="max-width: 100%;">`}updateCanvasToImage(t){for(let r=0;r<t.length;r++){const o=this.canvasToImageHtml(t[r]);t[r].insertAdjacentHTML("afterend",o),t[r].remove()}}getHtmlContents(t){const r=document.getElementById(t);if(!r)return null;const o=r.getElementsByTagName("input"),l=r.getElementsByTagName("select"),g=r.getElementsByTagName("textarea"),w=r.getElementsByTagName("canvas");return this.updateInputDefaults(o),this.updateSelectDefaults(l),this.updateTextAreaDefaults(g),this.updateCanvasToImage(w),r.innerHTML}getElementTag(t){const r=[],o=document.getElementsByTagName(t);for(let l=0;l<o.length;l++)r.push(o[l].outerHTML);return r.join("\r\n")}print(t){let r="",o="",l="top=0,left=0,height=auto,width=auto";const g=this.getElementTag("base");t.useExistingCss&&(r=this.getElementTag("style"),o=this.getElementTag("link")),t.openNewTab&&(l="");const w=this.getHtmlContents(t.printSectionId);if(!w)return void console.error(`Print section with id ${t.printSectionId} not found.`);const F=window.open("","_blank",l);F?(F.document.open(),F.document.write(`\n          <html>\n            <head>\n              <title>${t.printTitle?t.printTitle:""}</title>\n              ${g}\n              ${this.returnStyleValues()}\n              ${this.returnStyleSheetLinkTags()}\n              ${r}\n              ${o}\n            </head>\n            <body ${t.bodyClass?`class="${t.bodyClass}"`:""}>\n              ${w}\n              <script defer>\n                function triggerPrint(event) {\n                  window.removeEventListener('load', triggerPrint, false);\n                  ${t.previewOnly?"":`setTimeout(function() {\n                    closeWindow(window.print());\n                  }, ${t.printDelay});`}\n                }\n                function closeWindow(){\n                  ${t.closeWindow?"window.close();":""}\n                }\n                window.addEventListener('load', triggerPrint, false);\n              <\/script>\n            </body>\n          </html>`),F.document.close()):console.error("Could not open print window.")}static \u0275fac=function(r){return new(r||n)(e.KVO(e.BIS,8))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class c{printSectionId="";printTitle="";useExistingCss=!1;bodyClass="";openNewTab=!1;previewOnly=!1;closeWindow=!0;printDelay=0;constructor(i){i&&Object.assign(this,i)}}let s=(()=>{class n extends f{printOptions=new c;set previewOnly(t){this.printOptions={...this.printOptions,previewOnly:t}}set printSectionId(t){this.printOptions={...this.printOptions,printSectionId:t}}set printTitle(t){this.printOptions={...this.printOptions,printTitle:t}}set useExistingCss(t){this.printOptions={...this.printOptions,useExistingCss:t}}set printDelay(t){this.printOptions={...this.printOptions,printDelay:t}}set closeWindow(t){this.printOptions={...this.printOptions,closeWindow:t}}set bodyClass(t){this.printOptions={...this.printOptions,bodyClass:t}}set openNewTab(t){this.printOptions={...this.printOptions,openNewTab:t}}set printStyle(t){super.setPrintStyle(t)}set styleSheetFile(t){super.setStyleSheetFile(t)}print(){super.print(this.printOptions)}static \u0275fac=(()=>{let t;return function(o){return(t||(t=e.xGo(n)))(o||n)}})();static \u0275dir=e.FsC({type:n,selectors:[["button","ngxPrint",""]],hostBindings:function(r,o){1&r&&e.bIt("click",function(){return o.print()})},inputs:{previewOnly:"previewOnly",printSectionId:"printSectionId",printTitle:"printTitle",useExistingCss:"useExistingCss",printDelay:"printDelay",closeWindow:"closeWindow",bodyClass:"bodyClass",openNewTab:"openNewTab",printStyle:"printStyle",styleSheetFile:"styleSheetFile"},features:[e.Vt3]})}return n})(),u=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({})}return n})();var y=a(45794),E=a(3366);const I=()=>({"background-size":"cover","background-position":"center",width:"292px",height:"160px",position:"relative",padding:"5px","-webkit-print-color-adjust":"exact","print-color-adjust":"exact"}),G=()=>({"font-family":"Hornbill, sans-serif",position:"absolute",top:"58px",left:"85px"}),$=()=>({margin:"0","font-size":"12px"}),N=(n,i,t)=>({".voucher-card":n,".voucher-content":i,p:t});function R(n,i){1&n&&(e.j41(0,"p"),e.EFF(1,"Voucher hours are required. "),e.k0s())}function B(n,i){1&n&&(e.j41(0,"p"),e.EFF(1,"Voucher hours must be at least 1. "),e.k0s())}function O(n,i){if(1&n&&(e.j41(0,"div",22),e.DNE(1,R,2,0,"p",15)(2,B,2,0,"p",15),e.k0s()),2&n){let t,r;const o=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=o.voucherForm.get("voucher_hours"))||null==t.errors?null:t.errors.required),e.R7$(),e.Y8G("ngIf",null==(r=o.voucherForm.get("voucher_hours"))||null==r.errors?null:r.errors.min)}}function P(n,i){1&n&&(e.j41(0,"p"),e.EFF(1,"Voucher count is required."),e.k0s())}function A(n,i){1&n&&(e.j41(0,"p"),e.EFF(1,"Voucher count must be at least 1. "),e.k0s())}function L(n,i){if(1&n&&(e.j41(0,"div",22),e.DNE(1,P,2,0,"p",15)(2,A,2,0,"p",15),e.k0s()),2&n){let t,r;const o=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=o.voucherForm.get("voucher_count"))||null==t.errors?null:t.errors.required),e.R7$(),e.Y8G("ngIf",null==(r=o.voucherForm.get("voucher_count"))||null==r.errors?null:r.errors.min)}}function M(n,i){1&n&&(e.j41(0,"p"),e.EFF(1,"Generating..."),e.k0s())}function Y(n,i){1&n&&(e.j41(0,"p"),e.EFF(1,"Generate Vouchers"),e.k0s())}function H(n,i){if(1&n&&(e.j41(0,"div",23)(1,"div",24)(2,"div",25)(3,"p"),e.EFF(4),e.k0s()(),e.j41(5,"div",26)(6,"p"),e.EFF(7),e.k0s()()()()),2&n){const t=i.$implicit,r=e.XpG();e.R7$(),e.xc7("background-image","url("+r.voucherBgImage+")"),e.R7$(3),e.SpI("",t.waktu," Hours"),e.R7$(3),e.JRh(t.password)}}let U=(()=>{class n{constructor(t,r){this.fb=t,this.apiService=r,this.toast=(0,e.WQX)(y.tw),this.voucherBgImage="",this.voucherDatas={generated_vouchers:[]},this.isLoading=!1}ngOnInit(){this.voucherForm=this.fb.group({voucher_hours:["",[m.k0.required,m.k0.min(1)]],voucher_count:["",[m.k0.required,m.k0.min(1)]]})}generateVouchers(){var t=this;return(0,p.A)(function*(){if(t.voucherForm.invalid)t.voucherForm.markAllAsTouched();else try{t.voucherBgImage=localStorage.getItem("voucher-background"),t.isLoading=!0;const r=yield t.apiService.post("/api/mikrotik/add-hotspot-login-Annual",t.voucherForm.value);t.voucherDatas=r,r&&(t.voucherForm.reset(),setTimeout(()=>{const o=document.getElementById("print-button");o&&o.click()},500))}catch{t.toast.error("Failed to generate vouchers")}finally{t.isLoading=!1}})()}static{this.\u0275fac=function(r){return new(r||n)(e.rXU(m.ok),e.rXU(E.G))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-generate-vouchers"]],decls:30,vars:19,consts:[["fuseCard",""],[1,"flex","flex-col","shadow-md"],["rel","stylesheet","href",e.wXG`https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css`],[1,"px-8","py-6"],[1,"text-xl","font-bold"],[1,"text-sm","font-medium","opacity-50"],[1,"mt-4",3,"formGroup"],[1,"flex","flex-col","sm:flex-row","items-center","gap-4","justify-between","w-full","bg-neutral-100","p-5","rounded-md"],[1,"w-full"],[1,"block","text-base","font-medium","text-gray-700","dark:text-white"],["type","number","formControlName","voucher_hours","placeholder","Input Voucher Hours",1,"border-2","p-2","mt-2","bg-white","w-full","rounded-md"],["class","text-red-500 text-sm",4,"ngIf"],["type","number","formControlName","voucher_count","placeholder","Input Voucher Count",1,"border-2","p-2","mt-2","bg-white","w-full","rounded-md"],[1,"bg-slate-800","p-3","px-5","flex","justify-end"],["mat-button","",1,"bg-green-600","text-white",3,"click","disabled"],[4,"ngIf"],["message","Generating vouchers...","spinner","circular",3,"isOpen"],["id","print-section",3,"hidden"],["href",e.wXG`https://fonts.googleapis.com/css2?family=Hornbill&display=swap`,"rel","stylesheet"],[1,"voucher-wrapper"],["class","voucher-item",4,"ngFor","ngForOf"],["id","print-button","printSectionId","print-section","ngxPrint","","ngxPrintItemMarker","",3,"hidden","useExistingCss","printStyle"],[1,"text-red-500","text-sm"],[1,"voucher-item"],[1,"voucher-card"],[1,"font-bold","text-white","absolute","text-xs","top-[6.2px]","right-2.5","py-1","px-5","bg-[#F96200]","rounded-full",2,"font-family","'Grandstander', cursive"],[1,"voucher-content","font-bold","opacity-50"]],template:function(r,o){if(1&r){const l=e.RV6();e.j41(0,"fuse-card",1,0),e.nrm(2,"link",2),e.j41(3,"div",3)(4,"div",4),e.EFF(5," Generate Vouchers "),e.j41(6,"p",5),e.EFF(7,"Generate your vouchers"),e.k0s()(),e.j41(8,"form",6)(9,"div",7)(10,"div",8)(11,"label",9),e.EFF(12,"Voucher Hours :"),e.k0s(),e.nrm(13,"input",10),e.DNE(14,O,3,2,"div",11),e.k0s(),e.j41(15,"div",8)(16,"label",9),e.EFF(17,"Voucher Count :"),e.k0s(),e.nrm(18,"input",12),e.DNE(19,L,3,2,"div",11),e.k0s()()()(),e.j41(20,"div",13)(21,"button",14),e.bIt("click",function(){return e.eBV(l),e.Njj(o.generateVouchers())}),e.DNE(22,M,2,0,"p",15)(23,Y,2,0,"p",15),e.k0s()()(),e.nrm(24,"ion-loading",16),e.j41(25,"div",17),e.nrm(26,"link",18),e.j41(27,"div",19),e.DNE(28,H,8,4,"div",20),e.k0s()(),e.nrm(29,"button",21)}if(2&r){let l,g;e.R7$(8),e.Y8G("formGroup",o.voucherForm),e.R7$(6),e.Y8G("ngIf",(null==(l=o.voucherForm.get("voucher_hours"))?null:l.touched)&&(null==(l=o.voucherForm.get("voucher_hours"))?null:l.invalid)),e.R7$(5),e.Y8G("ngIf",(null==(g=o.voucherForm.get("voucher_count"))?null:g.touched)&&(null==(g=o.voucherForm.get("voucher_count"))?null:g.invalid)),e.R7$(2),e.Y8G("disabled",o.isLoading),e.R7$(),e.Y8G("ngIf",o.isLoading),e.R7$(),e.Y8G("ngIf",!o.isLoading),e.R7$(),e.Y8G("isOpen",o.isLoading),e.R7$(),e.Y8G("hidden",!0),e.R7$(3),e.Y8G("ngForOf",o.voucherDatas.generated_vouchers),e.R7$(),e.Y8G("hidden",!0)("useExistingCss",!0)("printStyle",e.sMw(15,N,e.lJ4(12,I),e.lJ4(13,G),e.lJ4(14,$)))}},dependencies:[_.$,u,s,C.X6,b.Hl,b.$z,m.YN,m.qT,m.me,m.Q0,m.BC,m.cb,m.X1,m.j4,m.JD,v.MD,v.Sq,v.bT,S.rQ],styles:["@media print{@page{margin:20px 0;size:A4}#print-section[_ngcontent-%COMP%]{display:block;page-break-after:always;width:100%;height:100%;margin:0;padding:0}.voucher-wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-items:center;width:100%;gap:0;padding:20px 0;margin:0 auto;height:100%}.voucher-item[_ngcontent-%COMP%]{width:50%;box-sizing:border-box;padding:5px;page-break-inside:avoid;break-inside:avoid;display:flex;justify-content:center}.voucher-card[_ngcontent-%COMP%]{width:292px;height:160px;page-break-inside:avoid;break-inside:avoid}.voucher-item[_ngcontent-%COMP%]:nth-child(12n){page-break-after:always}}"]})}}return n})();var j=a(99213),V=a(59042),T=a(96695),k=a(2042),h=a(9159),X=a(49192),W=a(46601),z=a(25798);const J=()=>["add-user"],K=()=>[5,10,20],Q=(n,i,t,r)=>({"bg-gray-500":n,"bg-red-500":i,"bg-green-500":t,"bg-amber-500":r}),Z=n=>["edit-user",n],q=n=>["view-detail",n];function ee(n,i){1&n&&(e.j41(0,"div",22),e.nrm(1,"div",23)(2,"div",23)(3,"div",23)(4,"div",23)(5,"div",23)(6,"div",23)(7,"div",24),e.k0s())}function te(n,i){1&n&&(e.j41(0,"div")(1,"div",25),e.nrm(2,"img",26),e.j41(3,"h1",27),e.EFF(4,"Data Not Found"),e.k0s()()())}function ne(n,i){1&n&&(e.j41(0,"mat-header-cell",40),e.EFF(1," Name "),e.k0s())}function re(n,i){if(1&n&&(e.j41(0,"mat-cell",41)(1,"div",42)(2,"div",43),e.EFF(3),e.k0s(),e.j41(4,"div",44),e.EFF(5),e.k0s()()()),2&n){const t=i.$implicit;e.R7$(3),e.JRh(t.name),e.R7$(2),e.JRh(t.password)}}function oe(n,i){1&n&&(e.j41(0,"mat-header-cell",40),e.EFF(1," Time Limit "),e.k0s())}function ie(n,i){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=i.$implicit;e.R7$(),e.SpI(" ",t.waktu," Hours")}}function ae(n,i){1&n&&(e.j41(0,"mat-header-cell",40),e.EFF(1," Status Voucher "),e.k0s())}function se(n,i){if(1&n&&(e.j41(0,"mat-cell")(1,"td",45)(2,"span",46),e.nrm(3,"span",47),e.j41(4,"span",48),e.EFF(5),e.k0s()()()()),2&n){const t=i.$implicit;e.R7$(3),e.Y8G("ngClass",e.ziG(2,Q,"Already Used"===t.status,"Offline"===t.status,"Online"===t.status,"Inactive"===t.status)),e.R7$(2),e.JRh(t.status)}}function le(n,i){1&n&&(e.j41(0,"mat-header-cell",40),e.EFF(1," Profile "),e.k0s())}function ce(n,i){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=i.$implicit;e.R7$(),e.SpI(" ",t.profile," ")}}function ue(n,i){1&n&&(e.j41(0,"mat-header-cell",40),e.EFF(1," Action "),e.k0s())}function de(n,i){if(1&n){const t=e.RV6();e.j41(0,"mat-cell",49)(1,"a",50),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.deleteUser(o.name))}),e.nrm(2,"mat-icon",51),e.k0s(),e.j41(3,"a",52),e.nrm(4,"mat-icon",53),e.k0s(),e.j41(5,"a",54),e.nrm(6,"mat-icon",55),e.k0s()()}if(2&n){const t=i.$implicit;e.R7$(3),e.Y8G("routerLink",e.eq3(2,Z,t.name)),e.R7$(2),e.Y8G("routerLink",e.eq3(4,q,t.name))}}function pe(n,i){1&n&&e.nrm(0,"mat-header-row")}function me(n,i){1&n&&e.nrm(0,"mat-row")}function fe(n,i){if(1&n&&(e.j41(0,"mat-table",28,2),e.qex(2,29),e.DNE(3,ne,2,0,"mat-header-cell",30)(4,re,6,2,"mat-cell",31),e.bVm(),e.qex(5,32),e.DNE(6,oe,2,0,"mat-header-cell",30)(7,ie,2,1,"mat-cell",33),e.bVm(),e.qex(8,34),e.DNE(9,ae,2,0,"mat-header-cell",30)(10,se,6,7,"mat-cell",33),e.bVm(),e.qex(11,35),e.DNE(12,le,2,0,"mat-header-cell",30)(13,ce,2,1,"mat-cell",33),e.bVm(),e.qex(14,36),e.DNE(15,ue,2,0,"mat-header-cell",30)(16,de,7,6,"mat-cell",37),e.bVm(),e.DNE(17,pe,1,0,"mat-header-row",38)(18,me,1,0,"mat-row",39),e.k0s()),2&n){const t=e.XpG();e.Y8G("dataSource",t.dataSource),e.R7$(17),e.Y8G("matHeaderRowDef",t.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",t.displayedColumns)}}let he=(()=>{class n{constructor(t,r,o){this.fuseConfirmationService=t,this.userService=r,this.apiService=o,this.displayedColumns=["name","time_limit","status_voucher","profile","action"],this.dataSource=new h.I6,this.toast=(0,e.WQX)(y.tw)}ngOnInit(){this.fetchData()}fetchData(){var t=this;return(0,p.A)(function*(){try{t.isLoading=!0;const r=yield t.apiService.get("/api/mikrotik/list-voucher",!0);console.log(r),t.dataSource.data=r}catch{t.toast.error("Failed to fetch data","Error"),t.isNotDataFound=!0}finally{t.isLoading=!1}})()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(t){t=(t=t.trim()).toLowerCase(),this.dataSource.filter=t,this.isNotDataFound=0===this.dataSource.filteredData.length}convertBytesToMB(t){return parseFloat(t)/1048576}calculateSpeed(t,r){return this.convertBytesToMB(t)/r*8}deleteUser(t){this.fuseConfirmationService.open({title:"Konfirmasi Hapus",message:`Apakah Anda yakin ingin menghapus akun ${t}?`,actions:{confirm:{label:"Delete"}}}).afterClosed().subscribe(o=>{"confirmed"===o&&this.deleteUserByPhone(t)})}deleteUserByPhone(t){var r=this;return(0,p.A)(function*(){const o=yield r.userService.deleteUsers(t);console.log(o),"Hotspot user deleted successfully"===o.message&&r.toast.error("Delete User Succesfully","Delete User")})()}static{this.\u0275fac=function(r){return new(r||n)(e.rXU(W.G),e.rXU(z.D),e.rXU(E.G))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-table-vouchers"]],viewQuery:function(r,o){if(1&r&&(e.GBs(T.iy,5),e.GBs(k.B4,5)),2&r){let l;e.mGM(l=e.lsd())&&(o.paginator=l.first),e.mGM(l=e.lsd())&&(o.sort=l.first)}},decls:24,vars:12,consts:[["fuseCard",""],["paginator",""],["table",""],[1,"my-4"],[1,"flex","flex-col","shadow-md"],[1,"truncate","text-lg","flex-col","sm:flex-row","font-medium","leading-6","tracking-tight","px-5","py-3","flex","items-start","sm:items-center","w-full","justify-between"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","gap-3"],["for","table-search",1,"sr-only"],[1,"relative","my-2"],[1,"absolute","inset-y-0","rtl:inset-r-0","start-0","flex","items-center","ps-3","pointer-events-none"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"w-4","h-4","text-gray-500","dark:text-gray-400"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"],["type","text","matInput","","placeholder","Search Vouchers",1,"block","p-2","ps-10","text-sm","text-gray-900","border","border-gray-300","rounded-lg","bg-gray-50","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"keyup"],[1,"flex","items-center","gap-2"],["mat-flat-button","",3,"routerLink","color"],[1,"icon-size-5",3,"svgIcon"],[1,"block","ml-2"],["role","status","class","p-5 animate-pulse",4,"ngIf"],[4,"ngIf"],[1,"w-full","overflow-auto","whitespace-nowrap"],["matSort","","class","min-w-160 max-sm:min-w-100",3,"dataSource",4,"ngIf"],[3,"pageSize","length","pageSizeOptions","showFirstLastButtons"],["role","status",1,"p-5","animate-pulse"],[1,"h-6","bg-gray-300","rounded-full","dark:bg-gray-700","w-full","mb-[22px]"],[1,"h-6","bg-gray-300","rounded-full","dark:bg-gray-700","w-full"],[1,"flex","flex-col","items-center"],["src","../../../../../assets/not-found.jpg","alt","not-found.jpg",1,"h-64","bg-cover","bg-center","object-scale-down"],[1,"mt-2","font-semibold","text-xl","-tracking-tighter"],["matSort","",1,"min-w-160","max-sm:min-w-100",3,"dataSource"],["matColumnDef","name"],["mat-sort-header","",4,"matHeaderCellDef"],["class","py-2",4,"matCellDef"],["matColumnDef","time_limit"],[4,"matCellDef"],["matColumnDef","status_voucher"],["matColumnDef","profile"],["matColumnDef","action"],["class","px-2 sm:px-6 flex items-center",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["mat-sort-header",""],[1,"py-2"],[1,"max-sm:pr-4"],[1,"text-base","font-medium"],[1,"font-normal","text-gray-500"],["mat-cell","",1,"border-none"],[1,"flex","items-center"],[1,"h-2","w-2","rounded-full",3,"ngClass"],[1,"ml-3","leading-4"],[1,"px-2","sm:px-6","flex","items-center"],[1,"font-medium","mx-1","text-white","dark:text-white","bg-red-500","hover:cursor-pointer","hover:bg-red-600","rounded","hover:underline",3,"click"],["svgIcon","heroicons_solid:trash",1,"text-white",2,"transform","scale(0.7)"],[1,"font-medium","mx-1","text-white","dark:text-white","bg-blue-500","hover:bg-blue-600","rounded","hover:underline",3,"routerLink"],["svgIcon","heroicons_solid:pencil-square",1,"text-white",2,"transform","scale(0.7)"],[1,"font-medium","mx-1","text-white","dark:text-white","bg-slate-500","hover:bg-slate-600","rounded","hover:underline",3,"routerLink"],["svgIcon","heroicons_solid:eye",1,"text-white",2,"transform","scale(0.7)"]],template:function(r,o){if(1&r){const l=e.RV6();e.j41(0,"main",3)(1,"fuse-card",4,0)(3,"div",5),e.EFF(4," Table Vouchers "),e.j41(5,"div",6)(6,"label",7),e.EFF(7,"Search"),e.k0s(),e.j41(8,"div",8)(9,"div",9),e.qSk(),e.j41(10,"svg",10),e.nrm(11,"path",11),e.k0s()(),e.joV(),e.j41(12,"input",12),e.bIt("keyup",function(w){return e.eBV(l),e.Njj(o.applyFilter(w.target.value))}),e.k0s()(),e.j41(13,"div",13)(14,"a",14),e.nrm(15,"mat-icon",15),e.j41(16,"span",16),e.EFF(17,"Add Vouchers"),e.k0s()()()()(),e.DNE(18,ee,8,0,"div",17)(19,te,5,0,"div",18),e.j41(20,"div",19),e.DNE(21,fe,19,3,"mat-table",20),e.k0s(),e.nrm(22,"mat-paginator",21,1),e.k0s()()}2&r&&(e.R7$(14),e.Y8G("routerLink",e.lJ4(10,J))("color","primary"),e.R7$(),e.Y8G("svgIcon","person_add_alt_1"),e.R7$(3),e.Y8G("ngIf",o.isLoading),e.R7$(),e.Y8G("ngIf",o.isNotDataFound&&!o.isLoading),e.R7$(2),e.Y8G("ngIf",!o.isLoading&&!o.isNotDataFound),e.R7$(),e.Y8G("pageSize",10)("length",o.dataSource.data.length)("pageSizeOptions",e.lJ4(11,K))("showFirstLastButtons",!0))},dependencies:[v.MD,v.YU,v.bT,b.Hl,b.It,V.fS,V.fg,k.NQ,k.B4,k.aE,T.Ou,T.iy,h.tP,h.Zl,h.tL,h.ji,h.cC,h.YV,h.iL,h.KS,h.$R,h.YZ,h.NB,j.m_,j.An,X.Wk,_.$],encapsulation:2})}}return n})();const ge=[{path:"",component:(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-vouchers"]],decls:4,vars:0,consts:[[1,"px-4","w-full","h-fit"]],template:function(r,o){1&r&&(e.j41(0,"div",0),e.nrm(1,"app-table-vouchers")(2,"app-generate-vouchers")(3,"br"),e.k0s())},dependencies:[U,he],encapsulation:2})}}return n})()}]},3366:(D,x,a)=>{a.d(x,{G:()=>C});var p=a(10467),v=a(54438),e=a(51373),m=a(77502),b=a(80507);let C=(()=>{class _{constructor(){this.apiUrl=m.c.apiUrl,this._loadingService=(0,v.WQX)(b.X)}getHeaders(){return{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"X-Tenant-ID":`${localStorage.getItem("accessTenant")}`,Accept:"application/json","Content-Type":"application/json"}}}get(f,d){var c=this;return(0,p.A)(function*(){return c._loadingService.show(),yield e.A.get(c.apiUrl+f,1==d?c.getHeaders():null).then(function(){var s=(0,p.A)(function*(u){return c._loadingService.hide(),u.data});return function(u){return s.apply(this,arguments)}}()).catch(function(){var s=(0,p.A)(function*(u){c._loadingService.hide(),console.log(u)});return function(u){return s.apply(this,arguments)}}())})()}delete(f,d){var c=this;return(0,p.A)(function*(){return c._loadingService.show(),yield e.A.delete(c.apiUrl+f,1==d?c.getHeaders():null).then(function(){var s=(0,p.A)(function*(u){return c._loadingService.hide(),u.data});return function(u){return s.apply(this,arguments)}}()).catch(function(){var s=(0,p.A)(function*(u){c._loadingService.hide(),console.log(u)});return function(u){return s.apply(this,arguments)}}())})()}post(f,d){var c=this;return(0,p.A)(function*(){c._loadingService.show();try{return(yield e.A.post(c.apiUrl+f,d,c.getHeaders())).data}catch(s){return c._loadingService.hide(),{data:null,status:s.response?.status}}finally{c._loadingService.hide()}})()}postWithoutLoadingBar(f,d){var c=this;return(0,p.A)(function*(){try{return(yield e.A.post(c.apiUrl+f,d,c.getHeaders())).data}catch(s){return{data:null,status:s.response?.status}}})()}getWhithoutLoadingBar(f,d){var c=this;return(0,p.A)(function*(){return yield e.A.get(c.apiUrl+f,1==d?c.getHeaders():null).then(function(){var s=(0,p.A)(function*(u){return u.data});return function(u){return s.apply(this,arguments)}}()).catch(function(){var s=(0,p.A)(function*(u){console.log(u)});return function(u){return s.apply(this,arguments)}}())})()}static{this.\u0275fac=function(d){return new(d||_)}}static{this.\u0275prov=v.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()}}]);