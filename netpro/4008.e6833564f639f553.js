"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[4008],{31849:(M,E,t)=>{t.d(E,{$:()=>l});var f=t(14085),_=t(87122),o=t(54438);const b=[[["","fuseCardFront",""]],[["","fuseCardBack",""]],"*",[["","fuseCardExpansion",""]]],y=["[fuseCardFront]","[fuseCardBack]","*","[fuseCardExpansion]"];function D(d,m){1&d&&(o.j41(0,"div",0),o.SdG(1),o.k0s(),o.j41(2,"div",1),o.SdG(3,1),o.k0s())}function h(d,m){1&d&&(o.j41(0,"div",2),o.SdG(1,3),o.k0s()),2&d&&o.Y8G("@expandCollapse",void 0)}function a(d,m){if(1&d&&(o.SdG(0,2),o.DNE(1,h,2,1,"div",2)),2&d){const c=o.XpG();o.R7$(),o.vxM(c.expanded?1:-1)}}let l=(()=>{class d{constructor(){this.expanded=!1,this.face="front",this.flippable=!1}get classList(){return{"fuse-card-expanded":this.expanded,"fuse-card-face-back":this.flippable&&"back"===this.face,"fuse-card-face-front":this.flippable&&"front"===this.face,"fuse-card-flippable":this.flippable}}ngOnChanges(c){"expanded"in c&&(this.expanded=(0,f.he)(c.expanded.currentValue)),"flippable"in c&&(this.flippable=(0,f.he)(c.flippable.currentValue))}static{this.\u0275fac=function(e){return new(e||d)}}static{this.\u0275cmp=o.VBU({type:d,selectors:[["fuse-card"]],hostVars:2,hostBindings:function(e,U){2&e&&o.HbH(U.classList)},inputs:{expanded:"expanded",face:"face",flippable:"flippable"},exportAs:["fuseCard"],features:[o.OA$],ngContentSelectors:y,decls:2,vars:2,consts:[[1,"fuse-card-front"],[1,"fuse-card-back"],[1,"fuse-card-expansion"]],template:function(e,U){1&e&&(o.NAR(b),o.DNE(0,D,4,0)(1,a,2,1)),2&e&&(o.vxM(U.flippable?0:-1),o.R7$(),o.vxM(U.flippable?-1:1))},styles:["fuse-card{position:relative;display:flex;overflow:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable{border-radius:0;overflow:visible;transform-style:preserve-3d;transition:transform 1s;perspective:600px;background:transparent;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-front{visibility:hidden;opacity:0;transform:rotateY(180deg)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-back{visibility:visible;opacity:1;transform:rotateY(360deg)}fuse-card.fuse-card-flippable .fuse-card-front,fuse-card.fuse-card-flippable .fuse-card-back{display:flex;flex-direction:column;flex:1 1 auto;z-index:10;transition:transform .5s ease-out 0s,visibility 0s ease-in .2s,opacity 0s ease-in .2s;backface-visibility:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable .fuse-card-front{position:relative;opacity:1;visibility:visible;transform:rotateY(0);overflow:hidden}fuse-card.fuse-card-flippable .fuse-card-back{position:absolute;inset:0;opacity:0;visibility:hidden;transform:rotateY(180deg);overflow:hidden auto}\n"],encapsulation:2,data:{animation:_.X}})}}return d})()},74008:(M,E,t)=>{t.r(E),t.d(E,{default:()=>ae});var f=t(60177),_=t(89417),o=t(88834),b=t(30636),y=t(99213),D=t(59042),h=t(96695),a=t(2042),l=t(9159),d=t(49192),m=t(44742),c=t(10467),e=t(54438),U=t(31849),I=t(45794),T=t(59115),P=t(82798),j=t(82765),x=t(22080),k=t(25873),u=t(21413),g=t(56977),C=t(46601),F=t(3366),w=t(75351),A=t(74157);const R=()=>({disableClose:!0}),O=()=>[5,10,20],B=s=>["edit-user",s],L=s=>["view-detail",s];function G(s,v){if(1&s){const r=e.RV6();e.j41(0,"mat-checkbox",33),e.mxI("ngModelChange",function(n){const p=e.eBV(r).$implicit;return e.DH7(p.checked,n)||(p.checked=n),e.Njj(n)}),e.bIt("click",function(n){return e.eBV(r),e.Njj(n.stopPropagation())})("change",function(){e.eBV(r);const n=e.XpG();return e.Njj(n.applyFilterUserProfile())}),e.EFF(1),e.k0s()}if(2&s){const r=v.$implicit;e.R50("ngModel",r.checked),e.R7$(),e.JRh(r.name)}}function $(s,v){1&s&&(e.j41(0,"div",34),e.nrm(1,"div",35)(2,"div",35)(3,"div",35)(4,"div",35)(5,"div",35)(6,"div",35)(7,"div",36),e.k0s())}function N(s,v){1&s&&(e.j41(0,"div")(1,"div",37),e.nrm(2,"img",38),e.j41(3,"h1",39),e.EFF(4,"Data Not Found"),e.k0s()()())}function W(s,v){1&s&&(e.j41(0,"mat-header-cell",51),e.EFF(1," Name "),e.k0s())}function V(s,v){if(1&s&&(e.j41(0,"mat-cell",52)(1,"h1",53),e.EFF(2),e.k0s()()),2&s){const r=v.$implicit;e.R7$(2),e.JRh(r.name)}}function Y(s,v){1&s&&(e.j41(0,"mat-header-cell",51),e.EFF(1," Password "),e.k0s())}function K(s,v){if(1&s&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&s){const r=v.$implicit;e.R7$(),e.SpI(" ",r.password,"")}}function H(s,v){1&s&&(e.j41(0,"mat-header-cell",51),e.EFF(1," Profile "),e.k0s())}function X(s,v){if(1&s&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&s){const r=v.$implicit;e.R7$(),e.SpI(" ",r.profile," ")}}function Q(s,v){1&s&&(e.j41(0,"mat-header-cell",51),e.EFF(1," Action "),e.k0s())}function J(s,v){if(1&s){const r=e.RV6();e.j41(0,"mat-cell",54)(1,"a",55),e.bIt("click",function(){const n=e.eBV(r).$implicit,p=e.XpG(2);return e.Njj(p.deleteUser(n.name))}),e.nrm(2,"mat-icon",56),e.k0s(),e.j41(3,"a",57),e.nrm(4,"mat-icon",58),e.k0s(),e.j41(5,"a",59),e.nrm(6,"mat-icon",60),e.k0s()()}if(2&s){const r=v.$implicit;e.R7$(3),e.Y8G("routerLink",e.eq3(2,B,r.name)),e.R7$(2),e.Y8G("routerLink",e.eq3(4,L,r.name))}}function z(s,v){1&s&&e.nrm(0,"mat-header-row")}function Z(s,v){1&s&&e.nrm(0,"mat-row")}function q(s,v){if(1&s&&(e.j41(0,"mat-table",40,4),e.qex(2,41),e.DNE(3,W,2,0,"mat-header-cell",42)(4,V,3,1,"mat-cell",43),e.bVm(),e.qex(5,44),e.DNE(6,Y,2,0,"mat-header-cell",42)(7,K,2,1,"mat-cell",45),e.bVm(),e.qex(8,46),e.DNE(9,H,2,0,"mat-header-cell",42)(10,X,2,1,"mat-cell",45),e.bVm(),e.qex(11,47),e.DNE(12,Q,2,0,"mat-header-cell",42)(13,J,7,6,"mat-cell",48),e.bVm(),e.DNE(14,z,1,0,"mat-header-row",49)(15,Z,1,0,"mat-row",50),e.k0s()),2&s){const r=e.XpG();e.Y8G("dataSource",r.dataSource),e.R7$(14),e.Y8G("matHeaderRowDef",r.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",r.displayedColumns)}}let ee=(()=>{class s{constructor(r,i,n,p){this.fuseConfirmationService=r,this.apiService=i,this._matDialog=n,this._tableUserService=p,this.displayedColumns=["name","password","profile","action"],this.dataSource=new l.I6,this.isLoadingDelete=!1,this.toast=(0,e.WQX)(I.tw),this.filterValues={profile:[],search:""},this.profileItems=[],this._unsubscribeAll=new u.B}ngOnInit(){this._tableUserService.fetchData().pipe((0,g.Q)(this._unsubscribeAll)).subscribe(r=>{this.dataSource.data=r.users.map(i=>({...i,profile:i.profile??"Default Profile"}))})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}setUpData(){var r=this;return(0,c.A)(function*(){try{r.isLoading=!0,r._tableUserService.hotspotUser$.pipe((0,g.Q)(r._unsubscribeAll)).subscribe(n=>{r.dataSource.data=n.users.map(p=>({...p,profile:p.profile??"Default Profile"}))}),(yield r.apiService.get("/api/mikrotik/get-profile",!0)).profiles.map(n=>{r.profileItems.push({name:n.profile_name,checked:!1})})}catch{r.toast.error("Failed to fetch data","Error"),r.isNotDataFound=!0}finally{r.isLoading=!1}})()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}convertBytesToMB(r){return parseFloat(r)/1048576}calculateSpeed(r,i){return this.convertBytesToMB(r)/i*8}addNewUsers(){this._matDialog.open(k.X,{width:window.innerWidth<600?"90%":"50%",maxWidth:"100vw"})}deleteUser(r){this.fuseConfirmationService.open({title:"Konfirmasi Hapus",message:`Apakah Anda yakin ingin menghapus akun ${r}?`,actions:{confirm:{label:"Delete"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this.deleteUserByPhone(r)})}deleteUserByPhone(r){var i=this;return(0,c.A)(function*(){try{i.isLoadingDelete=!0,"Hotspot user deleted successfully"===(yield i.apiService.delete(`/api/mikrotik/deleteExpiredHotspotUsersByPhone/${r}`,!0)).message&&(i.toast.error("Delete User Succesfully","Delete User"),i._tableUserService.fetchData().pipe((0,g.Q)(i._unsubscribeAll)).subscribe(),i.isLoadingDelete=!1)}catch(n){throw i.toast.error("Error Delete Users","Delete User"),i.isLoadingDelete=!1,n}})()}applyFilter(){this.dataSource.filterPredicate=(r,i)=>{let n=JSON.parse(i),p=""===n.search||r.name.toLowerCase().includes(n.search)||r.profile.toLowerCase().includes(n.search),S=0===n.profile.length||n.profile.includes(r.profile.toLowerCase());return p&&S},this.dataSource.filter=JSON.stringify(this.filterValues),this.isNotDataFound=0===this.dataSource.filteredData.length}applySearchFilter(r){this.filterValues.search=r.trim().toLowerCase(),this.applyFilter()}applyFilterUserProfile(){this.filterValues.profile=this.profileItems.filter(r=>r.checked).map(r=>r.name.toLowerCase()),this.applyFilter()}static{this.\u0275fac=function(i){return new(i||s)(e.rXU(C.G),e.rXU(F.G),e.rXU(w.bZ),e.rXU(A.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-table-users"]],viewQuery:function(i,n){if(1&i&&(e.GBs(h.iy,5),e.GBs(a.B4,5)),2&i){let p;e.mGM(p=e.lsd())&&(n.paginator=p.first),e.mGM(p=e.lsd())&&(n.sort=p.first)}},decls:39,vars:16,consts:[["fuseCard",""],["menu","matMenu"],["products","matMenu"],["paginator",""],["table",""],["message","Delete Users...","spinner","circular",3,"isOpen"],[1,"my-4","mb-10"],[1,"flex","flex-col","shadow-md","border-[1px]"],[1,"truncate","text-lg","flex-col","sm:flex-row","font-medium","leading-6","tracking-tight","px-5","py-3","flex","items-start","sm:items-center","w-full","justify-between"],["for","table-search",1,"sr-only"],[1,"relative","my-2"],[1,"absolute","inset-y-0","rtl:inset-r-0","start-0","flex","items-center","ps-3","pointer-events-none"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"w-4","h-4","text-gray-500","dark:text-gray-400"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"],["type","text","matInput","","placeholder","Search Vouchers",1,"block","p-2","ps-10","text-sm","text-gray-900","border","border-gray-300","rounded-lg","bg-gray-50","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"keyup"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","gap-3"],[1,"flex","items-center","gap-2"],["mat-flat-button","",3,"click","color"],[1,"icon-size-5",3,"svgIcon"],[1,"block","ml-2"],[1,"flex","items-center","gap-2","p-2.5","rounded-full","px-3","sm:px-5","border-[1px]","text-white",3,"matMenuTriggerFor"],["svgIcon","filter_alt"],[1,"max-sm:hidden","text-base","font-semibold","text-black"],["svgIcon","keyboard_arrow_down"],["mat-menu-item","",3,"matMenuTriggerFor","matMenuTriggerData"],[1,"px-5","py-3"],[1,"font-semibold","mb-2"],["class","h-full",3,"ngModel","ngModelChange","click","change",4,"ngFor","ngForOf"],["role","status","class","p-5 animate-pulse",4,"ngIf"],[4,"ngIf"],[1,"w-full","overflow-auto","whitespace-nowrap"],["matSort","","class","min-w-160 max-sm:min-w-100",3,"dataSource",4,"ngIf"],[3,"pageSize","length","pageSizeOptions","showFirstLastButtons"],[1,"h-full",3,"ngModelChange","click","change","ngModel"],["role","status",1,"p-5","animate-pulse"],[1,"h-6","bg-gray-300","rounded-full","dark:bg-gray-700","w-full","mb-[22px]"],[1,"h-6","bg-gray-300","rounded-full","dark:bg-gray-700","w-full"],[1,"flex","flex-col","items-center"],["src","../../../../../assets/not-found.jpg","alt","not-found.jpg",1,"h-64","bg-cover","bg-center","object-scale-down"],[1,"mt-2","font-semibold","text-xl","-tracking-tighter"],["matSort","",1,"min-w-160","max-sm:min-w-100",3,"dataSource"],["matColumnDef","name"],["mat-sort-header","",4,"matHeaderCellDef"],["class","py-2",4,"matCellDef"],["matColumnDef","password"],[4,"matCellDef"],["matColumnDef","profile"],["matColumnDef","action"],["class","px-2 sm:px-6 flex items-center",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["mat-sort-header",""],[1,"py-2"],[1,"text-base","font-medium"],[1,"px-2","sm:px-6","flex","items-center"],[1,"font-medium","mx-1","text-white","dark:text-white","bg-red-500","hover:cursor-pointer","hover:bg-red-600","rounded","hover:underline",3,"click"],["svgIcon","heroicons_solid:trash",1,"text-white",2,"transform","scale(0.7)"],[1,"font-medium","mx-1","text-white","dark:text-white","bg-blue-500","hover:bg-blue-600","rounded","hover:underline",3,"routerLink"],["svgIcon","heroicons_solid:pencil-square",1,"text-white",2,"transform","scale(0.7)"],[1,"font-medium","mx-1","text-white","dark:text-white","bg-slate-500","hover:bg-slate-600","rounded","hover:underline",3,"routerLink"],["svgIcon","heroicons_solid:eye",1,"text-white",2,"transform","scale(0.7)"]],template:function(i,n){if(1&i){const p=e.RV6();e.nrm(0,"ion-loading",5),e.j41(1,"main",6)(2,"fuse-card",7,0)(4,"div",8)(5,"label",9),e.EFF(6,"Search"),e.k0s(),e.j41(7,"div",10)(8,"div",11),e.qSk(),e.j41(9,"svg",12),e.nrm(10,"path",13),e.k0s()(),e.joV(),e.j41(11,"input",14),e.bIt("keyup",function(re){return e.eBV(p),e.Njj(n.applySearchFilter(re.target.value))}),e.k0s()(),e.j41(12,"div",15)(13,"div",16)(14,"a",17),e.bIt("click",function(){return e.eBV(p),e.Njj(n.addNewUsers())}),e.nrm(15,"mat-icon",18),e.j41(16,"span",19),e.EFF(17,"Add Users"),e.k0s()()(),e.j41(18,"button",20),e.nrm(19,"mat-icon",21),e.j41(20,"span",22),e.EFF(21,"Filter"),e.k0s(),e.nrm(22,"mat-icon",23),e.k0s(),e.j41(23,"mat-menu",null,1)(25,"button",24),e.EFF(26,"User Profile"),e.k0s(),e.j41(27,"mat-menu",null,2)(29,"div",25)(30,"h1",26),e.EFF(31,"Choose User Profile"),e.k0s()(),e.DNE(32,G,2,2,"mat-checkbox",27),e.k0s()()()(),e.DNE(33,$,8,0,"div",28)(34,N,5,0,"div",29),e.j41(35,"div",30),e.DNE(36,q,16,3,"mat-table",31),e.k0s(),e.nrm(37,"mat-paginator",32,3),e.k0s()()}if(2&i){const p=e.sdS(24),S=e.sdS(28);e.Y8G("isOpen",n.isLoadingDelete),e.R7$(14),e.Y8G("color","primary"),e.R7$(),e.Y8G("svgIcon","person_add_alt_1"),e.R7$(3),e.Y8G("matMenuTriggerFor",p),e.R7$(7),e.Y8G("matMenuTriggerFor",S)("matMenuTriggerData",e.lJ4(14,R)),e.R7$(7),e.Y8G("ngForOf",n.profileItems),e.R7$(),e.Y8G("ngIf",n.isLoading),e.R7$(),e.Y8G("ngIf",n.isNotDataFound&&!n.isLoading),e.R7$(2),e.Y8G("ngIf",!n.isLoading&&!n.isNotDataFound),e.R7$(),e.Y8G("pageSize",10)("length",n.dataSource.data.length)("pageSizeOptions",e.lJ4(15,O))("showFirstLastButtons",!0)}},dependencies:[f.MD,f.Sq,f.bT,o.Hl,o.It,D.fS,D.fg,a.NQ,a.B4,a.aE,h.Ou,h.iy,l.tP,l.Zl,l.tL,l.ji,l.cC,l.YV,l.iL,l.KS,l.$R,l.YZ,l.NB,y.m_,y.An,d.Wk,U.$,T.Cn,T.kk,T.fb,T.Cp,P.Ve,j.g7,j.So,_.YN,_.BC,_.vS,x.rQ],encapsulation:2})}}return s})();const te=()=>[".."],ae=[{path:"",component:(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-customer"]],decls:8,vars:2,consts:[[1,"w-full","h-fit","mb-10","flex","flex-col"],["aria-label","Breadcrumb",1,"flex","shadow","px-5","py-3","text-gray-700","borde","bg-white","dark:bg-slate-800"],[1,"inline-flex","items-center","space-x-1","md:space-x-2","rtl:space-x-reverse"],[1,"inline-flex","items-center"],[1,"inline-flex","items-center","text-sm","font-medium","text-gray-700","hover:text-blue-600","dark:text-gray-400","dark:hover:text-white",3,"routerLink"],[1,"w-full","px-4"]],template:function(i,n){1&i&&(e.j41(0,"main",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),e.EFF(5," Hotspot Users "),e.k0s()()()(),e.j41(6,"div",5),e.nrm(7,"app-table-users"),e.k0s()()),2&i&&(e.R7$(4),e.Y8G("routerLink",e.lJ4(1,te)))},dependencies:[m.bv,m.oY,f.MD,o.Hl,d.Wk,h.Ou,b.RG,l.tP,y.m_,D.fS,a.NQ,_.X1,ee],encapsulation:2})}}return s})()},{path:"view-detail/:name",loadChildren:()=>t.e(7617).then(t.bind(t,17617))},{path:"add-user",loadChildren:()=>t.e(5982).then(t.bind(t,65982))},{path:"edit-user/:name",loadChildren:()=>t.e(4377).then(t.bind(t,34377))}]},25873:(M,E,t)=>{t.d(E,{X:()=>j});var f=t(10467),_=t(60177),o=t(89417),b=t(30636),y=t(99213),D=t(59042),h=t(22080),a=t(54438),l=t(70600),d=t(49192),m=t(3366),c=t(45794),e=t(46601),U=t(74157);function I(x,k){1&x&&(a.j41(0,"mat-error"),a.EFF(1,"Unique Number Voucher Required"),a.k0s())}function T(x,k){1&x&&(a.j41(0,"mat-error"),a.EFF(1,"Format NIK / Nomer HP tidak valid (harus 10-12 digit angka)"),a.k0s())}function P(x,k){if(1&x&&(a.j41(0,"option",14),a.EFF(1),a.k0s()),2&x){const u=k.$implicit;a.Y8G("value",u.profile_name),a.R7$(),a.SpI(" ",u.profile_name," ")}}let j=(()=>{class x{constructor(u,g,C,F,w,A,R){this.platform=u,this.router=g,this.fb=C,this._apiService=F,this._toast=w,this.fuseConfirmationService=A,this._tableUsersService=R,this.roleDatas=[],this.isLoading=!1}ngOnInit(){this.userForm=this.fb.group({no_hp:["",[o.k0.required]],profile:["",o.k0.required]}),this.platform.backButton.subscribeWithPriority(10,()=>{this.router.navigate(["/dashboard/customer"])}),this.userForm.patchValue({profile:"default"}),this.getRole()}getRole(){var u=this;return(0,f.A)(function*(){const g=yield u._apiService.get("/api/mikrotik/get-profile",!0);u.roleDatas=g.profiles})()}onSubmit(){var u=this;return(0,f.A)(function*(){try{if(u.isLoading=!0,u.userForm.valid){const g=new FormData;g.append("no_hp",u.userForm.value.no_hp),g.append("name",u.userForm.value.name),g.append("profile",u.userForm.value.profile);const C=yield u._apiService.post("/api/mikrotik/add-Hotspot-User",g);console.log(C),"User baru ditambahkan tanpa expiry time."!==C.message?u.fuseConfirmationService.open({title:"Notification",message:"The user already exists on the server. Would you like to create another user anyway?",icon:{color:"error"},actions:{confirm:{label:"Confirmation",color:"warn"}}}):(u.userForm.reset(),u.userForm.disable(),u._toast.success("success","Form submitted successfully!"),u._tableUsersService.fetchData().subscribe())}else u._toast.info("error","Please fill in all required fields!")}catch{u._toast.error("Failed to submit form","Error"),u.isLoading=!1}finally{u.isLoading=!1}})()}preventInvalidChars(u){u.target.value=u.target.value.replace(/[^0-9]/g,"")}static{this.\u0275fac=function(g){return new(g||x)(a.rXU(l.OD),a.rXU(d.Ix),a.rXU(o.ok),a.rXU(m.G),a.rXU(c.tw),a.rXU(e.G),a.rXU(U.w))}}static{this.\u0275cmp=a.VBU({type:x,selectors:[["app-form-add"]],decls:20,vars:7,consts:[[1,"h-full","w-full"],[1,"w-full"],["svgIcon","mat_solid:close",1,"self-end"],["message","Sumbitting Form...","spinner","circular",3,"isOpen"],[1,""],[1,"bg-card","mt-2","flex","flex-col","overflow-hidden","rounded-2xl","p-8","pb-4",3,"formGroup"],["floatLabel","always",1,"w-full","mb-2"],["matInput","","formControlName","no_hp","type","text",3,"placeholder"],[4,"ngIf"],[1,"gt-xs:pr-3","mb-2","flex-auto"],["matNativeControl","","formControlName","profile"],[3,"value",4,"ngFor","ngForOf"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],[1,"bg-green-600","text-white","p-2","rounded",3,"click"],[3,"value"]],template:function(g,C){if(1&g&&(a.j41(0,"div",0)(1,"div",1),a.nrm(2,"mat-icon",2),a.k0s(),a.nrm(3,"ion-loading",3),a.j41(4,"div",4)(5,"form",5)(6,"mat-form-field",6)(7,"mat-label"),a.EFF(8,"Unique Number Voucher"),a.k0s(),a.nrm(9,"input",7),a.DNE(10,I,2,0,"mat-error",8)(11,T,2,0,"mat-error",8),a.k0s(),a.j41(12,"mat-form-field",9)(13,"mat-label"),a.EFF(14,"User Profiles"),a.k0s(),a.j41(15,"select",10),a.DNE(16,P,2,2,"option",11),a.k0s(),a.nrm(17,"mat-icon",12),a.k0s(),a.j41(18,"button",13),a.bIt("click",function(){return C.onSubmit()}),a.EFF(19," Add Users "),a.k0s()()()()),2&g){let F,w;a.R7$(3),a.Y8G("isOpen",C.isLoading),a.R7$(2),a.Y8G("formGroup",C.userForm),a.R7$(4),a.Y8G("placeholder","Unique Number Voucher"),a.R7$(),a.Y8G("ngIf",null==(F=C.userForm.get("no_hp"))?null:F.hasError("required")),a.R7$(),a.Y8G("ngIf",null==(w=C.userForm.get("no_hp"))?null:w.hasError("pattern")),a.R7$(5),a.Y8G("ngForOf",C.roleDatas),a.R7$(),a.Y8G("svgIcon","heroicons_solid:map-pin")}},dependencies:[b.RG,b.rl,b.nJ,b.TL,b.JW,o.YN,o.qT,o.xH,o.y7,o.me,o.wz,o.BC,o.cb,D.fS,D.fg,o.X1,o.j4,o.JD,_.MD,_.Sq,_.bT,y.m_,y.An,h.rQ],encapsulation:2})}}return x})()},74157:(M,E,t)=>{t.d(E,{w:()=>D});var f=t(54438),_=t(3366),o=t(86648),b=t(88141),y=t(92771);let D=(()=>{class h{constructor(){this._hotspotUser=new y.m,this._apiService=(0,f.WQX)(_.G)}set hotspotUser(l){this._hotspotUser.next(l)}get hotspotUser$(){return this._hotspotUser.asObservable()}fetchData(){return(0,o.H)(this._apiService.get("/api/mikrotik/get-data-users",!0)).pipe((0,b.M)(l=>{console.log(l),this._hotspotUser.next(l)}))}static{this.\u0275fac=function(d){return new(d||h)}}static{this.\u0275prov=f.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()},3366:(M,E,t)=>{t.d(E,{G:()=>D});var f=t(10467),_=t(54438),o=t(51373),b=t(77502),y=t(80507);let D=(()=>{class h{constructor(){this.apiUrl=b.c.apiUrl,this._loadingService=(0,_.WQX)(y.X)}getHeaders(){return{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"X-Tenant-ID":`${localStorage.getItem("accessTenant")}`,Accept:"application/json","Content-Type":"application/json"}}}get(l,d){var m=this;return(0,f.A)(function*(){return m._loadingService.show(),yield o.A.get(m.apiUrl+l,1==d?m.getHeaders():null).then(function(){var c=(0,f.A)(function*(e){return m._loadingService.hide(),e.data});return function(e){return c.apply(this,arguments)}}()).catch(function(){var c=(0,f.A)(function*(e){m._loadingService.hide(),console.log(e)});return function(e){return c.apply(this,arguments)}}())})()}delete(l,d){var m=this;return(0,f.A)(function*(){return m._loadingService.show(),yield o.A.delete(m.apiUrl+l,1==d?m.getHeaders():null).then(function(){var c=(0,f.A)(function*(e){return m._loadingService.hide(),e.data});return function(e){return c.apply(this,arguments)}}()).catch(function(){var c=(0,f.A)(function*(e){m._loadingService.hide(),console.log(e)});return function(e){return c.apply(this,arguments)}}())})()}post(l,d){var m=this;return(0,f.A)(function*(){m._loadingService.show();try{return(yield o.A.post(m.apiUrl+l,d,m.getHeaders())).data}catch(c){return m._loadingService.hide(),{data:null,status:c.response?.status}}finally{m._loadingService.hide()}})()}postWithoutLoadingBar(l,d){var m=this;return(0,f.A)(function*(){try{return(yield o.A.post(m.apiUrl+l,d,m.getHeaders())).data}catch(c){return{data:null,status:c.response?.status}}})()}getWhithoutLoadingBar(l,d){var m=this;return(0,f.A)(function*(){return yield o.A.get(m.apiUrl+l,1==d?m.getHeaders():null).then(function(){var c=(0,f.A)(function*(e){return e.data});return function(e){return c.apply(this,arguments)}}()).catch(function(){var c=(0,f.A)(function*(e){console.log(e)});return function(e){return c.apply(this,arguments)}}())})()}static{this.\u0275fac=function(d){return new(d||h)}}static{this.\u0275prov=_.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()}}]);