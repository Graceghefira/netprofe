"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[5388],{31849:($,w,r)=>{r.d(w,{$:()=>t});var _=r(14085),p=r(87122),e=r(54438);const n=[[["","fuseCardFront",""]],[["","fuseCardBack",""]],"*",[["","fuseCardExpansion",""]]],F=["[fuseCardFront]","[fuseCardBack]","*","[fuseCardExpansion]"];function v(s,C){1&s&&(e.j41(0,"div",0),e.SdG(1),e.k0s(),e.j41(2,"div",1),e.SdG(3,1),e.k0s())}function x(s,C){1&s&&(e.j41(0,"div",2),e.SdG(1,3),e.k0s()),2&s&&e.Y8G("@expandCollapse",void 0)}function l(s,C){if(1&s&&(e.SdG(0,2),e.DNE(1,x,2,1,"div",2)),2&s){const b=e.XpG();e.R7$(),e.vxM(b.expanded?1:-1)}}let t=(()=>{class s{constructor(){this.expanded=!1,this.face="front",this.flippable=!1}get classList(){return{"fuse-card-expanded":this.expanded,"fuse-card-face-back":this.flippable&&"back"===this.face,"fuse-card-face-front":this.flippable&&"front"===this.face,"fuse-card-flippable":this.flippable}}ngOnChanges(b){"expanded"in b&&(this.expanded=(0,_.he)(b.expanded.currentValue)),"flippable"in b&&(this.flippable=(0,_.he)(b.flippable.currentValue))}static{this.\u0275fac=function(E){return new(E||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["fuse-card"]],hostVars:2,hostBindings:function(E,y){2&E&&e.HbH(y.classList)},inputs:{expanded:"expanded",face:"face",flippable:"flippable"},exportAs:["fuseCard"],features:[e.OA$],ngContentSelectors:F,decls:2,vars:2,consts:[[1,"fuse-card-front"],[1,"fuse-card-back"],[1,"fuse-card-expansion"]],template:function(E,y){1&E&&(e.NAR(n),e.DNE(0,v,4,0)(1,l,2,1)),2&E&&(e.vxM(y.flippable?0:-1),e.R7$(),e.vxM(y.flippable?-1:1))},styles:["fuse-card{position:relative;display:flex;overflow:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable{border-radius:0;overflow:visible;transform-style:preserve-3d;transition:transform 1s;perspective:600px;background:transparent;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-front{visibility:hidden;opacity:0;transform:rotateY(180deg)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-back{visibility:visible;opacity:1;transform:rotateY(360deg)}fuse-card.fuse-card-flippable .fuse-card-front,fuse-card.fuse-card-flippable .fuse-card-back{display:flex;flex-direction:column;flex:1 1 auto;z-index:10;transition:transform .5s ease-out 0s,visibility 0s ease-in .2s,opacity 0s ease-in .2s;backface-visibility:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable .fuse-card-front{position:relative;opacity:1;visibility:visible;transform:rotateY(0);overflow:hidden}fuse-card.fuse-card-flippable .fuse-card-back{position:absolute;inset:0;opacity:0;visibility:hidden;transform:rotateY(180deg);overflow:hidden auto}\n"],encapsulation:2,data:{animation:p.X}})}}return s})()},2359:($,w,r)=>{r.d(w,{X:()=>P});var _=r(10467),p=r(60177),e=r(89417),n=r(75351),F=r(30636),v=r(99213),x=r(59042),l=r(22080),t=r(54438),s=r(45794),C=r(3366),b=r(73387);const E=f=>({"py-2":f});function y(f,R){1&f&&(t.j41(0,"mat-error"),t.EFF(1,"Nama profile wajib diisi"),t.k0s())}function I(f,R){1&f&&(t.j41(0,"mat-error"),t.EFF(1,"Pembagian user wajib diisi"),t.k0s())}function B(f,R){1&f&&(t.j41(0,"mat-error"),t.EFF(1,"Upload wajib diisi"),t.k0s())}function o(f,R){1&f&&(t.j41(0,"mat-error"),t.EFF(1,"Upload wajib diisi"),t.k0s())}function h(f,R){1&f&&(t.j41(0,"mat-error"),t.EFF(1,"Direct Link wajib diisi"),t.k0s())}let P=(()=>{class f{constructor(u,k,m,U,j,T,M){this.fb=u,this._toast=k,this._apiService=m,this._tableUserProfileService=U,this.dialogRef=j,this._toastService=T,this.data=M,this.isLoading=!1}ngOnInit(){this.roleForm=this.fb.group({profile_name:["",[e.k0.required]],shared_users:["",[e.k0.required,e.k0.pattern(/^\d+$/)]],upload:["",[e.k0.required,e.k0.pattern(/^\d+M$/)]],download:["",[e.k0.required,e.k0.pattern(/^\d+M$/)]],link:["",[e.k0.required,e.k0.pattern(/^(https?:\/\/)?([\w-]+\.)*[\w-]+\.[a-z]{2,}(\/[\w-./?%&=]*)?$/i)]]})}onNoClick(){this.dialogRef.close()}onSubmit(){var u=this;return(0,_.A)(function*(){try{if(u.isLoading=!0,u.roleForm.valid){const k=u.roleForm.get("profile_name")?.value,m=u.roleForm.get("shared_users")?.value,U=u.roleForm.get("upload")?.value,j=u.roleForm.get("download")?.value,T=u.roleForm.get("link")?.value,L={profile_name:k,shared_users:m,rate_limit:`${U}/${j}`,link:T};(yield u._apiService.post("/api/mikrotik/set-profile",L))&&(u.roleForm.reset(),u.dialogRef.close(),u._tableUserProfileService.fetchData())}else u._toastService.info("Please Fill in All Required Fields!","Information")}catch{u._toast.error("Gagal menambahkan role")}finally{u.isLoading=!1}})()}static{this.\u0275fac=function(k){return new(k||f)(t.rXU(e.ok),t.rXU(s.tw),t.rXU(C.G),t.rXU(b.Q),t.rXU(n.CP),t.rXU(s.tw),t.rXU(n.Vh))}}static{this.\u0275cmp=t.VBU({type:f,selectors:[["app-form-add"]],decls:36,vars:27,consts:[[1,"h-full","w-full"],[1,"flex","justify-between","p-2"],[1,"text-xl","font-semibold","uppercase","opacity-50"],[3,"click"],["svgIcon","mat_solid:close",1,"cursor-pointer"],["message","Sumbitting Form...","spinner","circular",3,"isOpen"],[1,"p-3"],[1,"bg-card","flex","flex-col","overflow-hidden","rounded-2xl","px-4","py-4","pb-4",3,"formGroup"],["appearance","outline",1,"w-full",3,"ngClass"],["matInput","","formControlName","profile_name","type","text",3,"placeholder"],[4,"ngIf"],["matInput","","type","number","formControlName","shared_users",3,"placeholder"],["matInput","","formControlName","upload",3,"placeholder"],["matInput","","formControlName","download",3,"placeholder"],["matInput","","formControlName","link",3,"placeholder"],[1,"bg-green-600","text-white","p-2","rounded",3,"click"]],template:function(k,m){if(1&k&&(t.j41(0,"div",0)(1,"div",1)(2,"h1",2),t.EFF(3,"Add User Profile"),t.k0s(),t.j41(4,"a",3),t.bIt("click",function(){return m.onNoClick()}),t.nrm(5,"mat-icon",4),t.k0s()(),t.nrm(6,"ion-loading",5),t.j41(7,"div",6)(8,"form",7)(9,"mat-form-field",8)(10,"mat-label"),t.EFF(11,"Profile Name"),t.k0s(),t.nrm(12,"input",9),t.DNE(13,y,2,0,"mat-error",10),t.k0s(),t.j41(14,"mat-form-field",8)(15,"mat-label"),t.EFF(16,"Shared User"),t.k0s(),t.nrm(17,"input",11),t.DNE(18,I,2,0,"mat-error",10),t.k0s(),t.j41(19,"mat-form-field",8)(20,"mat-label"),t.EFF(21,"Upload"),t.k0s(),t.nrm(22,"input",12),t.DNE(23,B,2,0,"mat-error",10),t.k0s(),t.j41(24,"mat-form-field",8)(25,"mat-label"),t.EFF(26,"Download"),t.k0s(),t.nrm(27,"input",13),t.DNE(28,o,2,0,"mat-error",10),t.k0s(),t.j41(29,"mat-form-field",8)(30,"mat-label"),t.EFF(31,"Direct Link"),t.k0s(),t.nrm(32,"input",14),t.DNE(33,h,2,0,"mat-error",10),t.k0s(),t.j41(34,"button",15),t.bIt("click",function(){return m.onSubmit()}),t.EFF(35," Add User Profile "),t.k0s()()()()),2&k){let U,j,T,M,L,O,S,G,A,N;t.R7$(6),t.Y8G("isOpen",m.isLoading),t.R7$(2),t.Y8G("formGroup",m.roleForm),t.R7$(),t.Y8G("ngClass",t.eq3(17,E,(null==(U=m.roleForm.get("profile_name"))?null:U.invalid)&&(null==(U=m.roleForm.get("profile_name"))?null:U.touched))),t.R7$(3),t.Y8G("placeholder","Profile Name"),t.R7$(),t.Y8G("ngIf",null==(j=m.roleForm.get("profile_name"))?null:j.hasError("required")),t.R7$(),t.Y8G("ngClass",t.eq3(19,E,(null==(T=m.roleForm.get("shared_users"))?null:T.invalid)&&(null==(T=m.roleForm.get("shared_users"))?null:T.touched))),t.R7$(3),t.Y8G("placeholder","How many accounts can be connected? (e.g. 10)"),t.R7$(),t.Y8G("ngIf",null==(M=m.roleForm.get("shared_users"))?null:M.hasError("required")),t.R7$(),t.Y8G("ngClass",t.eq3(21,E,(null==(L=m.roleForm.get("upload"))?null:L.invalid)&&(null==(L=m.roleForm.get("upload"))?null:L.touched))),t.R7$(3),t.Y8G("placeholder","Upload Limit (e.g. 10M)"),t.R7$(),t.Y8G("ngIf",null==(O=m.roleForm.get("upload"))?null:O.hasError("required")),t.R7$(),t.Y8G("ngClass",t.eq3(23,E,(null==(S=m.roleForm.get("download"))?null:S.invalid)&&(null==(S=m.roleForm.get("download"))?null:S.touched))),t.R7$(3),t.Y8G("placeholder","Download Limit (e.g. 10M)"),t.R7$(),t.Y8G("ngIf",null==(G=m.roleForm.get("download"))?null:G.hasError("required")),t.R7$(),t.Y8G("ngClass",t.eq3(25,E,(null==(A=m.roleForm.get("link"))?null:A.invalid)&&(null==(A=m.roleForm.get("link"))?null:A.touched))),t.R7$(3),t.Y8G("placeholder","https://awh.co.id/"),t.R7$(),t.Y8G("ngIf",null==(N=m.roleForm.get("link"))?null:N.hasError("required"))}},dependencies:[F.RG,F.rl,F.nJ,F.TL,e.YN,e.qT,e.me,e.Q0,e.BC,e.cb,x.fS,x.fg,e.X1,e.j4,e.JD,p.MD,p.YU,p.bT,v.m_,v.An,l.rQ],encapsulation:2})}}return f})()},89445:($,w,r)=>{r.d(w,{I:()=>y});var _=r(10467),p=r(60177),e=r(54438),n=r(89417),F=r(75351),v=r(30636),x=r(99213),l=r(59042),t=r(22080),s=r(45794),C=r(49192),b=r(3366),E=r(73387);let y=(()=>{class I{constructor(o,h,P,f,R,u){this.fb=o,this.route=h,this._apiService=P,this._tableUserProfileService=f,this.dialogRef=R,this.data=u,this.isLoading=!1,this.toast=(0,e.WQX)(s.tw)}get disabledInput(){return this._tableUserProfileService.disabledInput()}get isLoadingInput(){return this._tableUserProfileService.isLoadingInput()}get detailDataUserProfile(){return this._tableUserProfileService.detailDataUserProfile()}onNoClick(){this.dialogRef.close()}ngOnInit(){var o=this;return(0,_.A)(function*(){if(o.userProfileFormEdit=o.fb.group({shared_users:["",[n.k0.required,n.k0.pattern(/^\d+$/)]],upload:["",[n.k0.required,n.k0.pattern(/^\d+M$/)]],download:["",[n.k0.required,n.k0.pattern(/^\d+M$/)]],link:["",[n.k0.required,n.k0.pattern(/^(https?:\/\/)?([\w-]+\.)*[\w-]+\.[a-z]{2,}(\/[\w-./?%&=]*)?$/i)]]}),o.disabledInput||o.isLoadingInput?o.userProfileFormEdit.disable():o.userProfileFormEdit.enable(),o.detailDataUserProfile)try{const[h,P]=o.detailDataUserProfile.rate_limit.split("/");o.profile_datas=o.detailDataUserProfile,o.userProfileFormEdit.patchValue({profile_Name:o.profile_name,shared_users:o.profile_datas.shared_users,upload:h,download:P,link:o.profile_datas.link})}catch{o.toast.error("Failed Fetch Data","Error")}})()}onSubmit(){var o=this;return(0,_.A)(function*(){try{if(o.isLoading=!0,o.userProfileFormEdit.valid){const h=new FormData,P=`${o.userProfileFormEdit.value.upload}/${o.userProfileFormEdit.value.download}`;h.append("shared_users",o.userProfileFormEdit.value.shared_users),h.append("rate_limit",P),h.append("link",o.userProfileFormEdit.value.link),"Hotspot profile and link updated successfully"==(yield o._apiService.post(`/api/mikrotik/hotspot-profile/${o.profile_datas.profile_name}`,h)).message?(o.userProfileFormEdit.disable(),o.userProfileFormEdit.reset(),o.isLoading=!1,o.toast.success("Success Update User Profile","Success"),o._tableUserProfileService.fetchData(),o.onNoClick()):(o.toast.error("Failed Update User Profile","Error"),o.isLoading=!1)}else o.toast.info("Please fill in all required fields!","Error"),o.isLoading=!1}catch{o.toast.error("Failed Update User Profile","Error"),o.isLoading=!1}finally{o.isLoading=!1}})()}static{this.\u0275fac=function(h){return new(h||I)(e.rXU(n.ok),e.rXU(C.nX),e.rXU(b.G),e.rXU(E.Q),e.rXU(F.CP),e.rXU(F.Vh))}}static{this.\u0275cmp=e.VBU({type:I,selectors:[["app-form-edit"]],decls:27,vars:6,consts:[[1,"h-full","w-full"],[1,"flex","justify-between","p-2"],[1,"text-xl","font-semibold","uppercase","opacity-50"],[3,"click"],["svgIcon","mat_solid:close",1,"cursor-pointer"],["message","Sumbitting Form...","spinner","circular",3,"isOpen"],[1,"p-3"],[1,"bg-card","flex","flex-col","overflow-hidden","rounded-2xl","px-4","py-4","pb-4",3,"formGroup"],["appearance","outline",1,"w-full"],["matInput","","type","number","formControlName","shared_users",3,"placeholder"],["matInput","","pattern","^\\d+M$","formControlName","upload",3,"placeholder"],["matInput","","pattern","^\\d+M$","formControlName","download",3,"placeholder"],["matInput","","formControlName","link",3,"placeholder"],[1,"bg-blue-600","text-white","p-2","font-semibold","rounded",3,"click"]],template:function(h,P){1&h&&(e.j41(0,"div",0)(1,"div",1)(2,"h1",2),e.EFF(3,"Edit User Profile"),e.k0s(),e.j41(4,"a",3),e.bIt("click",function(){return P.onNoClick()}),e.nrm(5,"mat-icon",4),e.k0s()(),e.nrm(6,"ion-loading",5),e.j41(7,"div",6)(8,"form",7)(9,"mat-form-field",8)(10,"mat-label"),e.EFF(11,"Shared User"),e.k0s(),e.nrm(12,"input",9),e.k0s(),e.j41(13,"mat-form-field",8)(14,"mat-label"),e.EFF(15,"Upload"),e.k0s(),e.nrm(16,"input",10),e.k0s(),e.j41(17,"mat-form-field",8)(18,"mat-label"),e.EFF(19,"Download"),e.k0s(),e.nrm(20,"input",11),e.k0s(),e.j41(21,"mat-form-field",8)(22,"mat-label"),e.EFF(23,"Direct Link"),e.k0s(),e.nrm(24,"input",12),e.k0s(),e.j41(25,"button",13),e.bIt("click",function(){return P.onSubmit()}),e.EFF(26," Edit User Profile "),e.k0s()()()()),2&h&&(e.R7$(6),e.Y8G("isOpen",P.isLoading),e.R7$(2),e.Y8G("formGroup",P.userProfileFormEdit),e.R7$(4),e.Y8G("placeholder","How many accounts can be connected? (e.g. 10)"),e.R7$(4),e.Y8G("placeholder","Upload Limit (e.g. 10M)"),e.R7$(4),e.Y8G("placeholder","Download Limit (e.g. 10M)"),e.R7$(4),e.Y8G("placeholder","https://awh.co.id/"))},dependencies:[v.RG,v.rl,v.nJ,n.YN,n.qT,n.me,n.Q0,n.BC,n.cb,n.R_,l.fS,l.fg,n.X1,n.j4,n.JD,p.MD,x.m_,x.An,t.rQ],encapsulation:2})}}return I})()},65388:($,w,r)=>{r.r(w),r.d(w,{default:()=>Q});var _=r(10467),p=r(60177),e=r(54438),n=r(88834),F=r(75351),v=r(96695),x=r(2042),l=r(9159),t=r(31849),s=r(59042),C=r(89417),b=r(99213),E=r(45794);const y=[[13273596e5,30.95],[1327446e6,31.34],[13275324e5,31.18],[13276188e5,31.05],[1327878e6,31],[13279644e5,30.95],[13280508e5,31.24],[13281372e5,31.29],[13282236e5,31.85]];var I=r(2359),B=r(89445),o=r(46601),h=r(3366),P=r(73387);const f=()=>[5,10,20];function R(a,g){1&a&&(e.j41(0,"div",22),e.nrm(1,"div",23)(2,"div",23)(3,"div",23)(4,"div",23)(5,"div",23)(6,"div",23)(7,"div",24),e.k0s())}function u(a,g){1&a&&(e.j41(0,"div")(1,"div",25),e.nrm(2,"img",26),e.j41(3,"h1",27),e.EFF(4,"Data Not Found"),e.k0s()()())}function k(a,g){1&a&&(e.j41(0,"mat-header-cell",41),e.EFF(1," Profile Name "),e.k0s())}function m(a,g){1&a&&(e.j41(0,"div",22),e.nrm(1,"div",23),e.k0s())}function U(a,g){if(1&a&&(e.j41(0,"mat-cell",42),e.EFF(1),e.k0s()),2&a){const i=g.$implicit;e.R7$(),e.SpI(" ",i.profile_name," ")}}function j(a,g){1&a&&(e.j41(0,"mat-header-cell",43),e.EFF(1," Shared Users "),e.k0s())}function T(a,g){if(1&a&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&a){const i=g.$implicit;e.R7$(),e.SpI(" ",i.shared_users," ")}}function M(a,g){1&a&&(e.j41(0,"mat-header-cell",43),e.EFF(1," Rate Limit "),e.k0s())}function L(a,g){if(1&a&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&a){const i=g.$implicit;e.R7$(),e.SpI(" ",i.rate_limit," ")}}function O(a,g){1&a&&(e.j41(0,"mat-header-cell",43),e.EFF(1," Link "),e.k0s())}function S(a,g){if(1&a&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&a){const i=g.$implicit;e.R7$(),e.SpI(" ",i.link," ")}}function G(a,g){1&a&&(e.j41(0,"mat-header-cell",43),e.EFF(1," Action "),e.k0s())}function A(a,g){if(1&a){const i=e.RV6();e.j41(0,"mat-cell",44)(1,"a",45),e.bIt("click",function(){const c=e.eBV(i).$implicit,D=e.XpG(2);return e.Njj(D.deteleProfiles(c.profile_name))}),e.nrm(2,"mat-icon",46),e.k0s(),e.j41(3,"a",47),e.bIt("click",function(){const c=e.eBV(i).$implicit,D=e.XpG(2);return e.Njj(D.editUsersProfile(c.profile_name))}),e.nrm(4,"mat-icon",48),e.k0s()()}}function N(a,g){1&a&&e.nrm(0,"mat-header-row")}function Y(a,g){1&a&&e.nrm(0,"mat-row")}function W(a,g){if(1&a&&(e.j41(0,"mat-table",28,2)(2,"div"),e.qex(3,29),e.DNE(4,k,2,0,"mat-header-cell",30)(5,m,2,0,"div",17)(6,U,2,1,"mat-cell",31),e.bVm(),e.qex(7,32),e.DNE(8,j,2,0,"mat-header-cell",33)(9,T,2,1,"mat-cell",34),e.bVm(),e.qex(10,35),e.DNE(11,M,2,0,"mat-header-cell",33)(12,L,2,1,"mat-cell",34),e.bVm(),e.qex(13,36),e.DNE(14,O,2,0,"mat-header-cell",33)(15,S,2,1,"mat-cell",34),e.bVm(),e.qex(16,37),e.DNE(17,G,2,0,"mat-header-cell",33)(18,A,5,0,"mat-cell",38),e.bVm(),e.DNE(19,N,1,0,"mat-header-row",39)(20,Y,1,0,"mat-row",40),e.k0s()()),2&a){const i=e.XpG();e.Y8G("dataSource",i.dataSource),e.R7$(5),e.Y8G("ngIf",i.isLoading),e.R7$(14),e.Y8G("matHeaderRowDef",i.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",i.displayedColumns)}}let K=(()=>{class a{constructor(i,d,c,D){this.fuseConfirmationService=i,this._apiService=d,this._matDialog=c,this._tableUserProfileService=D,this.displayedColumns=["name","shared_users","rate_limit","link","action"],this.dataSource=new l.I6,this.toast=(0,e.WQX)(E.tw),(0,e.QZP)(()=>{this.dataSource.data=this.userProfile})}get userProfile(){return this._tableUserProfileService.hotspotUserProfile()}get isLoading(){return this._tableUserProfileService.isLoading()}set setIsLoading(i){this._tableUserProfileService.isLoading.set(i)}set setIsNotDataFound(i){this._tableUserProfileService.isNotFound.set(i)}get isNotDataFound(){return this._tableUserProfileService.isNotFound()}ngOnInit(){var i=this;return(0,_.A)(function*(){yield i._tableUserProfileService.fetchData()})()}fetchData(){return(0,_.A)(function*(){})()}addNewUserProfile(){this._matDialog.open(I.X,{width:window.innerWidth<600?"90%":"50%",maxWidth:"100vw"})}editUsersProfile(i){var d=this;return(0,_.A)(function*(){yield d._tableUserProfileService.fetchDataByName(i),d._matDialog.open(B.I,{width:window.innerWidth<600?"90%":"50%",maxWidth:"100vw"})})()}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}applyFilter(i){i=i.trim().toLowerCase(),this.dataSource.filterPredicate=(d,c)=>d.profile_name.toLowerCase().includes(c),console.log(y),this.dataSource.filter=i,this.setIsNotDataFound=0===this.dataSource.filteredData.length}deteleProfiles(i){this.fuseConfirmationService.open({title:"Delete Confirmation",message:`Are you sure want to delete ${i}?`,actions:{confirm:{label:"Delete"}}}).afterClosed().subscribe(c=>{"confirmed"===c&&this.deleteProfileByName(i)})}deleteProfileByName(i){var d=this;return(0,_.A)(function*(){try{yield d._apiService.delete(`/api/mikrotik/delete-profile/${i}`,!0),d.fetchData(),d.toast.success("Successfully Delete User Profile","Success Delete")}catch{d.toast.error("Failed to delete data","Error")}})()}static{this.\u0275fac=function(d){return new(d||a)(e.rXU(o.G),e.rXU(h.G),e.rXU(F.bZ),e.rXU(P.Q))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-table-user-profile"]],viewQuery:function(d,c){if(1&d&&(e.GBs(x.B4,5),e.GBs(v.iy,5)),2&d){let D;e.mGM(D=e.lsd())&&(c.sort=D.first),e.mGM(D=e.lsd())&&(c.paginator=D.first)}},decls:24,vars:9,consts:[["fuseCard",""],["paginator",""],["table",""],[1,"my-4"],[1,"flex","flex-col","shadow-md"],[1,"truncate","text-lg","flex-col","sm:flex-row","font-medium","leading-6","tracking-tight","px-5","py-3","flex","items-start","sm:items-center","w-full","justify-between"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","gap-3"],["for","table-search",1,"sr-only"],[1,"relative","my-2"],[1,"absolute","inset-y-0","rtl:inset-r-0","start-0","flex","items-center","ps-3","pointer-events-none"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"w-4","h-4","text-gray-500","dark:text-gray-400"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"],["type","text","matInput","","placeholder","Search User Profile",1,"block","p-2","ps-10","text-sm","text-gray-900","border","border-gray-300","rounded-lg","bg-gray-50","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"keyup"],[1,"flex","items-center","gap-2"],["mat-flat-button","",3,"click","color"],[1,"icon-size-5",3,"svgIcon"],[1,"block","ml-2"],["role","status","class","p-5 animate-pulse",4,"ngIf"],[4,"ngIf"],[1,"w-full","overflow-auto","whitespace-nowrap"],["matSort","","class","min-w-160 max-sm:min-w-128",3,"dataSource",4,"ngIf"],[3,"pageSize","pageSizeOptions","showFirstLastButtons"],["role","status",1,"p-5","animate-pulse"],[1,"h-6","bg-gray-300","rounded-full","dark:bg-gray-700","w-full","mb-[22px]"],[1,"h-6","bg-gray-300","rounded-full","dark:bg-gray-700","w-full"],[1,"flex","flex-col","items-center"],["src","../../../../../assets/not-found.jpg","alt","not-found.jpg",1,"h-64","bg-cover","bg-center","object-scale-down"],[1,"mt-2","font-semibold","text-xl","-tracking-tighter"],["matSort","",1,"min-w-160","max-sm:min-w-128",3,"dataSource"],["matColumnDef","name"],["mat-sort-header","profile_name",4,"matHeaderCellDef"],["class","py-4 font-medium",4,"matCellDef"],["matColumnDef","shared_users"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","rate_limit"],["matColumnDef","link"],["matColumnDef","action"],["class","px-2 sm:px-6 flex items-center",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["mat-sort-header","profile_name"],[1,"py-4","font-medium"],["mat-sort-header",""],[1,"px-2","sm:px-6","flex","items-center"],[1,"font-medium","mx-1","text-white","dark:text-white","bg-red-500","rounded","hover:underline",3,"click"],["svgIcon","heroicons_solid:trash",1,"text-white",2,"transform","scale(0.7)"],[1,"font-medium","mx-1","text-white","dark:text-white","bg-blue-500","rounded","hover:underline",3,"click"],["svgIcon","heroicons_solid:pencil-square",1,"text-white",2,"transform","scale(0.7)"]],template:function(d,c){if(1&d){const D=e.RV6();e.j41(0,"main",3)(1,"fuse-card",4,0)(3,"div",5),e.EFF(4," Hotspot User Profile "),e.j41(5,"div",6)(6,"label",7),e.EFF(7,"Search"),e.k0s(),e.j41(8,"div",8)(9,"div",9),e.qSk(),e.j41(10,"svg",10),e.nrm(11,"path",11),e.k0s()(),e.joV(),e.j41(12,"input",12),e.bIt("keyup",function(z){return e.eBV(D),e.Njj(c.applyFilter(z.target.value))}),e.k0s()(),e.j41(13,"div",13)(14,"a",14),e.bIt("click",function(){return e.eBV(D),e.Njj(c.addNewUserProfile())}),e.nrm(15,"mat-icon",15),e.j41(16,"span",16),e.EFF(17,"Add User Profile"),e.k0s()()()()(),e.DNE(18,R,8,0,"div",17)(19,u,5,0,"div",18),e.j41(20,"div",19),e.DNE(21,W,21,4,"mat-table",20),e.k0s(),e.nrm(22,"mat-paginator",21,1),e.k0s()()}2&d&&(e.R7$(14),e.Y8G("color","primary"),e.R7$(),e.Y8G("svgIcon","person_add_alt_1"),e.R7$(3),e.Y8G("ngIf",c.isLoading),e.R7$(),e.Y8G("ngIf",c.isNotDataFound&&!c.isLoading),e.R7$(2),e.Y8G("ngIf",!c.isLoading&&!c.isNotDataFound),e.R7$(),e.Y8G("pageSize",10)("pageSizeOptions",e.lJ4(8,f))("showFirstLastButtons",!0))},dependencies:[p.MD,p.bT,n.Hl,n.It,v.Ou,v.iy,F.hM,l.tP,l.Zl,l.tL,l.ji,l.cC,l.YV,l.iL,l.KS,l.$R,l.YZ,l.NB,b.m_,b.An,C.X1,s.fS,s.fg,x.NQ,x.B4,x.aE,t.$],encapsulation:2})}}return a})();var X=r(49192);const V=()=>["/dashboards/role-management"],Q=[{path:"",component:(()=>{class a{static{this.\u0275fac=function(d){return new(d||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-role-management"]],decls:8,vars:2,consts:[[1,"w-full","flex","flex-col"],["aria-label","Breadcrumb",1,"flex","shadow","px-5","py-3","text-gray-700","borde","bg-white","dark:bg-slate-800"],[1,"inline-flex","items-center","space-x-1","md:space-x-2","rtl:space-x-reverse"],[1,"inline-flex","items-center"],[1,"inline-flex","items-center","text-sm","font-medium","text-gray-700","hover:text-blue-600","dark:text-gray-400","dark:hover:text-white",3,"routerLink"],[1,"w-full","px-4"]],template:function(d,c){1&d&&(e.j41(0,"main",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),e.EFF(5," Hotspot Users Profile "),e.k0s()()()(),e.j41(6,"div",5),e.nrm(7,"app-table-user-profile"),e.k0s()()),2&d&&(e.R7$(4),e.Y8G("routerLink",e.lJ4(1,V)))},dependencies:[K,X.Wk],encapsulation:2})}}return a})()},{path:"add-role",loadChildren:()=>r.e(3680).then(r.bind(r,63680))},{path:"edit-role/:name",loadChildren:()=>r.e(1954).then(r.bind(r,61954))}]},73387:($,w,r)=>{r.d(w,{Q:()=>F});var _=r(10467),p=r(54438),e=r(3366),n=r(45794);let F=(()=>{class v{constructor(){this.hotspotUserProfile=(0,p.vPA)([]),this.isLoading=(0,p.vPA)(!1),this.isNotFound=(0,p.vPA)(!1),this._toastService=(0,p.WQX)(n.tw),this._apiService=(0,p.WQX)(e.G),this.disabledInput=(0,p.vPA)(!1),this.isLoadingInput=(0,p.vPA)(!1),this.detailDataUserProfile=(0,p.vPA)(null)}fetchData(){var l=this;return(0,_.A)(function*(){l.isLoading.set(!0),l._apiService.get("/api/mikrotik/get-profile",!0).then(function(){var t=(0,_.A)(function*(s){l.isLoading.set(!1),l.isNotFound.set(!1),l.hotspotUserProfile.set(s.profiles)});return function(s){return t.apply(this,arguments)}}()).catch(function(){var t=(0,_.A)(function*(s){l.isLoading.set(!1),l.isNotFound.set(!0),l._toastService.error("Failed to fetch data","Error")});return function(s){return t.apply(this,arguments)}}())})()}fetchDataByName(l){var t=this;return(0,_.A)(function*(){t.isLoadingInput.set(!0),yield t._apiService.get(`/api/mikrotik/get-profile/${l}`,!0).then(function(){var s=(0,_.A)(function*(C){t.isLoadingInput.set(!1),t.detailDataUserProfile.set(C)});return function(C){return s.apply(this,arguments)}}()).catch(function(){var s=(0,_.A)(function*(C){t.disabledInput.set(!0),t._toastService.error("Failed to fetch data","Error")});return function(C){return s.apply(this,arguments)}}())})()}static{this.\u0275fac=function(t){return new(t||v)}}static{this.\u0275prov=p.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()}}]);