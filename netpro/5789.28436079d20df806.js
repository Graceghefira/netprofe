"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[5789],{25789:(P,d,o)=>{o.r(d),o.d(d,{default:()=>Q});var u=o(60177),e=o(54438),h=o(88834),_=o(75351),m=o(96695),c=o(2042),l=o(9159),b=o(31849),f=o(59042),g=o(89417),x=o(99213),p=o(45794),v=o(3366);let F=(()=>{class t{constructor(){this.activeUsers=(0,e.vPA)([]),this.isLoading=(0,e.vPA)(!1),this.isNotFound=(0,e.vPA)(!1),this._toastService=(0,e.WQX)(p.tw),this._apiService=(0,e.WQX)(v.G)}fetchData(){this.isLoading.set(!0),this._apiService.get("/api/mikrotik/get-active-micasa",!0).then(a=>{this.isLoading.set(!1),this.isNotFound.set(!1),this.activeUsers.set(a.active_users??[])}).catch(a=>{this.isLoading.set(!1),this.isNotFound.set(!0),this._toastService.error("Failed to fetch data","Error")})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const y=()=>[5,10,20];function C(t,s){1&t&&(e.j41(0,"div",18),e.nrm(1,"div",19)(2,"div",19)(3,"div",19)(4,"div",19)(5,"div",19)(6,"div",19)(7,"div",20),e.k0s())}function T(t,s){1&t&&(e.j41(0,"div")(1,"div",21),e.nrm(2,"img",22),e.j41(3,"h1",23),e.EFF(4,"Data Not Found"),e.k0s()()())}function U(t,s){1&t&&(e.j41(0,"mat-header-cell",37),e.EFF(1," User "),e.k0s())}function A(t,s){1&t&&(e.j41(0,"div",18),e.nrm(1,"div",19),e.k0s())}function k(t,s){if(1&t&&(e.j41(0,"mat-cell",38),e.EFF(1),e.k0s()),2&t){const a=s.$implicit;e.R7$(),e.SpI(" ",a.user," ")}}function S(t,s){1&t&&(e.j41(0,"mat-header-cell",39),e.EFF(1," Ip Address "),e.k0s())}function w(t,s){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const a=s.$implicit;e.R7$(),e.SpI(" ",a.address," ")}}function D(t,s){1&t&&(e.j41(0,"mat-header-cell",39),e.EFF(1," MAC Address "),e.k0s())}function j(t,s){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const a=s.$implicit;e.R7$(),e.SpI(" ",a["mac-address"]," ")}}function E(t,s){1&t&&(e.j41(0,"mat-header-cell",39),e.EFF(1," Uptime "),e.k0s())}function I(t,s){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const a=s.$implicit;e.R7$(),e.SpI(" ",a.uptime," ")}}function N(t,s){1&t&&(e.j41(0,"mat-header-cell",39),e.EFF(1," Download "),e.k0s())}function $(t,s){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const a=s.$implicit,i=e.XpG(2);e.R7$(),e.SpI(" ",i.convertBytesToMB(a["bytes-in"]).toFixed(2)," MB/s ")}}function R(t,s){1&t&&(e.j41(0,"mat-header-cell",39),e.EFF(1," Upload "),e.k0s())}function B(t,s){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const a=s.$implicit,i=e.XpG(2);e.R7$(),e.SpI("",i.convertBytesToMB(a["bytes-out"]).toFixed(2)," MB/s ")}}function L(t,s){1&t&&e.nrm(0,"mat-header-row")}function G(t,s){1&t&&e.nrm(0,"mat-row")}function V(t,s){if(1&t&&(e.j41(0,"mat-table",24,2)(2,"div"),e.qex(3,25),e.DNE(4,U,2,0,"mat-header-cell",26)(5,A,2,0,"div",13)(6,k,2,1,"mat-cell",27),e.bVm(),e.qex(7,28),e.DNE(8,S,2,0,"mat-header-cell",29)(9,w,2,1,"mat-cell",30),e.bVm(),e.qex(10,31),e.DNE(11,D,2,0,"mat-header-cell",29)(12,j,2,1,"mat-cell",30),e.bVm(),e.qex(13,32),e.DNE(14,E,2,0,"mat-header-cell",29)(15,I,2,1,"mat-cell",30),e.bVm(),e.qex(16,33),e.DNE(17,N,2,0,"mat-header-cell",29)(18,$,2,1,"mat-cell",30),e.bVm(),e.qex(19,34),e.DNE(20,R,2,0,"mat-header-cell",29)(21,B,2,1,"mat-cell",30),e.bVm(),e.DNE(22,L,1,0,"mat-header-row",35)(23,G,1,0,"mat-row",36),e.k0s()()),2&t){const a=e.XpG();e.Y8G("dataSource",a.dataSource),e.R7$(5),e.Y8G("ngIf",a.isLoading),e.R7$(17),e.Y8G("matHeaderRowDef",a.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",a.displayedColumns)}}let Y=(()=>{class t{constructor(a,i){this._apiService=a,this._tableActiveUsersService=i,this.displayedColumns=["user","address","mac_address","uptime","bytes-in","bytes-out"],this.dataSource=new l.I6,this.toast=(0,e.WQX)(p.tw),(0,e.QZP)(()=>{this.dataSource.data=this._tableActiveUsersService.activeUsers(),setTimeout(()=>{console.log(this.dataSource.data)},1e3)})}get isLoading(){return this._tableActiveUsersService.isLoading()}set setIsLoading(a){this._tableActiveUsersService.isLoading.set(a)}set setIsNotDataFound(a){this._tableActiveUsersService.isNotFound.set(a)}get isNotDataFound(){return this._tableActiveUsersService.isNotFound()}ngOnInit(){this._tableActiveUsersService.fetchData()}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}convertBytesToMB(a){return parseFloat(a)/1048576}applyFilter(a){a=a.trim().toLowerCase(),this.dataSource.filterPredicate=(i,r)=>i.user.toLowerCase().includes(r),this.dataSource.filter=a,this.setIsNotDataFound=0===this.dataSource.filteredData.length}static{this.\u0275fac=function(i){return new(i||t)(e.rXU(v.G),e.rXU(F))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-table-active-users"]],viewQuery:function(i,r){if(1&i&&(e.GBs(c.B4,5),e.GBs(m.iy,5)),2&i){let n;e.mGM(n=e.lsd())&&(r.sort=n.first),e.mGM(n=e.lsd())&&(r.paginator=n.first)}},decls:19,vars:7,consts:[["fuseCard",""],["paginator",""],["table",""],[1,"my-4"],[1,"flex","flex-col","shadow-md"],[1,"truncate","text-lg","flex-col","sm:flex-row","font-medium","leading-6","tracking-tight","px-5","py-3","flex","items-start","sm:items-center","w-full","justify-between"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","gap-3"],["for","table-search",1,"sr-only"],[1,"relative","my-2"],[1,"absolute","inset-y-0","rtl:inset-r-0","start-0","flex","items-center","ps-3","pointer-events-none"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"w-4","h-4","text-gray-500","dark:text-gray-400"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"],["type","text","matInput","","placeholder","Search Active User",1,"block","p-2","ps-10","text-sm","text-gray-900","border","border-gray-300","rounded-lg","bg-gray-50","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"keyup"],["role","status","class","p-5 animate-pulse",4,"ngIf"],[4,"ngIf"],[1,"w-full","overflow-auto","whitespace-nowrap"],["matSort","","class","min-w-160 max-sm:min-w-128",3,"dataSource",4,"ngIf"],[3,"pageSize","pageSizeOptions","showFirstLastButtons"],["role","status",1,"p-5","animate-pulse"],[1,"h-6","bg-gray-300","rounded-full","dark:bg-gray-700","w-full","mb-[22px]"],[1,"h-6","bg-gray-300","rounded-full","dark:bg-gray-700","w-full"],[1,"flex","flex-col","items-center"],["src","../../../../../assets/not-found.jpg","alt","not-found.jpg",1,"h-64","bg-cover","bg-center","object-scale-down"],[1,"mt-2","font-semibold","text-xl","-tracking-tighter"],["matSort","",1,"min-w-160","max-sm:min-w-128",3,"dataSource"],["matColumnDef","user"],["mat-sort-header","profile_name",4,"matHeaderCellDef"],["class","py-4 font-medium",4,"matCellDef"],["matColumnDef","address"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","mac_address"],["matColumnDef","uptime"],["matColumnDef","bytes-in"],["matColumnDef","bytes-out"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["mat-sort-header","profile_name"],[1,"py-4","font-medium"],["mat-sort-header",""]],template:function(i,r){if(1&i){const n=e.RV6();e.j41(0,"main",3)(1,"fuse-card",4,0)(3,"div",5),e.EFF(4," Active Users "),e.j41(5,"div",6)(6,"label",7),e.EFF(7,"Search"),e.k0s(),e.j41(8,"div",8)(9,"div",9),e.qSk(),e.j41(10,"svg",10),e.nrm(11,"path",11),e.k0s()(),e.joV(),e.j41(12,"input",12),e.bIt("keyup",function(H){return e.eBV(n),e.Njj(r.applyFilter(H.target.value))}),e.k0s()()()(),e.DNE(13,C,8,0,"div",13)(14,T,5,0,"div",14),e.j41(15,"div",15),e.DNE(16,V,24,4,"mat-table",16),e.k0s(),e.nrm(17,"mat-paginator",17,1),e.k0s()()}2&i&&(e.R7$(13),e.Y8G("ngIf",r.isLoading),e.R7$(),e.Y8G("ngIf",r.isNotDataFound&&!r.isLoading),e.R7$(2),e.Y8G("ngIf",!r.isLoading&&!r.isNotDataFound),e.R7$(),e.Y8G("pageSize",10)("pageSizeOptions",e.lJ4(6,y))("showFirstLastButtons",!0))},dependencies:[u.MD,u.bT,h.Hl,m.Ou,m.iy,_.hM,l.tP,l.Zl,l.tL,l.ji,l.cC,l.YV,l.iL,l.KS,l.$R,l.YZ,l.NB,x.m_,g.X1,f.fS,f.fg,c.NQ,c.B4,c.aE,b.$],encapsulation:2})}}return t})();var M=o(49192);const X=()=>[".."],Q=[{path:"",component:(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-active-users"]],decls:8,vars:2,consts:[[1,"w-full","h-fit","mb-10","flex","flex-col"],["aria-label","Breadcrumb",1,"flex","shadow","px-5","py-3","text-gray-700","borde","bg-white","dark:bg-slate-800"],[1,"inline-flex","items-center","space-x-1","md:space-x-2","rtl:space-x-reverse"],[1,"inline-flex","items-center"],[1,"inline-flex","items-center","text-sm","font-medium","text-gray-700","hover:text-blue-600","dark:text-gray-400","dark:hover:text-white",3,"routerLink"],[1,"w-full","p-4"]],template:function(i,r){1&i&&(e.j41(0,"main",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),e.EFF(5," Active Users "),e.k0s()()()(),e.j41(6,"div",5),e.nrm(7,"app-table-active-users"),e.k0s()()),2&i&&(e.R7$(4),e.Y8G("routerLink",e.lJ4(1,X)))},dependencies:[Y,M.Wk],encapsulation:2})}}return t})()}]}}]);