"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[4377],{34377:(y,u,a)=>{a.r(u),a.d(u,{default:()=>E});var f=a(10467),m=a(60177),o=a(89417),n=a(30636),c=a(99213),p=a(59042),h=a(49192),v=a(22080),e=a(54438),g=a(3366),F=a(45794);const x=()=>["/dashboards/customer"];function k(s,b){if(1&s&&(e.j41(0,"option",19),e.EFF(1),e.k0s()),2&s){const t=b.$implicit;e.Y8G("value",t.profile_name),e.R7$(),e.SpI(" ",t.profile_name," ")}}const E=[{path:"",component:(()=>{class s{constructor(t,r,i,l,d){this.fb=t,this.route=r,this._apiService=i,this.location=l,this._toast=d,this.roleDatas=[],this.isLoading=!1}ngOnInit(){var t=this;return(0,f.A)(function*(){if(t.userFormEdit=t.fb.group({name:["",o.k0.required],profile:["",o.k0.required],status:["",o.k0.required]}),t.route.paramMap.subscribe(r=>{t.name=r.get("name")}),t.isLoading?t.userFormEdit.disable():t.userFormEdit.enable(),t.name)try{const r=yield t._apiService.get(`/api/mikrotik/get-Hotspot-by-phone/${t.name}`,!0);t.userData=r.user;const i=yield t._apiService.get("/api/mikrotik/get-profile",!0);t.roleDatas=i.profiles,t.userFormEdit.patchValue({name:t.userData.name,profile:t.userData.profile,status:t.userData.disabled})}catch{t._toast.error("Error Fetch Data","Error")}})()}onSubmit(){var t=this;return(0,f.A)(function*(){try{if(t.isLoading=!0,t.userFormEdit.valid){const r=new FormData;r.append("name",t.userFormEdit.value.name),r.append("profile",t.userFormEdit.value.profile),r.append("disabled",t.userFormEdit.value.status),r.forEach((l,d)=>{console.log(d+": "+l)});const i=yield t._apiService.post(`/api/mikrotik/hotspot-user/${t.name}`,r);console.log(i),i&&(t.userFormEdit.reset(),t.userFormEdit.disable(),t.location.back(),t._toast.success("success","Form submitted successfully!"),t.isLoading=!1)}else t._toast.info("error","Please fill in all required fields!")}catch{t._toast.error("Failed to submit form","Error"),t.isLoading=!1}finally{t.isLoading=!1}})()}static{this.\u0275fac=function(r){return new(r||s)(e.rXU(o.ok),e.rXU(h.nX),e.rXU(g.G),e.rXU(m.aZ),e.rXU(F.tw))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-form-edit"]],decls:27,vars:7,consts:[[1,"h-full","w-full"],["aria-label","Breadcrumb",1,"flex","shadow","px-5","py-3","text-gray-700","borde","bg-white","dark:bg-slate-800"],[1,"inline-flex","items-center","space-x-1","md:space-x-2","rtl:space-x-reverse"],[1,"inline-flex","items-center"],[1,"inline-flex","items-center","text-sm","font-medium","text-gray-700","hover:text-blue-600","dark:text-gray-400","dark:hover:text-white",3,"routerLink"],[1,"flex","items-center"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 6 10",1,"rtl:rotate-180","block","w-3","h-3","mx-1","text-gray-400"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 9 4-4-4-4"],[1,"ms-1","text-sm","font-medium","text-gray-700","hover:text-blue-600","md:ms-2","dark:text-gray-400","dark:hover:text-white"],["message","Sumbitting Form...","spinner","circular",3,"isOpen"],[1,"px-3","my-4"],[1,"bg-card","flex","flex-col","overflow-hidden","rounded-2xl","p-8","pb-4","shadow",3,"formGroup"],["floatLabel","always",1,"w-full"],["matInput","","formControlName","name","type","text",3,"placeholder"],[1,"gt-xs:pr-3","flex-auto"],["matNativeControl","","formControlName","profile"],[3,"value",4,"ngFor","ngForOf"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],[1,"bg-blue-600","text-white","p-2","rounded",3,"click"],[3,"value"]],template:function(r,i){1&r&&(e.j41(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),e.EFF(5," Hotspot Users "),e.k0s()(),e.j41(6,"li")(7,"div",5),e.qSk(),e.j41(8,"svg",6),e.nrm(9,"path",7),e.k0s(),e.joV(),e.j41(10,"a",8),e.EFF(11,"Edit Users"),e.k0s()()()()(),e.nrm(12,"ion-loading",9),e.j41(13,"div",10)(14,"form",11)(15,"mat-form-field",12)(16,"mat-label"),e.EFF(17,"Unique Number Voucher"),e.k0s(),e.nrm(18,"input",13),e.k0s(),e.j41(19,"mat-form-field",14)(20,"mat-label"),e.EFF(21,"User Profiles"),e.k0s(),e.j41(22,"select",15),e.DNE(23,k,2,2,"option",16),e.k0s(),e.nrm(24,"mat-icon",17),e.k0s(),e.j41(25,"button",18),e.bIt("click",function(){return i.onSubmit()}),e.EFF(26," Edit Users "),e.k0s()()()()),2&r&&(e.R7$(4),e.Y8G("routerLink",e.lJ4(6,x)),e.R7$(8),e.Y8G("isOpen",i.isLoading),e.R7$(2),e.Y8G("formGroup",i.userFormEdit),e.R7$(4),e.Y8G("placeholder","NIK / Nomer HP"),e.R7$(5),e.Y8G("ngForOf",i.roleDatas),e.R7$(),e.Y8G("svgIcon","heroicons_solid:map-pin"))},dependencies:[h.Wk,n.RG,n.rl,n.nJ,n.JW,o.YN,o.qT,o.xH,o.y7,o.me,o.wz,o.BC,o.cb,p.fS,p.fg,o.X1,o.j4,o.JD,m.MD,m.Sq,c.m_,c.An,v.rQ],encapsulation:2})}}return s})()}]}}]);