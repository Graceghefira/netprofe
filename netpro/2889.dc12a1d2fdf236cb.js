"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[2889],{72889:(D,v,t)=>{t.r(v),t.d(v,{default:()=>_});var G=t(10467),f=t(60177),n=t(89417),c=t(30636),w=t(99213),b=t(59042),E=t(49192),Y=t(22080),e=t(54438),$=t(10500),R=t(45794),x=t(3366);const y=()=>["/dashboards/role-management"],u=l=>({"py-2":l});function N(l,h){1&l&&(e.j41(0,"mat-error"),e.EFF(1,"Nama profile wajib diisi"),e.k0s())}function U(l,h){1&l&&(e.j41(0,"mat-error"),e.EFF(1,"Pembagian user wajib diisi"),e.k0s())}function I(l,h){1&l&&(e.j41(0,"mat-error"),e.EFF(1,"Upload wajib diisi"),e.k0s())}function T(l,h){1&l&&(e.j41(0,"mat-error"),e.EFF(1,"Upload wajib diisi"),e.k0s())}function A(l,h){1&l&&(e.j41(0,"mat-error"),e.EFF(1,"Direct Link wajib diisi"),e.k0s())}const _=[{path:"",component:(()=>{class l{constructor(o,a,r,i,s,m){this.roleService=o,this.fb=a,this.route=r,this.location=i,this._toast=s,this._apiService=m,this.isLoading=!1}ngOnInit(){this.roleForm=this.fb.group({profile_name:["",[n.k0.required]],shared_users:["",n.k0.required],upload:["",n.k0.required],download:["",n.k0.required],link:["",n.k0.required]})}onSubmit(){var o=this;return(0,G.A)(function*(){try{if(o.isLoading=!0,o.roleForm.valid){const a=o.roleForm.get("profile_name")?.value,r=o.roleForm.get("shared_users")?.value,i=o.roleForm.get("upload")?.value,s=o.roleForm.get("download")?.value,m=o.roleForm.get("link")?.value,d={profile_name:a,shared_users:r,rate_limit:`${i}/${s}`,link:m},p=yield o._apiService.post("/api/mikrotik/set-profile",d);p&&(console.log(p),o.roleForm.reset(),o.location.back())}else console.log("Form Not Valid",o.roleForm),Object.keys(o.roleForm.controls).forEach(a=>{const r=o.roleForm.get(a)?.errors;null!=r&&console.log("Key control: "+a+", error: ",r)})}catch{o._toast.error("Gagal menambahkan role")}finally{o.isLoading=!1}})()}static{this.\u0275fac=function(a){return new(a||l)(e.rXU($.W),e.rXU(n.ok),e.rXU(E.Ix),e.rXU(f.aZ),e.rXU(R.tw),e.rXU(x.G))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-form-add"]],decls:42,vars:29,consts:[[1,"h-full","w-full"],["aria-label","Breadcrumb",1,"flex","shadow","px-5","py-3","text-gray-700","borde","bg-white","dark:bg-slate-800"],[1,"inline-flex","items-center","space-x-1","md:space-x-2","rtl:space-x-reverse"],[1,"inline-flex","items-center"],[1,"inline-flex","items-center","text-sm","font-medium","text-gray-700","hover:text-blue-600","dark:text-gray-400","dark:hover:text-white",3,"routerLink"],[1,"flex","items-center"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 6 10",1,"rtl:rotate-180","block","w-3","h-3","mx-1","text-gray-400"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 9 4-4-4-4"],[1,"ms-1","text-sm","font-medium","text-gray-700","hover:text-blue-600","md:ms-2","dark:text-gray-400","dark:hover:text-white"],["message","Sumbitting Form...","spinner","circular",3,"isOpen"],[1,"p-3"],[1,"bg-card","flex","flex-col","overflow-hidden","rounded-2xl","p-8","pb-4","shadow",3,"formGroup"],["appearance","outline",1,"w-full",3,"ngClass"],["matInput","","formControlName","profile_name","type","text",3,"placeholder"],[4,"ngIf"],["matInput","","formControlName","shared_users",3,"placeholder"],["matInput","","formControlName","upload",3,"placeholder"],["matInput","","formControlName","download",3,"placeholder"],["matInput","","formControlName","link",3,"placeholder"],[1,"bg-green-600","text-white","p-2","rounded",3,"click"]],template:function(a,r){if(1&a&&(e.j41(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),e.EFF(5," Hotspot User Profile "),e.k0s()(),e.j41(6,"li")(7,"div",5),e.qSk(),e.j41(8,"svg",6),e.nrm(9,"path",7),e.k0s(),e.joV(),e.j41(10,"a",8),e.EFF(11,"Tambah User Profile"),e.k0s()()()()(),e.nrm(12,"ion-loading",9),e.j41(13,"div",10)(14,"form",11)(15,"mat-form-field",12)(16,"mat-label"),e.EFF(17,"Nama Profile"),e.k0s(),e.nrm(18,"input",13),e.DNE(19,N,2,0,"mat-error",14),e.k0s(),e.j41(20,"mat-form-field",12)(21,"mat-label"),e.EFF(22,"Pembagian User"),e.k0s(),e.nrm(23,"input",15),e.DNE(24,U,2,0,"mat-error",14),e.k0s(),e.j41(25,"mat-form-field",12)(26,"mat-label"),e.EFF(27,"Upload"),e.k0s(),e.nrm(28,"input",16),e.DNE(29,I,2,0,"mat-error",14),e.k0s(),e.j41(30,"mat-form-field",12)(31,"mat-label"),e.EFF(32,"Download"),e.k0s(),e.nrm(33,"input",17),e.DNE(34,T,2,0,"mat-error",14),e.k0s(),e.j41(35,"mat-form-field",12)(36,"mat-label"),e.EFF(37,"Direct Link"),e.k0s(),e.nrm(38,"input",18),e.DNE(39,A,2,0,"mat-error",14),e.k0s(),e.j41(40,"button",19),e.bIt("click",function(){return r.onSubmit()}),e.EFF(41," Tambah User Profile "),e.k0s()()()()),2&a){let i,s,m,g,d,p,F,j,k,C;e.R7$(4),e.Y8G("routerLink",e.lJ4(18,y)),e.R7$(8),e.Y8G("isOpen",r.isLoading),e.R7$(2),e.Y8G("formGroup",r.roleForm),e.R7$(),e.Y8G("ngClass",e.eq3(19,u,(null==(i=r.roleForm.get("profile_name"))?null:i.invalid)&&(null==(i=r.roleForm.get("profile_name"))?null:i.touched))),e.R7$(3),e.Y8G("placeholder","Nama Profile"),e.R7$(),e.Y8G("ngIf",null==(s=r.roleForm.get("profile_name"))?null:s.hasError("required")),e.R7$(),e.Y8G("ngClass",e.eq3(21,u,(null==(m=r.roleForm.get("shared_users"))?null:m.invalid)&&(null==(m=r.roleForm.get("shared_users"))?null:m.touched))),e.R7$(3),e.Y8G("placeholder","Berapa Akun yang Bisa Tersambung ?"),e.R7$(),e.Y8G("ngIf",null==(g=r.roleForm.get("shared_users"))?null:g.hasError("required")),e.R7$(),e.Y8G("ngClass",e.eq3(23,u,(null==(d=r.roleForm.get("upload"))?null:d.invalid)&&(null==(d=r.roleForm.get("upload"))?null:d.touched))),e.R7$(3),e.Y8G("placeholder","10M"),e.R7$(),e.Y8G("ngIf",null==(p=r.roleForm.get("upload"))?null:p.hasError("required")),e.R7$(),e.Y8G("ngClass",e.eq3(25,u,(null==(F=r.roleForm.get("download"))?null:F.invalid)&&(null==(F=r.roleForm.get("download"))?null:F.touched))),e.R7$(3),e.Y8G("placeholder","10M"),e.R7$(),e.Y8G("ngIf",null==(j=r.roleForm.get("download"))?null:j.hasError("required")),e.R7$(),e.Y8G("ngClass",e.eq3(27,u,(null==(k=r.roleForm.get("link"))?null:k.invalid)&&(null==(k=r.roleForm.get("link"))?null:k.touched))),e.R7$(3),e.Y8G("placeholder","https://awh.co.id/"),e.R7$(),e.Y8G("ngIf",null==(C=r.roleForm.get("link"))?null:C.hasError("required"))}},dependencies:[E.Wk,c.RG,c.rl,c.nJ,c.TL,n.YN,n.qT,n.me,n.BC,n.cb,b.fS,b.fg,n.X1,n.j4,n.JD,f.MD,f.YU,f.bT,w.m_,Y.rQ],encapsulation:2})}}return l})()}]}}]);