"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[3685],{31849:(R,k,o)=>{o.d(k,{$:()=>w});var g=o(14085),v=o(87122),s=o(54438);const D=[[["","fuseCardFront",""]],[["","fuseCardBack",""]],"*",[["","fuseCardExpansion",""]]],f=["[fuseCardFront]","[fuseCardBack]","*","[fuseCardExpansion]"];function h(l,C){1&l&&(s.j41(0,"div",0),s.SdG(1),s.k0s(),s.j41(2,"div",1),s.SdG(3,1),s.k0s())}function S(l,C){1&l&&(s.j41(0,"div",2),s.SdG(1,3),s.k0s()),2&l&&s.Y8G("@expandCollapse",void 0)}function x(l,C){if(1&l&&(s.SdG(0,2),s.DNE(1,S,2,1,"div",2)),2&l){const c=s.XpG();s.R7$(),s.vxM(c.expanded?1:-1)}}let w=(()=>{class l{constructor(){this.expanded=!1,this.face="front",this.flippable=!1}get classList(){return{"fuse-card-expanded":this.expanded,"fuse-card-face-back":this.flippable&&"back"===this.face,"fuse-card-face-front":this.flippable&&"front"===this.face,"fuse-card-flippable":this.flippable}}ngOnChanges(c){"expanded"in c&&(this.expanded=(0,g.he)(c.expanded.currentValue)),"flippable"in c&&(this.flippable=(0,g.he)(c.flippable.currentValue))}static{this.\u0275fac=function(u){return new(u||l)}}static{this.\u0275cmp=s.VBU({type:l,selectors:[["fuse-card"]],hostVars:2,hostBindings:function(u,t){2&u&&s.HbH(t.classList)},inputs:{expanded:"expanded",face:"face",flippable:"flippable"},exportAs:["fuseCard"],standalone:!0,features:[s.OA$,s.aNF],ngContentSelectors:f,decls:2,vars:2,consts:[[1,"fuse-card-front"],[1,"fuse-card-back"],[1,"fuse-card-expansion"]],template:function(u,t){1&u&&(s.NAR(D),s.DNE(0,h,4,0)(1,x,2,1)),2&u&&(s.vxM(t.flippable?0:-1),s.R7$(),s.vxM(t.flippable?-1:1))},styles:["fuse-card{position:relative;display:flex;overflow:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable{border-radius:0;overflow:visible;transform-style:preserve-3d;transition:transform 1s;perspective:600px;background:transparent;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-front{visibility:hidden;opacity:0;transform:rotateY(180deg)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-back{visibility:visible;opacity:1;transform:rotateY(360deg)}fuse-card.fuse-card-flippable .fuse-card-front,fuse-card.fuse-card-flippable .fuse-card-back{display:flex;flex-direction:column;flex:1 1 auto;z-index:10;transition:transform .5s ease-out 0s,visibility 0s ease-in .2s,opacity 0s ease-in .2s;backface-visibility:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable .fuse-card-front{position:relative;opacity:1;visibility:visible;transform:rotateY(0);overflow:hidden}fuse-card.fuse-card-flippable .fuse-card-back{position:absolute;inset:0;opacity:0;visibility:hidden;transform:rotateY(180deg);overflow:hidden auto}\n"],encapsulation:2,data:{animation:v.X}})}}return l})()},3685:(R,k,o)=>{o.r(k),o.d(k,{default:()=>N});var g=o(10467),v=o(60177),s=o(89417),D=o(88834),f=o(25084),h=o(53719),S=o(99213),x=o(96695),w=o(90882),l=o(31849),C=o(89107),c=o(34941),u=o.n(c),t=o(54438),P=o(40711),M=o(25798),$=o(80507);const U=["drawer"],G=()=>[1,5,10,25];function T(p,E){if(1&p&&(t.j41(0,"div",44)(1,"p")(2,"strong"),t.EFF(3,"Nama User Profile:"),t.k0s(),t.EFF(4),t.k0s(),t.j41(5,"p")(6,"strong"),t.EFF(7,"Pembagian User:"),t.k0s(),t.EFF(8),t.k0s(),t.j41(9,"p")(10,"strong"),t.EFF(11,"Upload / Download:"),t.k0s(),t.EFF(12),t.k0s()()),2&p){const a=t.XpG();t.R7$(4),t.SpI(" ",a.selectedUser.profile_name,""),t.R7$(4),t.SpI(" ",a.selectedUser.shared_users,""),t.R7$(4),t.SpI(" ",a.selectedUser.rate_limit,"")}}function I(p,E){if(1&p){const a=t.RV6();t.j41(0,"tr",45),t.bIt("click",function(){t.eBV(a);const n=t.XpG();return t.Njj(n.openDrawer(n.roleData.profile_name))}),t.j41(1,"th",46)(2,"div",47)(3,"div",48),t.EFF(4),t.k0s(),t.j41(5,"div",49),t.EFF(6),t.k0s()()(),t.j41(7,"td",50),t.EFF(8),t.k0s(),t.j41(9,"td",50),t.EFF(10),t.k0s(),t.j41(11,"td",50),t.EFF(12),t.k0s(),t.j41(13,"td",50),t.EFF(14),t.k0s()()}if(2&p){const a=E.$implicit,e=t.XpG();t.R7$(4),t.JRh(a.user_name),t.R7$(2),t.JRh(a.user_name),t.R7$(2),t.SpI(" ",a.role," "),t.R7$(2),t.SpI(" ",e.convertBytesToMB(a.total_bytes_in).toFixed(2)," MB/s "),t.R7$(2),t.SpI(" ",e.convertBytesToMB(a.total_bytes_out).toFixed(2)," MB/s "),t.R7$(2),t.SpI(" ",e.convertBytesToMB(a.total_user_bytes).toFixed(2)," MB/s ")}}const j=new Date,B=j.getMonth(),Y=j.getFullYear(),N=(j.getDay(),[{path:"",component:(()=>{class p{constructor(a,e,n,r){this.bandwithService=a,this.userService=e,this.fuseLoadingService=n,this.cdr=r,this.range=new s.gE({start:new s.MJ(new Date(Y,B-1)),end:new s.MJ(new Date)}),this.drawerMode="side",this.drawerOpened=!0,this.pagedRoleDatas=[],this.userDatas=[],this.pageSize=5,this.currentPage=1,this.selectedUser=null,this.totalBandwidthMax=1e9,this.startDates=new Date(B-1).toLocaleDateString("en-CA"),this.endDates=(new Date).toLocaleDateString("en-CA"),this.range.get("end")?.valueChanges.subscribe(i=>{const d=this.range.get("start")?.value;if(d&&i){const b=d instanceof Date?d:new Date(d),y=i instanceof Date?i:new Date(i);this.startDates=b.toLocaleDateString("en-CA"),this.endDates=y.toLocaleDateString("en-CA"),this.fetcData(this.currentPage,this.startDates,this.endDates),console.log(this.startDates,this.endDates)}})}getFormattedDateTime(){const a=new Date,e=F=>F<10?"0"+F:F;return`${a.getFullYear()} - ${e(a.getMonth()+1)} - ${e(a.getDate())} ${e(a.getHours())}.${e(a.getMinutes())}.${e(a.getSeconds())}`}updateTimeRealTime(){setInterval(()=>{this.timeNow=this.getFormattedDateTime(),this.cdr.detectChanges()},100)}ngOnInit(){this.fuseLoadingService.show(),this.totalUser="Memuat Data ",this.totalUserBandwith="Memuat Data ",this.fetcData(this.currentPage,this.startDates,this.endDates),this.updateTimeRealTime(),this.cdr.detectChanges(),console.log(this.currentPage)}fetcData(a,e,n){var r=this;return(0,g.A)(function*(){const i=yield r.bandwithService.getUserBandwithByDate(e,n,a);console.log(i),r.userDatas=i.users,r.totalUser=i.pagination.total,r.totalUserBandwith=i.total_user,r.total_pages=i.pagination.last_page,r.cdr.detectChanges(),r.updatePagedData(),r.fuseLoadingService.hide()})()}updatePagedData(){const a=(this.currentPage-1)*this.pageSize;this.pagedRoleDatas=this.userDatas.slice(a,a+this.pageSize),this.cdr.detectChanges()}handlePage(a){var e=this;return(0,g.A)(function*(){e.pageSize=a.pageSize,e.currentPage=a.pageIndex+1,yield e.fetcData(e.currentPage,e.startDates,e.endDates),e.cdr.detectChanges()})()}generatePdf(){var a=this;return(0,g.A)(function*(){const e=new C.default;e.setFont("Inter"),e.addImage("../../../../../../assets/img/netpro-logo.png","PNG",10,10,50,20),e.setFontSize(8),e.text("adhivasindo.co.id   022-7508499   admin@adhivasindo.co.id",125,15),e.text("Jln. Edelweiss CRC 011 Ruko Crystal Summarecon ",135,20),e.text("Kec.Gedebage  Kota Bandung  ",160,25),e.setLineWidth(.5),e.line(10,30,200,30);let d=40;e.setFontSize(16),e.setFont("Inter","bold"),e.text("Laporan Penggunaan Bandwidth",65,d),e.setFont("Inter");const b=yield a.userService.getAllUser();e.setFontSize(12),d+=10,e.text("A. Data Hotspot User",14,d);const y=b.users.map((m,z)=>[z+1,m.name,`${a.convertBytesToMB(m["total-bytes"]).toFixed(2)} MB/s`,m.uptime]);d+=5,u()(e,{head:[["No","Nama Akun","Total Bandwidth","Waktu Pemakaian"]],body:y,startY:d,styles:{lineWidth:.5,lineColor:[0,0,0],cellPadding:2},headStyles:{fillColor:[200,200,200],textColor:[0,0,0],lineWidth:.5,lineColor:[0,0,0]},didParseCell:m=>{m.cell.styles.lineWidth=.5,m.cell.styles.lineColor=[0,0,0]}});const F=e.internal.pageSize.getHeight()-30;e.addImage("../../../../../assets/img/footer-pdf.png","PNG",0,F,e.internal.pageSize.getWidth(),30),e.save("laporan_dengan_point_dan_tabel.pdf")})()}getBarColor(a){return a<50?"green":a>=50&&a<80?"orange":"red"}convertBytesToMB(a){return parseFloat(a)/1048576}calculatePercentage(a){return a/this.totalBandwidthMax*100}static{this.\u0275fac=function(e){return new(e||p)(t.rXU(P.P),t.rXU(M.D),t.rXU($.X),t.rXU(t.gRc))}}static{this.\u0275cmp=t.VBU({type:p,selectors:[["app-bandwith-profile"]],viewQuery:function(e,n){if(1&e&&(t.GBs(x.iy,5),t.GBs(U,5)),2&e){let r;t.mGM(r=t.lsd())&&(n.paginator=r.first),t.mGM(r=t.lsd())&&(n.drawer=r.first)}},standalone:!0,features:[t.aNF],decls:74,vars:11,consts:[["drawer",""],["fuseCard",""],["picker",""],[1,"absolute","inset-0","flex","min-w-0","flex-col","overflow-hidden","pb-10"],[1,"h-full"],["mode","side",1,"md:w-1/2","lg:w-1/4","w-full"],[1,"bg-slate-700","h-[30svh]","relative"],["viewBox","0 0 960 540","width","100%","height","100%","preserveAspectRatio","xMidYMax slice","xmlns","http://www.w3.org/2000/svg",1,"absolute","inset-0","pointer-events-none"],["fill","none","stroke","currentColor","stroke-width","100",1,"text-gray-700","opacity-25"],["r","234","cx","196","cy","23"],["r","234","cx","790","cy","491"],["mat-button","",1,"text-white","font-bold","absolute","right-0",3,"click"],["svgIcon","close",1,"text-white","font-bold"],["class","p-3",4,"ngIf"],[1,"h-full","p-4","overflow-y-scroll"],[1,"grid-cols-1","sm:grid-cols-2","grid","gap-6","px-3"],[1,"flex","flex-col","px-8","py-6","pb-4","shadow-lg"],[1,"my-5","bg-neutral-100","p-6","rounded-lg"],[3,"rangePicker","formGroup"],["matStartDate","","formControlName","start","placeholder","Start date"],["matEndDate","","formControlName","end","placeholder","End date"],["matSuffix","",3,"for"],[1,"grid","grid-cols-1","gap-3"],[1,"text-xl","font-bold"],[1,"mt-2"],[1,"font-medium"],[1,"flex","flex-col","px-8","py-6","pb-4","shadow-lg","bg-slate-800","text-white"],[1,"p-3","overflow-y-hidden"],[1,"bg-card","flex","flex-col","overflow-hidden","rounded-2xl","h-fit","w-full","p-4","shadow-lg","sm:col-span-6"],[1,"truncate","text-lg","font-medium","leading-6","tracking-tight","px-4","flex","flex-col","sm:flex-row","sm:items-center","items-start","w-full","justify-between"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","gap-3"],["for","table-search",1,"sr-only"],[1,"relative","my-2"],[1,"absolute","inset-y-0","rtl:inset-r-0","start-0","flex","items-center","ps-3","pointer-events-none"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"w-4","h-4","text-gray-500","dark:text-gray-400"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"],["type","text","id","table-search-users","placeholder","Search users",1,"block","p-2","ps-10","text-sm","text-gray-900","border","border-gray-300","rounded-lg","bg-gray-50","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],[1,"py-2","sm:px-4","overflow-y-hidden"],[1,"relative","overflow-x-auto","sm:rounded-lg","max-h-[60svh]"],[1,"w-full","h-fit","text-sm","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","dark:text-gray-400"],["scope","col",1,"px-5","py-3","text-xs","sm:text-sm"],["class","hover:bg-neutral-200 transition-all",3,"click",4,"ngFor","ngForOf"],["showFirstLastButtons","",3,"page","length","pageSize","pageSizeOptions"],[1,"p-3"],[1,"hover:bg-neutral-200","transition-all",3,"click"],["scope","row",1,"flex","items-center","px-5","py-4","font-medium","text-gray-900","whitespace-nowrap","dark:text-white"],[1,"max-sm:pr-4"],[1,"text-base","font-semibold"],[1,"font-normal","text-gray-500"],[1,"px-2","sm:px-5","py-4","text-sm","sm:text-sm"]],template:function(e,n){if(1&e){const r=t.RV6();t.j41(0,"div",3)(1,"mat-sidenav-container",4)(2,"mat-sidenav",5,0)(4,"div",6),t.qSk(),t.j41(5,"svg",7)(6,"g",8),t.nrm(7,"circle",9)(8,"circle",10),t.k0s()(),t.joV(),t.j41(9,"button",11),t.bIt("click",function(){t.eBV(r);const d=t.sdS(3);return t.Njj(d.close())}),t.nrm(10,"mat-icon",12),t.k0s()(),t.j41(11,"h2"),t.EFF(12,"Detail Pengguna"),t.k0s(),t.DNE(13,T,13,3,"div",13),t.k0s(),t.j41(14,"mat-sidenav-content",14)(15,"div",15)(16,"fuse-card",16,1)(18,"mat-form-field",17)(19,"mat-label"),t.EFF(20,"Enter a date range"),t.k0s(),t.j41(21,"mat-date-range-input",18),t.nrm(22,"input",19)(23,"input",20),t.k0s(),t.j41(24,"mat-hint"),t.EFF(25,"MM/DD/YYYY \u2013 MM/DD/YYYY"),t.k0s(),t.nrm(26,"mat-datepicker-toggle",21)(27,"mat-date-range-picker",null,2),t.k0s()(),t.j41(29,"div",22)(30,"fuse-card",16,1)(32,"div",23),t.EFF(33,"Total User"),t.k0s(),t.j41(34,"div",24)(35,"p",25),t.EFF(36),t.k0s()()(),t.j41(37,"fuse-card",26,1)(39,"div",23),t.EFF(40,"Time Now"),t.k0s(),t.j41(41,"div",24)(42,"p",25),t.EFF(43),t.k0s()()()()(),t.j41(44,"section",27)(45,"div",28)(46,"div",29),t.EFF(47," User Bandwith "),t.j41(48,"div",30)(49,"label",31),t.EFF(50,"Search"),t.k0s(),t.j41(51,"div",32)(52,"div",33),t.qSk(),t.j41(53,"svg",34),t.nrm(54,"path",35),t.k0s()(),t.joV(),t.nrm(55,"input",36),t.k0s()()(),t.j41(56,"div",37)(57,"div",38)(58,"table",39)(59,"thead",40)(60,"tr")(61,"th",41),t.EFF(62," Name "),t.k0s(),t.j41(63,"th",41),t.EFF(64," Role "),t.k0s(),t.j41(65,"th",41),t.EFF(66," Upload "),t.k0s(),t.j41(67,"th",41),t.EFF(68," Download "),t.k0s(),t.j41(69,"th",41),t.EFF(70," Total Bandwith "),t.k0s()()(),t.j41(71,"tbody"),t.DNE(72,I,15,6,"tr",42),t.k0s()()()(),t.j41(73,"mat-paginator",43),t.bIt("page",function(d){return t.eBV(r),t.Njj(n.handlePage(d))}),t.k0s()()()()()()}if(2&e){const r=t.sdS(28);t.R7$(13),t.Y8G("ngIf",n.selectedUser),t.R7$(8),t.Y8G("rangePicker",r)("formGroup",n.range),t.R7$(5),t.Y8G("for",r),t.R7$(10),t.SpI("",n.totalUser," User"),t.R7$(7),t.JRh(n.timeNow),t.R7$(29),t.Y8G("ngForOf",n.userDatas),t.R7$(),t.Y8G("length",n.total_pages)("pageSize",1)("pageSizeOptions",t.lJ4(10,G))}},dependencies:[S.An,D.Hl,D.$z,w.LG,w.US,w.El,v.MD,v.Sq,v.bT,l.$,x.Ou,x.iy,f.X6,f.bU,f.el,f.xR,f.IG,f.SG,h.RG,h.rl,h.nJ,h.MV,h.yw,s.YN,s.me,s.BC,s.cb,s.X1,s.j4,s.JD],changeDetection:0})}}return p})()}])}}]);