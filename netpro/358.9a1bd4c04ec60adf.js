"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[358],{80358:(U,v,i)=>{i.r(v),i.d(v,{default:()=>L});var t=i(54438),u=i(88834),m=i(99213),F=i(10467),l=i(60177),a=i(89417),p=i(30636),_=i(59042),E=i(22080),f=i(89692),g=i(75351),h=i(3366),R=i(45794);let k=(()=>{class e{constructor(){this.command=(0,t.vPA)([]),this.isLoading=(0,t.vPA)(!1),this.isNotFound=(0,t.vPA)(!1),this._toastService=(0,t.WQX)(R.tw),this._apiService=(0,t.WQX)(h.G)}PostVPN(o){var r=this;return(0,F.A)(function*(){r.isLoading.set(!0),yield r._apiService.post("/api/configure-vpn-server",o).then(n=>{r.isLoading.set(!1),r.isNotFound.set(!1),r.command.set(n.commands??[])}).catch(n=>{r.isLoading.set(!1),r.isNotFound.set(!0),r._toastService.error("Error","Failed to post data"),console.error("Error posts vpn:",n)})})()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function A(e,d){1&e&&(t.j41(0,"mat-error"),t.EFF(1,"Username Required"),t.k0s())}function I(e,d){1&e&&(t.j41(0,"mat-error"),t.EFF(1,"password Required"),t.k0s())}function G(e,d){1&e&&(t.j41(0,"mat-error"),t.EFF(1,"Pool Name Required"),t.k0s())}function j(e,d){1&e&&(t.j41(0,"mat-error"),t.EFF(1,"Client Ip Range Required"),t.k0s())}function w(e,d){1&e&&(t.j41(0,"mat-error"),t.EFF(1,"Port Nat Required"),t.k0s())}function V(e,d){1&e&&(t.j41(0,"mat-error"),t.EFF(1,"Address Network Required"),t.k0s())}function Y(e,d){1&e&&(t.j41(0,"mat-error"),t.EFF(1,"Port Address Required"),t.k0s())}let P=(()=>{class e{constructor(o,r,n,s,c){this.fb=o,this._apiService=r,this._addVpnService=n,this.dialogRef=s,this.data=c,this.vpnForm=this.fb.group({username:["",[a.k0.required]],password:["",[a.k0.required]],pool_name:["",[a.k0.required]],client_ip_range:["",[a.k0.required]],port_Nat:["",[a.k0.required]],address_network:["",[a.k0.required]],port_address:["",[a.k0.required]]})}get command(){return this._addVpnService.command()}get isLoading(){return this._addVpnService.isLoading()}onSubmit(){var o=this;return(0,F.A)(function*(){if(o.vpnForm.valid)try{yield o._addVpnService.PostVPN(o.vpnForm.value)}catch(r){throw r}finally{console.log(o._addVpnService.isLoading()),!1===o._addVpnService.isLoading()&&(console.log(o.isLoading),o.dialogRef.close())}})()}onNoClick(){this.dialogRef.close()}static{this.\u0275fac=function(r){return new(r||e)(t.rXU(a.ok),t.rXU(h.G),t.rXU(k),t.rXU(g.CP),t.rXU(g.Vh))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-form-add"]],decls:44,vars:9,consts:[[1,"h-full","w-full","flex","flex-col"],[1,"flex","justify-end"],[1,"w-auto"],["mat-flat-button","","svgIcon","mat_solid:close",1,"self-end"],["message","Sumbitting Form...","spinner","circular",3,"isOpen"],[1,""],[1,"bg-card","mt-2","flex","flex-col","overflow-hidden","rounded-2xl","p-8","pb-4",3,"formGroup"],["floatLabel","always",1,"w-full","mb-2"],["matInput","","formControlName","username","type","text","placeholder","Your Username"],[4,"ngIf"],["matInput","","formControlName","password","type","text","placeholder","Your Password"],["matInput","","formControlName","pool_name","type","text","placeholder","Your Pool Name"],["matInput","","formControlName","client_ip_range","type","text","placeholder","Your Client Ip Range"],["matInput","","formControlName","port_Nat","type","text","placeholder","Your Port Nat"],["matInput","","formControlName","address_network","type","text","placeholder","Your Address Network"],["matInput","","formControlName","port_address","type","text","placeholder","Your Port Address"],["type","submit",1,"bg-green-600","text-white","p-2","rounded",3,"click"]],template:function(r,n){if(1&r&&(t.j41(0,"div",0)(1,"div",1)(2,"a",2),t.nrm(3,"mat-icon",3),t.k0s()(),t.nrm(4,"ion-loading",4),t.j41(5,"div",5)(6,"form",6)(7,"mat-form-field",7)(8,"mat-label"),t.EFF(9,"Username"),t.k0s(),t.nrm(10,"input",8),t.DNE(11,A,2,0,"mat-error",9),t.k0s(),t.j41(12,"mat-form-field",7)(13,"mat-label"),t.EFF(14,"Password"),t.k0s(),t.nrm(15,"input",10),t.DNE(16,I,2,0,"mat-error",9),t.k0s(),t.j41(17,"mat-form-field",7)(18,"mat-label"),t.EFF(19,"Pool Name"),t.k0s(),t.nrm(20,"input",11),t.DNE(21,G,2,0,"mat-error",9),t.k0s(),t.j41(22,"mat-form-field",7)(23,"mat-label"),t.EFF(24,"Client Ip Range"),t.k0s(),t.nrm(25,"input",12),t.DNE(26,j,2,0,"mat-error",9),t.k0s(),t.j41(27,"mat-form-field",7)(28,"mat-label"),t.EFF(29,"Port Nat"),t.k0s(),t.nrm(30,"input",13),t.DNE(31,w,2,0,"mat-error",9),t.k0s(),t.j41(32,"mat-form-field",7)(33,"mat-label"),t.EFF(34,"Address Network"),t.k0s(),t.nrm(35,"input",14),t.DNE(36,V,2,0,"mat-error",9),t.k0s(),t.j41(37,"mat-form-field",7)(38,"mat-label"),t.EFF(39,"Port Address"),t.k0s(),t.nrm(40,"input",15),t.DNE(41,Y,2,0,"mat-error",9),t.k0s(),t.j41(42,"button",16),t.bIt("click",function(){return n.onSubmit()}),t.EFF(43," Add VPN "),t.k0s()()()()),2&r){let s,c,x,y,N,C,b;t.R7$(4),t.Y8G("isOpen",n.isLoading),t.R7$(2),t.Y8G("formGroup",n.vpnForm),t.R7$(5),t.Y8G("ngIf",null==(s=n.vpnForm.get("username"))?null:s.hasError("required")),t.R7$(5),t.Y8G("ngIf",null==(c=n.vpnForm.get("password"))?null:c.hasError("required")),t.R7$(5),t.Y8G("ngIf",null==(x=n.vpnForm.get("pool_name"))?null:x.hasError("required")),t.R7$(5),t.Y8G("ngIf",null==(y=n.vpnForm.get("client_ip_range"))?null:y.hasError("required")),t.R7$(5),t.Y8G("ngIf",null==(N=n.vpnForm.get("port_Nat"))?null:N.hasError("required")),t.R7$(5),t.Y8G("ngIf",null==(C=n.vpnForm.get("address_network"))?null:C.hasError("required")),t.R7$(5),t.Y8G("ngIf",null==(b=n.vpnForm.get("port_address"))?null:b.hasError("required"))}},dependencies:[m.m_,m.An,u.Hl,a.YN,a.qT,a.me,a.BC,a.cb,a.X1,a.j4,a.JD,p.RG,p.rl,p.nJ,p.TL,E.rQ,l.MD,l.bT,_.fS,_.fg,f.FQ],encapsulation:2})}}return e})();function T(e,d){if(1&e&&t.nrm(0,"input",13),2&e){const o=t.XpG(2).index,r=t.XpG(2);t.Y8G("value",r.command[o+1])}}function $(e,d){if(1&e&&(t.j41(0,"div")(1,"label",9),t.EFF(2),t.k0s(),t.nrm(3,"input",10),t.DNE(4,T,1,1,"input",11),t.j41(5,"button",12),t.EFF(6),t.k0s()()),2&e){const o=t.XpG(),r=o.$implicit,n=o.index,s=t.XpG(2);t.R7$(2),t.Lme("Command ",n+1," & ",n+2,""),t.R7$(),t.Y8G("value",r),t.R7$(),t.Y8G("ngIf",s.command[n+1]),t.R7$(),t.Y8G("cbContent",r+"\n"+(s.command[n+1]||"")),t.R7$(),t.Lme(" \u{1f4cb} Copy Command ",n+1," & ",n+2," ")}}function D(e,d){if(1&e&&(t.j41(0,"div",7),t.DNE(1,$,7,7,"div",8),t.k0s()),2&e){const o=d.index;t.R7$(),t.Y8G("ngIf",o%2==0)}}function S(e,d){if(1&e&&(t.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"h2",5),t.EFF(4,"Insert Command To MikroTik"),t.k0s()(),t.DNE(5,D,2,1,"div",6),t.k0s()()),2&e){const o=t.XpG();t.R7$(5),t.Y8G("ngForOf",o.command)}}function X(e,d){if(1&e){const o=t.RV6();t.j41(0,"div",2),t.nrm(1,"img",14),t.j41(2,"a",15),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.addNewVPN())}),t.nrm(3,"mat-icon",16),t.j41(4,"span",17),t.EFF(5,"Add VPN"),t.k0s()()()}2&e&&(t.R7$(2),t.Y8G("color","primary"),t.R7$(),t.Y8G("svgIcon","vpn_key"))}const L=[{path:"",component:(()=>{class e{constructor(o,r){this._matDialog=o,this._addVpnService=r,(0,t.QZP)(()=>{})}get command(){return this._addVpnService.command()}addNewVPN(){this._matDialog.open(P,{width:window.innerWidth<600?"90%":"50%",maxWidth:"100vw"})}static{this.\u0275fac=function(r){return new(r||e)(t.rXU(g.bZ),t.rXU(k))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-add-vpn"]],decls:3,vars:2,consts:[[1,"w-full","h-full","flex","justify-center","items-center","mx-4"],["class","flex flex-col items-center gap-5",4,"ngIf"],[1,"flex","flex-col","items-center","gap-5"],[1,"w-full","bg-white","self-start","rounded-lg","shadow-md","p-6","space-y-4"],[1,"flex","items-center","space-x-2"],[1,"text-lg","font-semibold","text-gray-800"],["class","relative",4,"ngFor","ngForOf"],[1,"relative"],[4,"ngIf"],[1,"text-sm","font-medium","text-gray-600"],["type","text","readonly","",1,"w-full","p-3","border","border-gray-300","rounded-md","bg-gray-100","text-gray-700","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"value"],["type","text","class","w-full p-3 border border-gray-300 rounded-md bg-gray-100 text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 mt-2","readonly","",3,"value",4,"ngIf"],["ngxClipboard","",1,"w-full","bg-blue-600","text-white","py-2","rounded-md","hover:bg-blue-700","transition","mt-2",3,"cbContent"],["type","text","readonly","",1,"w-full","p-3","border","border-gray-300","rounded-md","bg-gray-100","text-gray-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","mt-2",3,"value"],["src","images/cards/vpn.png","alt","vpn.png",1,"sm:w-1/3","md:w-1/4","lg:w-1/5"],["mat-flat-button","",3,"click","color"],[1,"icon-size-5",3,"svgIcon"],[1,"block","ml-2"]],template:function(r,n){1&r&&(t.j41(0,"section",0),t.DNE(1,S,6,1,"div",1)(2,X,6,2,"div",1),t.k0s()),2&r&&(t.R7$(),t.Y8G("ngIf",n.command.length>0),t.R7$(),t.Y8G("ngIf",0==n.command.length))},dependencies:[u.Hl,u.It,m.m_,m.An,l.MD,l.Sq,l.bT,f.FQ,f.Uo],encapsulation:2})}}return e})()}]}}]);