"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[2703],{95084:(ql,Zs,tt)=>{tt.d(Zs,{A:()=>$l});var Pe=tt(10467),wn=tt(88951),Fe=tt(19495),We=tt(56218),mt=tt(10600),Ar=Object.defineProperty,ea=Object.getOwnPropertyDescriptor,ta=Object.getOwnPropertyNames,ra=Object.prototype.hasOwnProperty,Le=(e,o)=>()=>(e&&(o=e(e=0)),o),ce=(e,o)=>()=>(o||e((o={exports:{}}).exports,o),o.exports),_t=(e,o)=>{for(var t in o)Ar(e,t,{get:o[t],enumerable:!0})},Re=e=>((e,o,t,l)=>{if(o&&"object"==typeof o||"function"==typeof o)for(let u of ta(o))!ra.call(e,u)&&undefined!==u&&Ar(e,u,{get:()=>o[u],enumerable:!(l=ea(o,u))||l.enumerable});return e})(Ar({},"__esModule",{value:!0}),e),ie=Le(()=>{}),Ae={};function Ir(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}function na(){!Et||!St||(Et=!1,St.length?Je=St.concat(Je):Vt=-1,Je.length&&vn())}function vn(){if(!Et){var e=setTimeout(na,0);Et=!0;for(var o=Je.length;o;){for(St=Je,Je=[];++Vt<o;)St&&St[Vt].run();Vt=-1,o=Je.length}St=null,Et=!1,clearTimeout(e)}}function _n(e){var o=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)o[t-1]=arguments[t];Je.push(new En(e,o)),1===Je.length&&!Et&&setTimeout(vn,0)}function En(e,o){this.fun=e,this.array=o}function De(){}function Sn(e){Ir("_linkedBinding")}function An(e){Ir("dlopen")}function In(){return[]}function Tn(){return[]}function kn(e,o){if(!e)throw new Error(o||"assertion error")}function Rn(){return!1}function On(){return it.now()/1e3}function tr(e){var o=Math.floor(.001*(Date.now()-it.now())),t=.001*it.now(),l=Math.floor(t)+o,u=Math.floor(t%1*1e9);return e&&(l-=e[0],(u-=e[1])<0&&(l--,u+=rr)),[l,u]}function rt(){return Ci}function Cn(e){return[]}_t(Ae,{_debugEnd:()=>ni,_debugProcess:()=>ii,_events:()=>vi,_eventsCount:()=>_i,_exiting:()=>qr,_fatalExceptions:()=>ei,_getActiveHandles:()=>Tn,_getActiveRequests:()=>In,_kill:()=>zr,_linkedBinding:()=>Sn,_maxListeners:()=>wi,_preload_modules:()=>yi,_rawDebug:()=>Fr,_startProfilerIdleNotifier:()=>oi,_stopProfilerIdleNotifier:()=>si,_tickCallback:()=>ri,abort:()=>hi,addListener:()=>Ei,allowedNodeEnvironmentFlags:()=>Xr,arch:()=>kr,argv:()=>Cr,argv0:()=>gi,assert:()=>kn,binding:()=>Ur,chdir:()=>Nr,config:()=>Hr,cpuUsage:()=>zt,cwd:()=>jr,debugPort:()=>pi,default:()=>Ci,dlopen:()=>An,domain:()=>$r,emit:()=>ki,emitWarning:()=>Mr,env:()=>Or,execArgv:()=>Pr,execPath:()=>di,exit:()=>Gr,features:()=>Zr,hasUncaughtExceptionCaptureCallback:()=>Rn,hrtime:()=>tr,kill:()=>Qr,listeners:()=>Cn,memoryUsage:()=>Yr,moduleLoadList:()=>Wr,nextTick:()=>_n,off:()=>Ai,on:()=>rt,once:()=>Si,openStdin:()=>Jr,pid:()=>ci,platform:()=>Rr,ppid:()=>fi,prependListener:()=>Ri,prependOnceListener:()=>Oi,reallyExit:()=>Vr,release:()=>Dr,removeAllListeners:()=>Ti,removeListener:()=>Ii,resourceUsage:()=>Kr,setSourceMapsEnabled:()=>mi,setUncaughtExceptionCaptureCallback:()=>ti,stderr:()=>li,stdin:()=>ui,stdout:()=>ai,title:()=>Tr,umask:()=>Lr,uptime:()=>On,version:()=>Br,versions:()=>xr});var Je,Et,St,Vt,Tr,kr,Rr,Or,Cr,Pr,Br,xr,Mr,Ur,Lr,jr,Nr,Dr,Fr,Wr,$r,qr,Hr,Vr,zr,zt,Kr,Yr,Qr,Gr,Jr,Xr,Zr,ei,ti,ri,ii,ni,oi,si,ai,li,ui,hi,ci,fi,di,pi,gi,yi,mi,it,bi,rr,wi,vi,_i,Ei,Si,Ai,Ii,Ti,ki,Ri,Oi,Ci,oa=Le(()=>{ie(),oe(),ne(),Je=[],Et=!1,Vt=-1,En.prototype.run=function(){this.fun.apply(null,this.array)},Tr="browser",kr="x64",Rr="browser",Or={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},Cr=["/usr/bin/node"],Pr=[],Br="v16.8.0",xr={},Mr=function(e,o){console.warn((o?o+": ":"")+e)},Ur=function(e){Ir("binding")},Lr=function(e){return 0},jr=function(){return"/"},Nr=function(e){},Dr={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},Fr=De,Wr=[],$r={},qr=!1,Hr={},Vr=De,zr=De,Kr=zt=function(){return{}},Yr=zt,Qr=De,Gr=De,Jr=De,Xr={},Zr={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},ei=De,ti=De,ri=De,ii=De,ni=De,oi=De,si=De,ai=void 0,li=void 0,ui=void 0,hi=De,ci=2,fi=1,di="/bin/usr/node",pi=9229,gi="node",yi=[],mi=De,void 0===(it={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0}).now&&(bi=Date.now(),it.timing&&it.timing.navigationStart&&(bi=it.timing.navigationStart),it.now=()=>Date.now()-bi),rr=1e9,tr.bigint=function(e){var o=tr(e);return typeof BigInt>"u"?o[0]*rr+o[1]:BigInt(o[0]*rr)+BigInt(o[1])},Ci={version:Br,versions:xr,arch:kr,platform:Rr,release:Dr,_rawDebug:Fr,moduleLoadList:Wr,binding:Ur,_linkedBinding:Sn,_events:vi={},_eventsCount:_i=0,_maxListeners:wi=10,on:rt,addListener:Ei=rt,once:Si=rt,off:Ai=rt,removeListener:Ii=rt,removeAllListeners:Ti=rt,emit:ki=De,prependListener:Ri=rt,prependOnceListener:Oi=rt,listeners:Cn,domain:$r,_exiting:qr,config:Hr,dlopen:An,uptime:On,_getActiveRequests:In,_getActiveHandles:Tn,reallyExit:Vr,_kill:zr,cpuUsage:zt,resourceUsage:Kr,memoryUsage:Yr,kill:Qr,exit:Gr,openStdin:Jr,allowedNodeEnvironmentFlags:Xr,assert:kn,features:Zr,_fatalExceptions:ei,setUncaughtExceptionCaptureCallback:ti,hasUncaughtExceptionCaptureCallback:Rn,emitWarning:Mr,nextTick:_n,_tickCallback:ri,_debugProcess:ii,_debugEnd:ni,_startProfilerIdleNotifier:oi,_stopProfilerIdleNotifier:si,stdout:ai,stdin:ui,stderr:li,abort:hi,umask:Lr,chdir:Nr,cwd:jr,env:Or,title:Tr,argv:Cr,execArgv:Pr,pid:ci,ppid:fi,execPath:di,debugPort:pi,hrtime:tr,argv0:gi,_preload_modules:yi,setSourceMapsEnabled:mi}}),ne=Le(()=>{oa()}),je={};function la(){if(xi)return bt;xi=!0;let e=function sa(){if(Pi)return Dt;Pi=!0,Dt.byteLength=function s(m){var w=r(m),v=w[1];return 3*(w[0]+v)/4-v},Dt.toByteArray=function a(m){var w,U,g=r(m),v=g[0],_=g[1],S=new t(function n(m,w,g){return 3*(w+g)/4-g}(0,v,_)),E=0,C=_>0?v-4:v;for(U=0;U<C;U+=4)w=o[m.charCodeAt(U)]<<18|o[m.charCodeAt(U+1)]<<12|o[m.charCodeAt(U+2)]<<6|o[m.charCodeAt(U+3)],S[E++]=w>>16&255,S[E++]=w>>8&255,S[E++]=255&w;return 2===_&&(w=o[m.charCodeAt(U)]<<2|o[m.charCodeAt(U+1)]>>4,S[E++]=255&w),1===_&&(w=o[m.charCodeAt(U)]<<10|o[m.charCodeAt(U+1)]<<4|o[m.charCodeAt(U+2)]>>2,S[E++]=w>>8&255,S[E++]=255&w),S},Dt.fromByteArray=function p(m){for(var w,g=m.length,v=g%3,_=[],S=16383,E=0,C=g-v;E<C;E+=S)_.push(d(m,E,E+S>C?C:E+S));return 1===v?_.push(e[(w=m[g-1])>>2]+e[w<<4&63]+"=="):2===v&&_.push(e[(w=(m[g-2]<<8)+m[g-1])>>10]+e[w>>4&63]+e[w<<2&63]+"="),_.join("")};for(var e=[],o=[],t=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0;u<64;++u)e[u]=l[u],o[l.charCodeAt(u)]=u;function r(m){var w=m.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=m.indexOf("=");return-1===g&&(g=w),[g,g===w?0:4-g%4]}function h(m){return e[m>>18&63]+e[m>>12&63]+e[m>>6&63]+e[63&m]}function d(m,w,g){for(var _=[],S=w;S<g;S+=3)_.push(h((m[S]<<16&16711680)+(m[S+1]<<8&65280)+(255&m[S+2])));return _.join("")}return o[45]=62,o[95]=63,Dt}(),o=function aa(){return Bi||(Bi=!0,Kt.read=function(e,o,t,l,u){var i,r,s=8*u-l-1,n=(1<<s)-1,a=n>>1,h=-7,d=t?u-1:0,p=t?-1:1,m=e[o+d];for(d+=p,i=m&(1<<-h)-1,m>>=-h,h+=s;h>0;i=256*i+e[o+d],d+=p,h-=8);for(r=i&(1<<-h)-1,i>>=-h,h+=l;h>0;r=256*r+e[o+d],d+=p,h-=8);if(0===i)i=1-a;else{if(i===n)return r?NaN:1/0*(m?-1:1);r+=Math.pow(2,l),i-=a}return(m?-1:1)*r*Math.pow(2,i-l)},Kt.write=function(e,o,t,l,u,i){var r,s,n,a=8*i-u-1,h=(1<<a)-1,d=h>>1,p=23===u?Math.pow(2,-24)-Math.pow(2,-77):0,m=l?0:i-1,w=l?1:-1,g=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(s=isNaN(o)?1:0,r=h):(r=Math.floor(Math.log(o)/Math.LN2),o*(n=Math.pow(2,-r))<1&&(r--,n*=2),(o+=r+d>=1?p/n:p*Math.pow(2,1-d))*n>=2&&(r++,n/=2),r+d>=h?(s=0,r=h):r+d>=1?(s=(o*n-1)*Math.pow(2,u),r+=d):(s=o*Math.pow(2,d-1)*Math.pow(2,u),r=0));u>=8;e[t+m]=255&s,m+=w,s/=256,u-=8);for(r=r<<u|s,a+=u;a>0;e[t+m]=255&r,m+=w,r/=256,a-=8);e[t+m-w]|=128*g}),Kt}(),t="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;bt.Buffer=r,bt.SlowBuffer=function _(c){return+c!=c&&(c=0),r.alloc(+c)},bt.INSPECT_MAX_BYTES=50;let l=2147483647;function i(c){if(c>l)throw new RangeError('The value "'+c+'" is invalid for option "size"');let y=new Uint8Array(c);return Object.setPrototypeOf(y,r.prototype),y}function r(c,y,f){if("number"==typeof c){if("string"==typeof y)throw new TypeError('The "string" argument must be of type string. Received type number');return h(c)}return s(c,y,f)}function s(c,y,f){if("string"==typeof c)return function d(c,y){if(("string"!=typeof y||""===y)&&(y="utf8"),!r.isEncoding(y))throw new TypeError("Unknown encoding: "+y);let f=0|S(c,y),b=i(f),R=b.write(c,y);return R!==f&&(b=b.slice(0,R)),b}(c,y);if(ArrayBuffer.isView(c))return function m(c){if(Q(c,Uint8Array)){let y=new Uint8Array(c);return w(y.buffer,y.byteOffset,y.byteLength)}return p(c)}(c);if(null==c)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c);if(Q(c,ArrayBuffer)||c&&Q(c.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Q(c,SharedArrayBuffer)||c&&Q(c.buffer,SharedArrayBuffer)))return w(c,y,f);if("number"==typeof c)throw new TypeError('The "value" argument must not be of type number. Received type number');let b=c.valueOf&&c.valueOf();if(null!=b&&b!==c)return r.from(b,y,f);let R=function g(c){if(r.isBuffer(c)){let y=0|v(c.length),f=i(y);return 0===f.length||c.copy(f,0,0,y),f}return void 0!==c.length?"number"!=typeof c.length||fe(c.length)?i(0):p(c):"Buffer"===c.type&&Array.isArray(c.data)?p(c.data):void 0}(c);if(R)return R;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof c[Symbol.toPrimitive])return r.from(c[Symbol.toPrimitive]("string"),y,f);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c)}function n(c){if("number"!=typeof c)throw new TypeError('"size" argument must be of type number');if(c<0)throw new RangeError('The value "'+c+'" is invalid for option "size"')}function h(c){return n(c),i(c<0?0:0|v(c))}function p(c){let y=c.length<0?0:0|v(c.length),f=i(y);for(let b=0;b<y;b+=1)f[b]=255&c[b];return f}function w(c,y,f){if(y<0||c.byteLength<y)throw new RangeError('"offset" is outside of buffer bounds');if(c.byteLength<y+(f||0))throw new RangeError('"length" is outside of buffer bounds');let b;return b=void 0===y&&void 0===f?new Uint8Array(c):void 0===f?new Uint8Array(c,y):new Uint8Array(c,y,f),Object.setPrototypeOf(b,r.prototype),b}function v(c){if(c>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return 0|c}function S(c,y){if(r.isBuffer(c))return c.length;if(ArrayBuffer.isView(c)||Q(c,ArrayBuffer))return c.byteLength;if("string"!=typeof c)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof c);let f=c.length,b=arguments.length>2&&!0===arguments[2];if(!b&&0===f)return 0;let R=!1;for(;;)switch(y){case"ascii":case"latin1":case"binary":return f;case"utf8":case"utf-8":return B(c).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*f;case"hex":return f>>>1;case"base64":return $(c).length;default:if(R)return b?-1:B(c).length;y=(""+y).toLowerCase(),R=!0}}function E(c,y,f){let b=!1;if((void 0===y||y<0)&&(y=0),y>this.length||((void 0===f||f>this.length)&&(f=this.length),f<=0)||(f>>>=0)<=(y>>>=0))return"";for(c||(c="utf8");;)switch(c){case"hex":return D(this,y,f);case"utf8":case"utf-8":return F(this,y,f);case"ascii":return ee(this,y,f);case"latin1":case"binary":return ue(this,y,f);case"base64":return P(this,y,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,y,f);default:if(b)throw new TypeError("Unknown encoding: "+c);c=(c+"").toLowerCase(),b=!0}}function C(c,y,f){let b=c[y];c[y]=c[f],c[f]=b}function U(c,y,f,b,R){if(0===c.length)return-1;if("string"==typeof f?(b=f,f=0):f>2147483647?f=2147483647:f<-2147483648&&(f=-2147483648),fe(f=+f)&&(f=R?0:c.length-1),f<0&&(f=c.length+f),f>=c.length){if(R)return-1;f=c.length-1}else if(f<0){if(!R)return-1;f=0}if("string"==typeof y&&(y=r.from(y,b)),r.isBuffer(y))return 0===y.length?-1:A(c,y,f,b,R);if("number"==typeof y)return y&=255,"function"==typeof Uint8Array.prototype.indexOf?R?Uint8Array.prototype.indexOf.call(c,y,f):Uint8Array.prototype.lastIndexOf.call(c,y,f):A(c,[y],f,b,R);throw new TypeError("val must be string, number or Buffer")}function A(c,y,f,b,R){let Se,L=1,H=c.length,we=y.length;if(void 0!==b&&("ucs2"===(b=String(b).toLowerCase())||"ucs-2"===b||"utf16le"===b||"utf-16le"===b)){if(c.length<2||y.length<2)return-1;L=2,H/=2,we/=2,f/=2}function _e(Ee,Ie){return 1===L?Ee[Ie]:Ee.readUInt16BE(Ie*L)}if(R){let Ee=-1;for(Se=f;Se<H;Se++)if(_e(c,Se)===_e(y,-1===Ee?0:Se-Ee)){if(-1===Ee&&(Ee=Se),Se-Ee+1===we)return Ee*L}else-1!==Ee&&(Se-=Se-Ee),Ee=-1}else for(f+we>H&&(f=H-we),Se=f;Se>=0;Se--){let Ee=!0;for(let Ie=0;Ie<we;Ie++)if(_e(c,Se+Ie)!==_e(y,Ie)){Ee=!1;break}if(Ee)return Se}return-1}function O(c,y,f,b){f=Number(f)||0;let R=c.length-f;b?(b=Number(b))>R&&(b=R):b=R;let H,L=y.length;for(b>L/2&&(b=L/2),H=0;H<b;++H){let we=parseInt(y.substr(2*H,2),16);if(fe(we))return H;c[f+H]=we}return H}function M(c,y,f,b){return I(B(y,c.length-f),c,f,b)}function W(c,y,f,b){return I(function N(c){let y=[];for(let f=0;f<c.length;++f)y.push(255&c.charCodeAt(f));return y}(y),c,f,b)}function G(c,y,f,b){return I($(y),c,f,b)}function Z(c,y,f,b){return I(function K(c,y){let f,b,R,L=[];for(let H=0;H<c.length&&!((y-=2)<0);++H)f=c.charCodeAt(H),b=f>>8,R=f%256,L.push(R),L.push(b);return L}(y,c.length-f),c,f,b)}function P(c,y,f){return e.fromByteArray(0===y&&f===c.length?c:c.slice(y,f))}function F(c,y,f){f=Math.min(c.length,f);let b=[],R=y;for(;R<f;){let L=c[R],H=null,we=L>239?4:L>223?3:L>191?2:1;if(R+we<=f){let _e,Se,Ee,Ie;switch(we){case 1:L<128&&(H=L);break;case 2:_e=c[R+1],128==(192&_e)&&(Ie=(31&L)<<6|63&_e,Ie>127&&(H=Ie));break;case 3:_e=c[R+1],Se=c[R+2],128==(192&_e)&&128==(192&Se)&&(Ie=(15&L)<<12|(63&_e)<<6|63&Se,Ie>2047&&(Ie<55296||Ie>57343)&&(H=Ie));break;case 4:_e=c[R+1],Se=c[R+2],Ee=c[R+3],128==(192&_e)&&128==(192&Se)&&128==(192&Ee)&&(Ie=(15&L)<<18|(63&_e)<<12|(63&Se)<<6|63&Ee,Ie>65535&&Ie<1114112&&(H=Ie))}}null===H?(H=65533,we=1):H>65535&&(H-=65536,b.push(H>>>10&1023|55296),H=56320|1023&H),b.push(H),R+=we}return function Y(c){let y=c.length;if(y<=J)return String.fromCharCode.apply(String,c);let f="",b=0;for(;b<y;)f+=String.fromCharCode.apply(String,c.slice(b,b+=J));return f}(b)}bt.kMaxLength=l,!(r.TYPED_ARRAY_SUPPORT=function u(){try{let c=new Uint8Array(1),y={foo:function(){return 42}};return Object.setPrototypeOf(y,Uint8Array.prototype),Object.setPrototypeOf(c,y),42===c.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.buffer}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.byteOffset}}),r.poolSize=8192,r.from=function(c,y,f){return s(c,y,f)},Object.setPrototypeOf(r.prototype,Uint8Array.prototype),Object.setPrototypeOf(r,Uint8Array),r.alloc=function(c,y,f){return function a(c,y,f){return n(c),c<=0?i(c):void 0!==y?"string"==typeof f?i(c).fill(y,f):i(c).fill(y):i(c)}(c,y,f)},r.allocUnsafe=function(c){return h(c)},r.allocUnsafeSlow=function(c){return h(c)},r.isBuffer=function(c){return null!=c&&!0===c._isBuffer&&c!==r.prototype},r.compare=function(c,y){if(Q(c,Uint8Array)&&(c=r.from(c,c.offset,c.byteLength)),Q(y,Uint8Array)&&(y=r.from(y,y.offset,y.byteLength)),!r.isBuffer(c)||!r.isBuffer(y))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(c===y)return 0;let f=c.length,b=y.length;for(let R=0,L=Math.min(f,b);R<L;++R)if(c[R]!==y[R]){f=c[R],b=y[R];break}return f<b?-1:b<f?1:0},r.isEncoding=function(c){switch(String(c).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(c,y){if(!Array.isArray(c))throw new TypeError('"list" argument must be an Array of Buffers');if(0===c.length)return r.alloc(0);let f;if(void 0===y)for(y=0,f=0;f<c.length;++f)y+=c[f].length;let b=r.allocUnsafe(y),R=0;for(f=0;f<c.length;++f){let L=c[f];if(Q(L,Uint8Array))R+L.length>b.length?(r.isBuffer(L)||(L=r.from(L)),L.copy(b,R)):Uint8Array.prototype.set.call(b,L,R);else{if(!r.isBuffer(L))throw new TypeError('"list" argument must be an Array of Buffers');L.copy(b,R)}R+=L.length}return b},r.byteLength=S,r.prototype._isBuffer=!0,r.prototype.swap16=function(){let c=this.length;if(c%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let y=0;y<c;y+=2)C(this,y,y+1);return this},r.prototype.swap32=function(){let c=this.length;if(c%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let y=0;y<c;y+=4)C(this,y,y+3),C(this,y+1,y+2);return this},r.prototype.swap64=function(){let c=this.length;if(c%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let y=0;y<c;y+=8)C(this,y,y+7),C(this,y+1,y+6),C(this,y+2,y+5),C(this,y+3,y+4);return this},r.prototype.toString=function(){let c=this.length;return 0===c?"":0===arguments.length?F(this,0,c):E.apply(this,arguments)},r.prototype.toLocaleString=r.prototype.toString,r.prototype.equals=function(c){if(!r.isBuffer(c))throw new TypeError("Argument must be a Buffer");return this===c||0===r.compare(this,c)},r.prototype.inspect=function(){let c="",y=bt.INSPECT_MAX_BYTES;return c=this.toString("hex",0,y).replace(/(.{2})/g,"$1 ").trim(),this.length>y&&(c+=" ... "),"<Buffer "+c+">"},t&&(r.prototype[t]=r.prototype.inspect),r.prototype.compare=function(c,y,f,b,R){if(Q(c,Uint8Array)&&(c=r.from(c,c.offset,c.byteLength)),!r.isBuffer(c))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof c);if(void 0===y&&(y=0),void 0===f&&(f=c?c.length:0),void 0===b&&(b=0),void 0===R&&(R=this.length),y<0||f>c.length||b<0||R>this.length)throw new RangeError("out of range index");if(b>=R&&y>=f)return 0;if(b>=R)return-1;if(y>=f)return 1;if(this===c)return 0;let L=(R>>>=0)-(b>>>=0),H=(f>>>=0)-(y>>>=0),we=Math.min(L,H),_e=this.slice(b,R),Se=c.slice(y,f);for(let Ee=0;Ee<we;++Ee)if(_e[Ee]!==Se[Ee]){L=_e[Ee],H=Se[Ee];break}return L<H?-1:H<L?1:0},r.prototype.includes=function(c,y,f){return-1!==this.indexOf(c,y,f)},r.prototype.indexOf=function(c,y,f){return U(this,c,y,f,!0)},r.prototype.lastIndexOf=function(c,y,f){return U(this,c,y,f,!1)},r.prototype.write=function(c,y,f,b){if(void 0===y)b="utf8",f=this.length,y=0;else if(void 0===f&&"string"==typeof y)b=y,f=this.length,y=0;else{if(!isFinite(y))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");y>>>=0,isFinite(f)?(f>>>=0,void 0===b&&(b="utf8")):(b=f,f=void 0)}let R=this.length-y;if((void 0===f||f>R)&&(f=R),c.length>0&&(f<0||y<0)||y>this.length)throw new RangeError("Attempt to write outside buffer bounds");b||(b="utf8");let L=!1;for(;;)switch(b){case"hex":return O(this,c,y,f);case"utf8":case"utf-8":return M(this,c,y,f);case"ascii":case"latin1":case"binary":return W(this,c,y,f);case"base64":return G(this,c,y,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,c,y,f);default:if(L)throw new TypeError("Unknown encoding: "+b);b=(""+b).toLowerCase(),L=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};let J=4096;function ee(c,y,f){let b="";f=Math.min(c.length,f);for(let R=y;R<f;++R)b+=String.fromCharCode(127&c[R]);return b}function ue(c,y,f){let b="";f=Math.min(c.length,f);for(let R=y;R<f;++R)b+=String.fromCharCode(c[R]);return b}function D(c,y,f){let b=c.length;(!y||y<0)&&(y=0),(!f||f<0||f>b)&&(f=b);let R="";for(let L=y;L<f;++L)R+=me[c[L]];return R}function se(c,y,f){let b=c.slice(y,f),R="";for(let L=0;L<b.length-1;L+=2)R+=String.fromCharCode(b[L]+256*b[L+1]);return R}function te(c,y,f){if(c%1!=0||c<0)throw new RangeError("offset is not uint");if(c+y>f)throw new RangeError("Trying to access beyond buffer length")}function de(c,y,f,b,R,L){if(!r.isBuffer(c))throw new TypeError('"buffer" argument must be a Buffer instance');if(y>R||y<L)throw new RangeError('"value" argument is out of bounds');if(f+b>c.length)throw new RangeError("Index out of range")}function k(c,y,f,b,R){re(y,b,R,c,f,7);let L=Number(y&BigInt(4294967295));c[f++]=L,L>>=8,c[f++]=L,L>>=8,c[f++]=L,L>>=8,c[f++]=L;let H=Number(y>>BigInt(32)&BigInt(4294967295));return c[f++]=H,H>>=8,c[f++]=H,H>>=8,c[f++]=H,H>>=8,c[f++]=H,f}function he(c,y,f,b,R){re(y,b,R,c,f,7);let L=Number(y&BigInt(4294967295));c[f+7]=L,L>>=8,c[f+6]=L,L>>=8,c[f+5]=L,L>>=8,c[f+4]=L;let H=Number(y>>BigInt(32)&BigInt(4294967295));return c[f+3]=H,H>>=8,c[f+2]=H,H>>=8,c[f+1]=H,H>>=8,c[f]=H,f+8}function pe(c,y,f,b,R,L){if(f+b>c.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("Index out of range")}function ve(c,y,f,b,R){return y=+y,f>>>=0,R||pe(c,0,f,4),o.write(c,y,f,b,23,4),f+4}function ge(c,y,f,b,R){return y=+y,f>>>=0,R||pe(c,0,f,8),o.write(c,y,f,b,52,8),f+8}r.prototype.slice=function(c,y){let f=this.length;(c=~~c)<0?(c+=f)<0&&(c=0):c>f&&(c=f),(y=void 0===y?f:~~y)<0?(y+=f)<0&&(y=0):y>f&&(y=f),y<c&&(y=c);let b=this.subarray(c,y);return Object.setPrototypeOf(b,r.prototype),b},r.prototype.readUintLE=r.prototype.readUIntLE=function(c,y,f){c>>>=0,y>>>=0,f||te(c,y,this.length);let b=this[c],R=1,L=0;for(;++L<y&&(R*=256);)b+=this[c+L]*R;return b},r.prototype.readUintBE=r.prototype.readUIntBE=function(c,y,f){c>>>=0,y>>>=0,f||te(c,y,this.length);let b=this[c+--y],R=1;for(;y>0&&(R*=256);)b+=this[c+--y]*R;return b},r.prototype.readUint8=r.prototype.readUInt8=function(c,y){return c>>>=0,y||te(c,1,this.length),this[c]},r.prototype.readUint16LE=r.prototype.readUInt16LE=function(c,y){return c>>>=0,y||te(c,2,this.length),this[c]|this[c+1]<<8},r.prototype.readUint16BE=r.prototype.readUInt16BE=function(c,y){return c>>>=0,y||te(c,2,this.length),this[c]<<8|this[c+1]},r.prototype.readUint32LE=r.prototype.readUInt32LE=function(c,y){return c>>>=0,y||te(c,4,this.length),(this[c]|this[c+1]<<8|this[c+2]<<16)+16777216*this[c+3]},r.prototype.readUint32BE=r.prototype.readUInt32BE=function(c,y){return c>>>=0,y||te(c,4,this.length),16777216*this[c]+(this[c+1]<<16|this[c+2]<<8|this[c+3])},r.prototype.readBigUInt64LE=ye(function(c){j(c>>>=0,"offset");let y=this[c],f=this[c+7];(void 0===y||void 0===f)&&V(c,this.length-8);let b=y+256*this[++c]+65536*this[++c]+this[++c]*2**24,R=this[++c]+256*this[++c]+65536*this[++c]+f*2**24;return BigInt(b)+(BigInt(R)<<BigInt(32))}),r.prototype.readBigUInt64BE=ye(function(c){j(c>>>=0,"offset");let y=this[c],f=this[c+7];(void 0===y||void 0===f)&&V(c,this.length-8);let b=y*2**24+65536*this[++c]+256*this[++c]+this[++c],R=this[++c]*2**24+65536*this[++c]+256*this[++c]+f;return(BigInt(b)<<BigInt(32))+BigInt(R)}),r.prototype.readIntLE=function(c,y,f){c>>>=0,y>>>=0,f||te(c,y,this.length);let b=this[c],R=1,L=0;for(;++L<y&&(R*=256);)b+=this[c+L]*R;return R*=128,b>=R&&(b-=Math.pow(2,8*y)),b},r.prototype.readIntBE=function(c,y,f){c>>>=0,y>>>=0,f||te(c,y,this.length);let b=y,R=1,L=this[c+--b];for(;b>0&&(R*=256);)L+=this[c+--b]*R;return R*=128,L>=R&&(L-=Math.pow(2,8*y)),L},r.prototype.readInt8=function(c,y){return c>>>=0,y||te(c,1,this.length),128&this[c]?-1*(255-this[c]+1):this[c]},r.prototype.readInt16LE=function(c,y){c>>>=0,y||te(c,2,this.length);let f=this[c]|this[c+1]<<8;return 32768&f?4294901760|f:f},r.prototype.readInt16BE=function(c,y){c>>>=0,y||te(c,2,this.length);let f=this[c+1]|this[c]<<8;return 32768&f?4294901760|f:f},r.prototype.readInt32LE=function(c,y){return c>>>=0,y||te(c,4,this.length),this[c]|this[c+1]<<8|this[c+2]<<16|this[c+3]<<24},r.prototype.readInt32BE=function(c,y){return c>>>=0,y||te(c,4,this.length),this[c]<<24|this[c+1]<<16|this[c+2]<<8|this[c+3]},r.prototype.readBigInt64LE=ye(function(c){j(c>>>=0,"offset");let y=this[c],f=this[c+7];return(void 0===y||void 0===f)&&V(c,this.length-8),(BigInt(this[c+4]+256*this[c+5]+65536*this[c+6]+(f<<24))<<BigInt(32))+BigInt(y+256*this[++c]+65536*this[++c]+this[++c]*2**24)}),r.prototype.readBigInt64BE=ye(function(c){j(c>>>=0,"offset");let y=this[c],f=this[c+7];(void 0===y||void 0===f)&&V(c,this.length-8);let b=(y<<24)+65536*this[++c]+256*this[++c]+this[++c];return(BigInt(b)<<BigInt(32))+BigInt(this[++c]*2**24+65536*this[++c]+256*this[++c]+f)}),r.prototype.readFloatLE=function(c,y){return c>>>=0,y||te(c,4,this.length),o.read(this,c,!0,23,4)},r.prototype.readFloatBE=function(c,y){return c>>>=0,y||te(c,4,this.length),o.read(this,c,!1,23,4)},r.prototype.readDoubleLE=function(c,y){return c>>>=0,y||te(c,8,this.length),o.read(this,c,!0,52,8)},r.prototype.readDoubleBE=function(c,y){return c>>>=0,y||te(c,8,this.length),o.read(this,c,!1,52,8)},r.prototype.writeUintLE=r.prototype.writeUIntLE=function(c,y,f,b){c=+c,y>>>=0,f>>>=0,b||de(this,c,y,f,Math.pow(2,8*f)-1,0);let R=1,L=0;for(this[y]=255&c;++L<f&&(R*=256);)this[y+L]=c/R&255;return y+f},r.prototype.writeUintBE=r.prototype.writeUIntBE=function(c,y,f,b){c=+c,y>>>=0,f>>>=0,b||de(this,c,y,f,Math.pow(2,8*f)-1,0);let R=f-1,L=1;for(this[y+R]=255&c;--R>=0&&(L*=256);)this[y+R]=c/L&255;return y+f},r.prototype.writeUint8=r.prototype.writeUInt8=function(c,y,f){return c=+c,y>>>=0,f||de(this,c,y,1,255,0),this[y]=255&c,y+1},r.prototype.writeUint16LE=r.prototype.writeUInt16LE=function(c,y,f){return c=+c,y>>>=0,f||de(this,c,y,2,65535,0),this[y]=255&c,this[y+1]=c>>>8,y+2},r.prototype.writeUint16BE=r.prototype.writeUInt16BE=function(c,y,f){return c=+c,y>>>=0,f||de(this,c,y,2,65535,0),this[y]=c>>>8,this[y+1]=255&c,y+2},r.prototype.writeUint32LE=r.prototype.writeUInt32LE=function(c,y,f){return c=+c,y>>>=0,f||de(this,c,y,4,4294967295,0),this[y+3]=c>>>24,this[y+2]=c>>>16,this[y+1]=c>>>8,this[y]=255&c,y+4},r.prototype.writeUint32BE=r.prototype.writeUInt32BE=function(c,y,f){return c=+c,y>>>=0,f||de(this,c,y,4,4294967295,0),this[y]=c>>>24,this[y+1]=c>>>16,this[y+2]=c>>>8,this[y+3]=255&c,y+4},r.prototype.writeBigUInt64LE=ye(function(c,y=0){return k(this,c,y,BigInt(0),BigInt("0xffffffffffffffff"))}),r.prototype.writeBigUInt64BE=ye(function(c,y=0){return he(this,c,y,BigInt(0),BigInt("0xffffffffffffffff"))}),r.prototype.writeIntLE=function(c,y,f,b){if(c=+c,y>>>=0,!b){let we=Math.pow(2,8*f-1);de(this,c,y,f,we-1,-we)}let R=0,L=1,H=0;for(this[y]=255&c;++R<f&&(L*=256);)c<0&&0===H&&0!==this[y+R-1]&&(H=1),this[y+R]=(c/L|0)-H&255;return y+f},r.prototype.writeIntBE=function(c,y,f,b){if(c=+c,y>>>=0,!b){let we=Math.pow(2,8*f-1);de(this,c,y,f,we-1,-we)}let R=f-1,L=1,H=0;for(this[y+R]=255&c;--R>=0&&(L*=256);)c<0&&0===H&&0!==this[y+R+1]&&(H=1),this[y+R]=(c/L|0)-H&255;return y+f},r.prototype.writeInt8=function(c,y,f){return c=+c,y>>>=0,f||de(this,c,y,1,127,-128),c<0&&(c=255+c+1),this[y]=255&c,y+1},r.prototype.writeInt16LE=function(c,y,f){return c=+c,y>>>=0,f||de(this,c,y,2,32767,-32768),this[y]=255&c,this[y+1]=c>>>8,y+2},r.prototype.writeInt16BE=function(c,y,f){return c=+c,y>>>=0,f||de(this,c,y,2,32767,-32768),this[y]=c>>>8,this[y+1]=255&c,y+2},r.prototype.writeInt32LE=function(c,y,f){return c=+c,y>>>=0,f||de(this,c,y,4,2147483647,-2147483648),this[y]=255&c,this[y+1]=c>>>8,this[y+2]=c>>>16,this[y+3]=c>>>24,y+4},r.prototype.writeInt32BE=function(c,y,f){return c=+c,y>>>=0,f||de(this,c,y,4,2147483647,-2147483648),c<0&&(c=4294967295+c+1),this[y]=c>>>24,this[y+1]=c>>>16,this[y+2]=c>>>8,this[y+3]=255&c,y+4},r.prototype.writeBigInt64LE=ye(function(c,y=0){return k(this,c,y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),r.prototype.writeBigInt64BE=ye(function(c,y=0){return he(this,c,y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),r.prototype.writeFloatLE=function(c,y,f){return ve(this,c,y,!0,f)},r.prototype.writeFloatBE=function(c,y,f){return ve(this,c,y,!1,f)},r.prototype.writeDoubleLE=function(c,y,f){return ge(this,c,y,!0,f)},r.prototype.writeDoubleBE=function(c,y,f){return ge(this,c,y,!1,f)},r.prototype.copy=function(c,y,f,b){if(!r.isBuffer(c))throw new TypeError("argument should be a Buffer");if(f||(f=0),!b&&0!==b&&(b=this.length),y>=c.length&&(y=c.length),y||(y=0),b>0&&b<f&&(b=f),b===f||0===c.length||0===this.length)return 0;if(y<0)throw new RangeError("targetStart out of bounds");if(f<0||f>=this.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("sourceEnd out of bounds");b>this.length&&(b=this.length),c.length-y<b-f&&(b=c.length-y+f);let R=b-f;return this===c&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(y,f,b):Uint8Array.prototype.set.call(c,this.subarray(f,b),y),R},r.prototype.fill=function(c,y,f,b){if("string"==typeof c){if("string"==typeof y?(b=y,y=0,f=this.length):"string"==typeof f&&(b=f,f=this.length),void 0!==b&&"string"!=typeof b)throw new TypeError("encoding must be a string");if("string"==typeof b&&!r.isEncoding(b))throw new TypeError("Unknown encoding: "+b);if(1===c.length){let L=c.charCodeAt(0);("utf8"===b&&L<128||"latin1"===b)&&(c=L)}}else"number"==typeof c?c&=255:"boolean"==typeof c&&(c=Number(c));if(y<0||this.length<y||this.length<f)throw new RangeError("Out of range index");if(f<=y)return this;let R;if(y>>>=0,f=void 0===f?this.length:f>>>0,c||(c=0),"number"==typeof c)for(R=y;R<f;++R)this[R]=c;else{let L=r.isBuffer(c)?c:r.from(c,b),H=L.length;if(0===H)throw new TypeError('The value "'+c+'" is invalid for argument "value"');for(R=0;R<f-y;++R)this[R+y]=L[R%H]}return this};let q={};function x(c,y,f){q[c]=class extends f{constructor(){super(),Object.defineProperty(this,"message",{value:y.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${c}]`,delete this.name}get code(){return c}set code(b){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:b,writable:!0})}toString(){return`${this.name} [${c}]: ${this.message}`}}}function X(c){let y="",f=c.length,b="-"===c[0]?1:0;for(;f>=b+4;f-=3)y=`_${c.slice(f-3,f)}${y}`;return`${c.slice(0,f)}${y}`}function re(c,y,f,b,R,L){if(c>f||c<y){let we,H="bigint"==typeof y?"n":"";throw we=L>3?0===y||y===BigInt(0)?`>= 0${H} and < 2${H} ** ${8*(L+1)}${H}`:`>= -(2${H} ** ${8*(L+1)-1}${H}) and < 2 ** ${8*(L+1)-1}${H}`:`>= ${y}${H} and <= ${f}${H}`,new q.ERR_OUT_OF_RANGE("value",we,c)}!function le(c,y,f){j(y,"offset"),(void 0===c[y]||void 0===c[y+f])&&V(y,c.length-(f+1))}(b,R,L)}function j(c,y){if("number"!=typeof c)throw new q.ERR_INVALID_ARG_TYPE(y,"number",c)}function V(c,y,f){throw Math.floor(c)!==c?(j(c,f),new q.ERR_OUT_OF_RANGE(f||"offset","an integer",c)):y<0?new q.ERR_BUFFER_OUT_OF_BOUNDS:new q.ERR_OUT_OF_RANGE(f||"offset",`>= ${f?1:0} and <= ${y}`,c)}x("ERR_BUFFER_OUT_OF_BOUNDS",function(c){return c?`${c} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),x("ERR_INVALID_ARG_TYPE",function(c,y){return`The "${c}" argument must be of type number. Received type ${typeof y}`},TypeError),x("ERR_OUT_OF_RANGE",function(c,y,f){let b=`The value of "${c}" is out of range.`,R=f;return Number.isInteger(f)&&Math.abs(f)>2**32?R=X(String(f)):"bigint"==typeof f&&(R=String(f),(f>BigInt(2)**BigInt(32)||f<-(BigInt(2)**BigInt(32)))&&(R=X(R)),R+="n"),b+=` It must be ${y}. Received ${R}`,b},RangeError);let z=/[^+/0-9A-Za-z-_]/g;function B(c,y){y=y||1/0;let f,b=c.length,R=null,L=[];for(let H=0;H<b;++H){if(f=c.charCodeAt(H),f>55295&&f<57344){if(!R){if(f>56319){(y-=3)>-1&&L.push(239,191,189);continue}if(H+1===b){(y-=3)>-1&&L.push(239,191,189);continue}R=f;continue}if(f<56320){(y-=3)>-1&&L.push(239,191,189),R=f;continue}f=65536+(R-55296<<10|f-56320)}else R&&(y-=3)>-1&&L.push(239,191,189);if(R=null,f<128){if((y-=1)<0)break;L.push(f)}else if(f<2048){if((y-=2)<0)break;L.push(f>>6|192,63&f|128)}else if(f<65536){if((y-=3)<0)break;L.push(f>>12|224,f>>6&63|128,63&f|128)}else{if(!(f<1114112))throw new Error("Invalid code point");if((y-=4)<0)break;L.push(f>>18|240,f>>12&63|128,f>>6&63|128,63&f|128)}}return L}function $(c){return e.toByteArray(function T(c){if((c=(c=c.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;c.length%4!=0;)c+="=";return c}(c))}function I(c,y,f,b){let R;for(R=0;R<b&&!(R+f>=y.length||R>=c.length);++R)y[R+f]=c[R];return R}function Q(c,y){return c instanceof y||null!=c&&null!=c.constructor&&null!=c.constructor.name&&c.constructor.name===y.name}function fe(c){return c!=c}let me=function(){let c="0123456789abcdef",y=new Array(256);for(let f=0;f<16;++f){let b=16*f;for(let R=0;R<16;++R)y[b+R]=c[f]+c[R]}return y}();function ye(c){return typeof BigInt>"u"?be:c}function be(){throw new Error("BigInt not supported")}return bt}_t(je,{Buffer:()=>ir,INSPECT_MAX_BYTES:()=>Pn,default:()=>nt,kMaxLength:()=>Bn});var Dt,Pi,Kt,Bi,bt,xi,nt,ir,Pn,Bn,Ne=Le(()=>{ie(),oe(),ne(),Dt={},Pi=!1,Kt={},Bi=!1,bt={},xi=!1,nt=la(),ir=nt.Buffer,Pn=nt.INSPECT_MAX_BYTES,Bn=nt.kMaxLength}),oe=Le(()=>{Ne()}),ua=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(t){this.aliasToTopic={},this.max=t}put(t,l){return!(0===l||l>this.max||(this.aliasToTopic[l]=t,this.length=Object.keys(this.aliasToTopic).length,0))}getTopicByAlias(t){return this.aliasToTopic[t]}clear(){this.aliasToTopic={}}}}),Me=ce((e,o)=>{ie(),oe(),ne(),o.exports={ArrayIsArray:t=>Array.isArray(t),ArrayPrototypeIncludes:(t,l)=>t.includes(l),ArrayPrototypeIndexOf:(t,l)=>t.indexOf(l),ArrayPrototypeJoin:(t,l)=>t.join(l),ArrayPrototypeMap:(t,l)=>t.map(l),ArrayPrototypePop:(t,l)=>t.pop(l),ArrayPrototypePush:(t,l)=>t.push(l),ArrayPrototypeSlice:(t,l,u)=>t.slice(l,u),Error,FunctionPrototypeCall:(t,l,...u)=>t.call(l,...u),FunctionPrototypeSymbolHasInstance:(t,l)=>Function.prototype[Symbol.hasInstance].call(t,l),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(t,l)=>Object.defineProperties(t,l),ObjectDefineProperty:(t,l,u)=>Object.defineProperty(t,l,u),ObjectGetOwnPropertyDescriptor:(t,l)=>Object.getOwnPropertyDescriptor(t,l),ObjectKeys:t=>Object.keys(t),ObjectSetPrototypeOf:(t,l)=>Object.setPrototypeOf(t,l),Promise,PromisePrototypeCatch:(t,l)=>t.catch(l),PromisePrototypeThen:(t,l,u)=>t.then(l,u),PromiseReject:t=>Promise.reject(t),ReflectApply:Reflect.apply,RegExpPrototypeTest:(t,l)=>t.test(l),SafeSet:Set,String,StringPrototypeSlice:(t,l,u)=>t.slice(l,u),StringPrototypeToLowerCase:t=>t.toLowerCase(),StringPrototypeToUpperCase:t=>t.toUpperCase(),StringPrototypeTrim:t=>t.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(t,l,u)=>t.set(l,u),Uint8Array}}),ot=ce((e,o)=>{ie(),oe(),ne();var t=(Ne(),Re(je)),l=Object.getPrototypeOf((0,Pe.A)(function*(){})).constructor,u=globalThis.Blob||t.Blob,i=typeof u<"u"?function(s){return s instanceof u}:function(s){return!1},r=class extends Error{constructor(s){if(!Array.isArray(s))throw new TypeError("Expected input to be an Array, got "+typeof s);let n="";for(let a=0;a<s.length;a++)n+=`    ${s[a].stack}\n`;super(n),this.name="AggregateError",this.errors=s}};o.exports={AggregateError:r,kEmptyObject:Object.freeze({}),once(s){let n=!1;return function(...a){n||(n=!0,s.apply(this,a))}},createDeferredPromise:function(){let s,n;return{promise:new Promise((a,h)=>{s=a,n=h}),resolve:s,reject:n}},promisify:s=>new Promise((n,a)=>{s((h,...d)=>h?a(h):n(...d))}),debuglog:()=>function(){},format:(s,...n)=>s.replace(/%([sdifj])/g,function(...[a,h]){let d=n.shift();return"f"===h?d.toFixed(6):"j"===h?JSON.stringify(d):"s"===h&&"object"==typeof d?`${d.constructor!==Object?d.constructor.name:""} {}`.trim():d.toString()}),inspect(s){switch(typeof s){case"string":if(s.includes("'")){if(!s.includes('"'))return`"${s}"`;if(!s.includes("`")&&!s.includes("${"))return`\`${s}\``}return`'${s}'`;case"number":return isNaN(s)?"NaN":Object.is(s,-0)?String(s):s;case"bigint":return`${String(s)}n`;case"boolean":case"undefined":return String(s);case"object":return"{}"}},types:{isAsyncFunction:s=>s instanceof l,isArrayBufferView:s=>ArrayBuffer.isView(s)},isBlob:i},o.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),Mi=ce((e,o)=>{ie(),oe(),ne();var{AbortController:t,AbortSignal:l}=typeof self<"u"?self:typeof window<"u"?window:void 0;o.exports=t,o.exports.AbortSignal=l,o.exports.default=t}),$e=ce((e,o)=>{ie(),oe(),ne();var{format:t,inspect:l,AggregateError:u}=ot(),i=globalThis.AggregateError||u,r=Symbol("kIsNodeError"),s=["string","function","number","object","Function","Object","boolean","bigint","symbol"],n=/^([A-Z][a-z0-9]*)+$/,h={};function d(S,E){if(!S)throw new h.ERR_INTERNAL_ASSERTION(E)}function p(S){let E="",C=S.length,U="-"===S[0]?1:0;for(;C>=U+4;C-=3)E=`_${S.slice(C-3,C)}${E}`;return`${S.slice(0,C)}${E}`}function w(S,E,C){C||(C=Error);class U extends C{constructor(...O){super(function m(S,E,C){if("function"==typeof E)return d(E.length<=C.length,`Code: ${S}; The provided arguments length (${C.length}) does not match the required ones (${E.length}).`),E(...C);let U=(E.match(/%[dfijoOs]/g)||[]).length;return d(U===C.length,`Code: ${S}; The provided arguments length (${C.length}) does not match the required ones (${U}).`),0===C.length?E:t(E,...C)}(S,E,O))}toString(){return`${this.name} [${S}]: ${this.message}`}}Object.defineProperties(U.prototype,{name:{value:C.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${S}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),U.prototype.code=S,U.prototype[r]=!0,h[S]=U}function g(S){return Object.defineProperty(S,"name",{value:"__node_internal_"+S.name}),S}var _=class extends Error{constructor(S="The operation was aborted",E=void 0){if(void 0!==E&&"object"!=typeof E)throw new h.ERR_INVALID_ARG_TYPE("options","Object",E);super(S,E),this.code="ABORT_ERR",this.name="AbortError"}};w("ERR_ASSERTION","%s",Error),w("ERR_INVALID_ARG_TYPE",(S,E,C)=>{d("string"==typeof S,"'name' must be a string"),Array.isArray(E)||(E=[E]);let U="The ";S.endsWith(" argument")?U+=`${S} `:U+=`"${S}" ${S.includes(".")?"property":"argument"} `,U+="must be ";let A=[],O=[],M=[];for(let G of E)d("string"==typeof G,"All expected entries have to be of type string"),s.includes(G)?A.push(G.toLowerCase()):n.test(G)?O.push(G):(d("object"!==G,'The value "object" should be written as "Object"'),M.push(G));if(O.length>0){let G=A.indexOf("object");-1!==G&&(A.splice(A,G,1),O.push("Object"))}if(A.length>0){switch(A.length){case 1:U+=`of type ${A[0]}`;break;case 2:U+=`one of type ${A[0]} or ${A[1]}`;break;default:{let G=A.pop();U+=`one of type ${A.join(", ")}, or ${G}`}}(O.length>0||M.length>0)&&(U+=" or ")}if(O.length>0){switch(O.length){case 1:U+=`an instance of ${O[0]}`;break;case 2:U+=`an instance of ${O[0]} or ${O[1]}`;break;default:{let G=O.pop();U+=`an instance of ${O.join(", ")}, or ${G}`}}M.length>0&&(U+=" or ")}switch(M.length){case 0:break;case 1:M[0].toLowerCase()!==M[0]&&(U+="an "),U+=`${M[0]}`;break;case 2:U+=`one of ${M[0]} or ${M[1]}`;break;default:{let G=M.pop();U+=`one of ${M.join(", ")}, or ${G}`}}if(null==C)U+=`. Received ${C}`;else if("function"==typeof C&&C.name)U+=`. Received function ${C.name}`;else if("object"==typeof C){var W;null!==(W=C.constructor)&&void 0!==W&&W.name?U+=`. Received an instance of ${C.constructor.name}`:U+=`. Received ${l(C,{depth:-1})}`}else{let G=l(C,{colors:!1});G.length>25&&(G=`${G.slice(0,25)}...`),U+=`. Received type ${typeof C} (${G})`}return U},TypeError),w("ERR_INVALID_ARG_VALUE",(S,E,C="is invalid")=>{let U=l(E);return U.length>128&&(U=U.slice(0,128)+"..."),`The ${S.includes(".")?"property":"argument"} '${S}' ${C}. Received ${U}`},TypeError),w("ERR_INVALID_RETURN_VALUE",(S,E,C)=>{var U;return`Expected ${S} to be returned from the "${E}" function but got ${null!=C&&null!==(U=C.constructor)&&void 0!==U&&U.name?`instance of ${C.constructor.name}`:"type "+typeof C}.`},TypeError),w("ERR_MISSING_ARGS",(...S)=>{d(S.length>0,"At least one arg needs to be specified");let E,C=S.length;switch(S=(Array.isArray(S)?S:[S]).map(U=>`"${U}"`).join(" or "),C){case 1:E+=`The ${S[0]} argument`;break;case 2:E+=`The ${S[0]} and ${S[1]} arguments`;break;default:{let U=S.pop();E+=`The ${S.join(", ")}, and ${U} arguments`}}return`${E} must be specified`},TypeError),w("ERR_OUT_OF_RANGE",(S,E,C)=>{let U;return d(E,'Missing "range" argument'),Number.isInteger(C)&&Math.abs(C)>2**32?U=p(String(C)):"bigint"==typeof C?(U=String(C),(C>2n**32n||C<-(2n**32n))&&(U=p(U)),U+="n"):U=l(C),`The value of "${S}" is out of range. It must be ${E}. Received ${U}`},RangeError),w("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),w("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),w("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),w("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),w("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),w("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),w("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),w("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),w("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),w("ERR_STREAM_WRITE_AFTER_END","write after end",Error),w("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),o.exports={AbortError:_,aggregateTwoErrors:g(function v(S,E){if(S&&E&&S!==E){if(Array.isArray(E.errors))return E.errors.push(S),E;let C=new i([E,S],E.message);return C.code=E.code,C}return S||E}),hideStackFrames:g,codes:h}}),nr=ce((e,o)=>{ie(),oe(),ne();var{ArrayIsArray:t,ArrayPrototypeIncludes:l,ArrayPrototypeJoin:u,ArrayPrototypeMap:i,NumberIsInteger:r,NumberIsNaN:s,NumberMAX_SAFE_INTEGER:n,NumberMIN_SAFE_INTEGER:a,NumberParseInt:h,ObjectPrototypeHasOwnProperty:d,RegExpPrototypeExec:p,String:m,StringPrototypeToUpperCase:w,StringPrototypeTrim:g}=Me(),{hideStackFrames:v,codes:{ERR_SOCKET_BAD_PORT:_,ERR_INVALID_ARG_TYPE:S,ERR_INVALID_ARG_VALUE:E,ERR_OUT_OF_RANGE:C,ERR_UNKNOWN_SIGNAL:U}}=$e(),{normalizeEncoding:A}=ot(),{isAsyncFunction:O,isArrayBufferView:M}=ot().types,W={},P=/^[0-7]+$/,Y=v((I,Q,fe=a,me=n)=>{if("number"!=typeof I)throw new S(Q,"number",I);if(!r(I))throw new C(Q,"an integer",I);if(I<fe||I>me)throw new C(Q,`>= ${fe} && <= ${me}`,I)}),ee=v((I,Q,fe=-2147483648,me=2147483647)=>{if("number"!=typeof I)throw new S(Q,"number",I);if(!r(I))throw new C(Q,"an integer",I);if(I<fe||I>me)throw new C(Q,`>= ${fe} && <= ${me}`,I)}),ue=v((I,Q,fe=!1)=>{if("number"!=typeof I)throw new S(Q,"number",I);if(!r(I))throw new C(Q,"an integer",I);let me=fe?1:0,ye=4294967295;if(I<me||I>ye)throw new C(Q,`>= ${me} && <= ${ye}`,I)});function D(I,Q){if("string"!=typeof I)throw new S(Q,"string",I)}var te=v((I,Q,fe)=>{if(!l(fe,I)){let me="must be one of: "+u(i(fe,ye=>"string"==typeof ye?`'${ye}'`:m(ye)),", ");throw new E(Q,I,me)}});function de(I,Q){if("boolean"!=typeof I)throw new S(Q,"boolean",I)}function k(I,Q,fe){return null!=I&&d(I,Q)?I[Q]:fe}var he=v((I,Q,fe=null)=>{let me=k(fe,"allowArray",!1),ye=k(fe,"allowFunction",!1);if(!k(fe,"nullable",!1)&&null===I||!me&&t(I)||"object"!=typeof I&&(!ye||"function"!=typeof I))throw new S(Q,"Object",I)}),pe=v((I,Q)=>{if(null!=I&&"object"!=typeof I&&"function"!=typeof I)throw new S(Q,"a dictionary",I)}),ve=v((I,Q,fe=0)=>{if(!t(I))throw new S(Q,"Array",I);if(I.length<fe)throw new E(Q,I,`must be longer than ${fe}`)}),X=v((I,Q="buffer")=>{if(!M(I))throw new S(Q,["Buffer","TypedArray","DataView"],I)}),j=v((I,Q)=>{if(void 0!==I&&(null===I||"object"!=typeof I||!("aborted"in I)))throw new S(Q,"AbortSignal",I)}),V=v((I,Q)=>{if("function"!=typeof I)throw new S(Q,"Function",I)}),z=v((I,Q)=>{if("function"!=typeof I||O(I))throw new S(Q,"Function",I)}),T=v((I,Q)=>{if(void 0!==I)throw new S(Q,"undefined",I)}),N=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function K(I,Q){if(typeof I>"u"||!p(N,I))throw new E(Q,I,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}o.exports={isInt32:function G(I){return I===(0|I)},isUint32:function Z(I){return I===I>>>0},parseFileMode:function J(I,Q,fe){if(typeof I>"u"&&(I=fe),"string"==typeof I){if(null===p(P,I))throw new E(Q,I,"must be a 32-bit unsigned integer or an octal string");I=h(I,8)}return ue(I,Q),I},validateArray:ve,validateStringArray:function ge(I,Q){ve(I,Q);for(let fe=0;fe<I.length;fe++)D(I[fe],`${Q}[${fe}]`)},validateBooleanArray:function q(I,Q){ve(I,Q);for(let fe=0;fe<I.length;fe++)de(I[fe],`${Q}[${fe}]`)},validateBoolean:de,validateBuffer:X,validateDictionary:pe,validateEncoding:function le(I,Q){let fe=A(Q),me=I.length;if("hex"===fe&&me%2!=0)throw new E("encoding",Q,`is invalid for data of length ${me}`)},validateFunction:V,validateInt32:ee,validateInteger:Y,validateNumber:function se(I,Q,fe=void 0,me){if("number"!=typeof I)throw new S(Q,"number",I);if(null!=fe&&I<fe||null!=me&&I>me||(null!=fe||null!=me)&&s(I))throw new C(Q,`${null!=fe?`>= ${fe}`:""}${null!=fe&&null!=me?" && ":""}${null!=me?`<= ${me}`:""}`,I)},validateObject:he,validateOneOf:te,validatePlainFunction:z,validatePort:function re(I,Q="Port",fe=!0){if("number"!=typeof I&&"string"!=typeof I||"string"==typeof I&&0===g(I).length||+I!=+I>>>0||I>65535||0===I&&!fe)throw new _(Q,I,fe);return 0|I},validateSignalName:function x(I,Q="signal"){if(D(I,Q),void 0===W[I])throw void 0!==W[w(I)]?new U(I+" (signals must use all capital letters)"):new U(I)},validateString:D,validateUint32:ue,validateUndefined:T,validateUnion:function B(I,Q,fe){if(!l(fe,I))throw new S(Q,`('${u(fe,"|")}')`,I)},validateAbortSignal:j,validateLinkHeaderValue:function $(I){if("string"==typeof I)return K(I,"hints"),I;if(t(I)){let Q=I.length,fe="";if(0===Q)return fe;for(let me=0;me<Q;me++){let ye=I[me];K(ye,"hints"),fe+=ye,me!==Q-1&&(fe+=", ")}return fe}throw new E("hints",I,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}}),At=ce((e,o)=>{ie(),oe(),ne();var l,u,t=o.exports={};function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function s(_){if(l===setTimeout)return setTimeout(_,0);if((l===i||!l)&&setTimeout)return l=setTimeout,setTimeout(_,0);try{return l(_,0)}catch{try{return l.call(null,_,0)}catch{return l.call(this,_,0)}}}!function(){try{l="function"==typeof setTimeout?setTimeout:i}catch{l=i}try{u="function"==typeof clearTimeout?clearTimeout:r}catch{u=r}}();var d,a=[],h=!1,p=-1;function m(){!h||!d||(h=!1,d.length?a=d.concat(a):p=-1,a.length&&w())}function w(){if(!h){var _=s(m);h=!0;for(var S=a.length;S;){for(d=a,a=[];++p<S;)d&&d[p].run();p=-1,S=a.length}d=null,h=!1,function n(_){if(u===clearTimeout)return clearTimeout(_);if((u===r||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(_);try{return u(_)}catch{try{return u.call(null,_)}catch{return u.call(this,_)}}}(_)}}function g(_,S){this.fun=_,this.array=S}function v(){}t.nextTick=function(_){var S=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)S[E-1]=arguments[E];a.push(new g(_,S)),1===a.length&&!h&&s(w)},g.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=v,t.addListener=v,t.once=v,t.off=v,t.removeListener=v,t.removeAllListeners=v,t.emit=v,t.prependListener=v,t.prependOnceListener=v,t.listeners=function(_){return[]},t.binding=function(_){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(_){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}}),st=ce((e,o)=>{ie(),oe(),ne();var{Symbol:t,SymbolAsyncIterator:l,SymbolIterator:u,SymbolFor:i}=Me(),r=t("kDestroyed"),s=t("kIsErrored"),n=t("kIsReadable"),a=t("kIsDisturbed"),h=i("nodejs.webstream.isClosedPromise"),d=i("nodejs.webstream.controllerErrorFunction");function p(k,he=!1){var pe;return!(!k||"function"!=typeof k.pipe||"function"!=typeof k.on||he&&("function"!=typeof k.pause||"function"!=typeof k.resume)||k._writableState&&!1===(null===(pe=k._readableState)||void 0===pe?void 0:pe.readable)||k._writableState&&!k._readableState)}function m(k){var he;return!(!k||"function"!=typeof k.write||"function"!=typeof k.on||k._readableState&&!1===(null===(he=k._writableState)||void 0===he?void 0:he.writable))}function g(k){return k&&(k._readableState||k._writableState||"function"==typeof k.write&&"function"==typeof k.on||"function"==typeof k.pipe&&"function"==typeof k.on)}function v(k){return!(!k||g(k)||"function"!=typeof k.pipeThrough||"function"!=typeof k.getReader||"function"!=typeof k.cancel)}function _(k){return!(!k||g(k)||"function"!=typeof k.getWriter||"function"!=typeof k.abort)}function S(k){return!(!k||g(k)||"object"!=typeof k.readable||"object"!=typeof k.writable)}function U(k){if(!g(k))return null;let ve=k._writableState||k._readableState;return!!(k.destroyed||k[r]||null!=ve&&ve.destroyed)}function A(k){if(!m(k))return null;if(!0===k.writableEnded)return!0;let he=k._writableState;return(null==he||!he.errored)&&("boolean"!=typeof he?.ended?null:he.ended)}function W(k,he){if(!p(k))return null;let pe=k._readableState;return(null==pe||!pe.errored)&&("boolean"!=typeof pe?.endEmitted?null:!!(pe.endEmitted||!1===he&&!0===pe.ended&&0===pe.length))}function G(k){return k&&null!=k[n]?k[n]:"boolean"!=typeof k?.readable?null:!U(k)&&p(k)&&k.readable&&!W(k)}function Z(k){return"boolean"!=typeof k?.writable?null:!U(k)&&m(k)&&k.writable&&!A(k)}function ee(k){return"boolean"==typeof k._closed&&"boolean"==typeof k._defaultKeepAlive&&"boolean"==typeof k._removedConnection&&"boolean"==typeof k._removedContLen}function ue(k){return"boolean"==typeof k._sent100&&ee(k)}o.exports={kDestroyed:r,isDisturbed:function te(k){var he;return!(!k||!(null!==(he=k[a])&&void 0!==he?he:k.readableDidRead||k.readableAborted))},kIsDisturbed:a,isErrored:function de(k){var he,pe,ve,ge,q,x,X,le,re,j;return!(!k||!(null!==(he=null!==(pe=null!==(ve=null!==(ge=null!==(q=null!==(x=k[s])&&void 0!==x?x:k.readableErrored)&&void 0!==q?q:k.writableErrored)&&void 0!==ge?ge:null===(X=k._readableState)||void 0===X?void 0:X.errorEmitted)&&void 0!==ve?ve:null===(le=k._writableState)||void 0===le?void 0:le.errorEmitted)&&void 0!==pe?pe:null===(re=k._readableState)||void 0===re?void 0:re.errored)&&void 0!==he?he:null!==(j=k._writableState)&&void 0!==j&&j.errored))},kIsErrored:s,isReadable:G,kIsReadable:n,kIsClosedPromise:h,kControllerErrorFunction:d,isClosed:function Y(k){if(!g(k))return null;if("boolean"==typeof k.closed)return k.closed;let he=k._writableState,pe=k._readableState;return"boolean"==typeof he?.closed||"boolean"==typeof pe?.closed?he?.closed||pe?.closed:"boolean"==typeof k._closed&&ee(k)?k._closed:null},isDestroyed:U,isDuplexNodeStream:function w(k){return!(!k||"function"!=typeof k.pipe||!k._readableState||"function"!=typeof k.on||"function"!=typeof k.write)},isFinished:function P(k,he){return g(k)?!!U(k)||!(!1!==he?.readable&&G(k)||!1!==he?.writable&&Z(k)):null},isIterable:function C(k,he){return null!=k&&(!0===he?"function"==typeof k[l]:!1===he?"function"==typeof k[u]:"function"==typeof k[l]||"function"==typeof k[u])},isReadableNodeStream:p,isReadableStream:v,isReadableEnded:function M(k){if(!p(k))return null;if(!0===k.readableEnded)return!0;let he=k._readableState;return!(!he||he.errored)&&("boolean"!=typeof he?.ended?null:he.ended)},isReadableFinished:W,isReadableErrored:function J(k){var he,pe;return g(k)?k.readableErrored?k.readableErrored:null!==(he=null===(pe=k._readableState)||void 0===pe?void 0:pe.errored)&&void 0!==he?he:null:null},isNodeStream:g,isWebStream:function E(k){return v(k)||_(k)||S(k)},isWritable:Z,isWritableNodeStream:m,isWritableStream:_,isWritableEnded:A,isWritableFinished:function O(k,he){if(!m(k))return null;if(!0===k.writableFinished)return!0;let pe=k._writableState;return(null==pe||!pe.errored)&&("boolean"!=typeof pe?.finished?null:!!(pe.finished||!1===he&&!0===pe.ended&&0===pe.length))},isWritableErrored:function F(k){var he,pe;return g(k)?k.writableErrored?k.writableErrored:null!==(he=null===(pe=k._writableState)||void 0===pe?void 0:pe.errored)&&void 0!==he?he:null:null},isServerRequest:function D(k){var he;return"boolean"==typeof k._consuming&&"boolean"==typeof k._dumped&&void 0===(null===(he=k.req)||void 0===he?void 0:he.upgradeOrConnect)},isServerResponse:ue,willEmitClose:function se(k){if(!g(k))return null;let ve=k._writableState||k._readableState;return!ve&&ue(k)||!!(ve&&ve.autoDestroy&&ve.emitClose&&!1===ve.closed)},isTransformStream:S}}),wt=ce((e,o)=>{ie(),oe(),ne();var t=At(),{AbortError:l,codes:u}=$e(),{ERR_INVALID_ARG_TYPE:i,ERR_STREAM_PREMATURE_CLOSE:r}=u,{kEmptyObject:s,once:n}=ot(),{validateAbortSignal:a,validateFunction:h,validateObject:d,validateBoolean:p}=nr(),{Promise:m,PromisePrototypeThen:w}=Me(),{isClosed:g,isReadable:v,isReadableNodeStream:_,isReadableStream:S,isReadableFinished:E,isReadableErrored:C,isWritable:U,isWritableNodeStream:A,isWritableStream:O,isWritableFinished:M,isWritableErrored:W,isNodeStream:G,willEmitClose:Z,kIsClosedPromise:P}=st(),J=()=>{};function Y(D,se,te){var de,k;if(2===arguments.length?(te=se,se=s):null==se?se=s:d(se,"options"),h(te,"callback"),a(se.signal,"options.signal"),te=n(te),S(D)||O(D))return function ee(D,se,te){let de=!1,k=J;if(se.signal)if(k=()=>{de=!0,te.call(D,new l(void 0,{cause:se.signal.reason}))},se.signal.aborted)t.nextTick(k);else{let pe=te;te=n((...ve)=>{se.signal.removeEventListener("abort",k),pe.apply(D,ve)}),se.signal.addEventListener("abort",k)}let he=(...pe)=>{de||t.nextTick(()=>te.apply(D,pe))};return w(D[P].promise,he,he),J}(D,se,te);if(!G(D))throw new i("stream",["ReadableStream","WritableStream","Stream"],D);let he=null!==(de=se.readable)&&void 0!==de?de:_(D),pe=null!==(k=se.writable)&&void 0!==k?k:A(D),ve=D._writableState,ge=D._readableState,q=()=>{D.writable||le()},x=Z(D)&&_(D)===he&&A(D)===pe,X=M(D,!1),le=()=>{X=!0,D.destroyed&&(x=!1),(!x||D.readable&&!he)&&(!he||re)&&te.call(D)},re=E(D,!1),j=()=>{re=!0,D.destroyed&&(x=!1),(!x||D.writable&&!pe)&&(!pe||X)&&te.call(D)},V=$=>{te.call(D,$)},z=g(D),T=()=>{z=!0;let $=W(D)||C(D);return $&&"boolean"!=typeof $?te.call(D,$):he&&!re&&_(D,!0)&&!E(D,!1)?te.call(D,new r):!pe||X||M(D,!1)?void te.call(D):te.call(D,new r)},B=()=>{z=!0;let $=W(D)||C(D);if($&&"boolean"!=typeof $)return te.call(D,$);te.call(D)},N=()=>{D.req.on("finish",le)};!function F(D){return D.setHeader&&"function"==typeof D.abort}(D)?pe&&!ve&&(D.on("end",q),D.on("close",q)):(D.on("complete",le),x||D.on("abort",T),D.req?N():D.on("request",N)),!x&&"boolean"==typeof D.aborted&&D.on("aborted",T),D.on("end",j),D.on("finish",le),!1!==se.error&&D.on("error",V),D.on("close",T),z?t.nextTick(T):null!=ve&&ve.errorEmitted||null!=ge&&ge.errorEmitted?x||t.nextTick(B):(!he&&(!x||v(D))&&(X||!1===U(D))||!pe&&(!x||U(D))&&(re||!1===v(D))||ge&&D.req&&D.aborted)&&t.nextTick(B);let K=()=>{te=J,D.removeListener("aborted",T),D.removeListener("complete",le),D.removeListener("abort",T),D.removeListener("request",N),D.req&&D.req.removeListener("finish",le),D.removeListener("end",q),D.removeListener("close",q),D.removeListener("finish",le),D.removeListener("end",j),D.removeListener("error",V),D.removeListener("close",T)};if(se.signal&&!z){let $=()=>{let I=te;K(),I.call(D,new l(void 0,{cause:se.signal.reason}))};if(se.signal.aborted)t.nextTick($);else{let I=te;te=n((...Q)=>{se.signal.removeEventListener("abort",$),I.apply(D,Q)}),se.signal.addEventListener("abort",$)}}return K}o.exports=Y,o.exports.finished=function ue(D,se){var te;let de=!1;return null===se&&(se=s),null!==(te=se)&&void 0!==te&&te.cleanup&&(p(se.cleanup,"cleanup"),de=se.cleanup),new m((k,he)=>{let pe=Y(D,se,ve=>{de&&pe(),ve?he(ve):k()})})}}),Ft=ce((e,o)=>{ie(),oe(),ne();var t=At(),{aggregateTwoErrors:l,codes:{ERR_MULTIPLE_CALLBACK:u},AbortError:i}=$e(),{Symbol:r}=Me(),{kDestroyed:s,isDestroyed:n,isFinished:a,isServerRequest:h}=st(),d=r("kDestroy"),p=r("kConstruct");function m(P,F,J){P&&(F&&!F.errored&&(F.errored=P),J&&!J.errored&&(J.errored=P))}function g(P,F,J){let Y=!1;function ee(ue){if(Y)return;Y=!0;let D=P._readableState,se=P._writableState;m(ue,se,D),se&&(se.closed=!0),D&&(D.closed=!0),"function"==typeof J&&J(ue),ue?t.nextTick(v,P,ue):t.nextTick(_,P)}try{P._destroy(F||null,ee)}catch(ue){ee(ue)}}function v(P,F){S(P,F),_(P)}function _(P){let F=P._readableState,J=P._writableState;J&&(J.closeEmitted=!0),F&&(F.closeEmitted=!0),(null!=J&&J.emitClose||null!=F&&F.emitClose)&&P.emit("close")}function S(P,F){let J=P._readableState,Y=P._writableState;null!=Y&&Y.errorEmitted||null!=J&&J.errorEmitted||(Y&&(Y.errorEmitted=!0),J&&(J.errorEmitted=!0),P.emit("error",F))}function C(P,F,J){let Y=P._readableState,ee=P._writableState;if(null!=ee&&ee.destroyed||null!=Y&&Y.destroyed)return this;null!=Y&&Y.autoDestroy||null!=ee&&ee.autoDestroy?P.destroy(F):F&&(ee&&!ee.errored&&(ee.errored=F),Y&&!Y.errored&&(Y.errored=F),J?t.nextTick(S,P,F):S(P,F))}function A(P){let F=!1;function J(Y){if(F)return void C(P,Y??new u);F=!0;let ee=P._readableState,ue=P._writableState,D=ue||ee;ee&&(ee.constructed=!0),ue&&(ue.constructed=!0),D.destroyed?P.emit(d,Y):Y?C(P,Y,!0):t.nextTick(O,P)}try{P._construct(Y=>{t.nextTick(J,Y)})}catch(Y){t.nextTick(J,Y)}}function O(P){P.emit(p)}function M(P){return P?.setHeader&&"function"==typeof P.abort}function W(P){P.emit("close")}function G(P,F){P.emit("error",F),t.nextTick(W,P)}o.exports={construct:function U(P,F){if("function"!=typeof P._construct)return;let J=P._readableState,Y=P._writableState;J&&(J.constructed=!1),Y&&(Y.constructed=!1),P.once(p,F),!(P.listenerCount(p)>1)&&t.nextTick(A,P)},destroyer:function Z(P,F){!P||n(P)||(!F&&!a(P)&&(F=new i),h(P)?(P.socket=null,P.destroy(F)):M(P)?P.abort():M(P.req)?P.req.abort():"function"==typeof P.destroy?P.destroy(F):"function"==typeof P.close?P.close():F?t.nextTick(G,P,F):t.nextTick(W,P),P.destroyed||(P[s]=!0))},destroy:function w(P,F){let J=this._readableState,Y=this._writableState,ee=Y||J;return null!=Y&&Y.destroyed||null!=J&&J.destroyed?("function"==typeof F&&F(),this):(m(P,Y,J),Y&&(Y.destroyed=!0),J&&(J.destroyed=!0),ee.constructed?g(this,P,F):this.once(d,function(ue){g(this,l(ue,P),F)}),this)},undestroy:function E(){let P=this._readableState,F=this._writableState;P&&(P.constructed=!0,P.closed=!1,P.closeEmitted=!1,P.destroyed=!1,P.errored=null,P.errorEmitted=!1,P.reading=!1,P.ended=!1===P.readable,P.endEmitted=!1===P.readable),F&&(F.constructed=!0,F.destroyed=!1,F.closed=!1,F.closeEmitted=!1,F.errored=null,F.errorEmitted=!1,F.finalCalled=!1,F.prefinished=!1,F.ended=!1===F.writable,F.ending=!1===F.writable,F.finished=!1===F.writable)},errorOrDestroy:C}});function Te(){Te.init.call(this)}function or(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function xn(e){return void 0===e._maxListeners?Te.defaultMaxListeners:e._maxListeners}function Mn(e,o,t,l){var u,i,r;if(or(t),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",o,t.listener?t.listener:t),i=e._events),r=i[o]),void 0===r)r=i[o]=t,++e._eventsCount;else if("function"==typeof r?r=i[o]=l?[t,r]:[r,t]:l?r.unshift(t):r.push(t),(u=xn(e))>0&&r.length>u&&!r.warned){r.warned=!0;var n=new Error("Possible EventEmitter memory leak detected. "+r.length+" "+String(o)+" listeners added. Use emitter.setMaxListeners() to increase limit");n.name="MaxListenersExceededWarning",n.emitter=e,n.type=o,n.count=r.length,console&&console.warn&&console.warn(n)}return e}function ha(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Un(e,o,t){var l={fired:!1,wrapFn:void 0,target:e,type:o,listener:t},u=ha.bind(l);return u.listener=t,l.wrapFn=u,u}function Ln(e,o,t){var l=e._events;if(void 0===l)return[];var u=l[o];return void 0===u?[]:"function"==typeof u?t?[u.listener||u]:[u]:t?function(i){for(var r=new Array(i.length),s=0;s<r.length;++s)r[s]=i[s].listener||i[s];return r}(u):Nn(u,u.length)}function jn(e){var o=this._events;if(void 0!==o){var t=o[e];if("function"==typeof t)return 1;if(void 0!==t)return t.length}return 0}function Nn(e,o){for(var t=new Array(o),l=0;l<o;++l)t[l]=e[l];return t}var Dn,Fn,It,Ui,Li,ji,He,Wn=Le(()=>{ie(),oe(),ne(),It="object"==typeof Reflect?Reflect:null,Ui=It&&"function"==typeof It.apply?It.apply:function(e,o,t){return Function.prototype.apply.call(e,o,t)},Fn=It&&"function"==typeof It.ownKeys?It.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},Li=Number.isNaN||function(e){return e!=e},Dn=Te,Te.EventEmitter=Te,Te.prototype._events=void 0,Te.prototype._eventsCount=0,Te.prototype._maxListeners=void 0,ji=10,Object.defineProperty(Te,"defaultMaxListeners",{enumerable:!0,get:function(){return ji},set:function(e){if("number"!=typeof e||e<0||Li(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");ji=e}}),Te.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Te.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||Li(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},Te.prototype.getMaxListeners=function(){return xn(this)},Te.prototype.emit=function(e){for(var o=[],t=1;t<arguments.length;t++)o.push(arguments[t]);var l="error"===e,u=this._events;if(void 0!==u)l=l&&void 0===u.error;else if(!l)return!1;if(l){var i;if(o.length>0&&(i=o[0]),i instanceof Error)throw i;var r=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw r.context=i,r}var s=u[e];if(void 0===s)return!1;if("function"==typeof s)Ui(s,this,o);else{var n=s.length,a=Nn(s,n);for(t=0;t<n;++t)Ui(a[t],this,o)}return!0},Te.prototype.on=Te.prototype.addListener=function(e,o){return Mn(this,e,o,!1)},Te.prototype.prependListener=function(e,o){return Mn(this,e,o,!0)},Te.prototype.once=function(e,o){return or(o),this.on(e,Un(this,e,o)),this},Te.prototype.prependOnceListener=function(e,o){return or(o),this.prependListener(e,Un(this,e,o)),this},Te.prototype.off=Te.prototype.removeListener=function(e,o){var t,l,u,i,r;if(or(o),void 0===(l=this._events))return this;if(void 0===(t=l[e]))return this;if(t===o||t.listener===o)0==--this._eventsCount?this._events=Object.create(null):(delete l[e],l.removeListener&&this.emit("removeListener",e,t.listener||o));else if("function"!=typeof t){for(u=-1,i=t.length-1;i>=0;i--)if(t[i]===o||t[i].listener===o){r=t[i].listener,u=i;break}if(u<0)return this;0===u?t.shift():function(s,n){for(;n+1<s.length;n++)s[n]=s[n+1];s.pop()}(t,u),1===t.length&&(l[e]=t[0]),void 0!==l.removeListener&&this.emit("removeListener",e,r||o)}return this},Te.prototype.removeAllListeners=function(e){var o,t,l;if(void 0===(t=this._events))return this;if(void 0===t.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==t[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete t[e]),this;if(0===arguments.length){var u,i=Object.keys(t);for(l=0;l<i.length;++l)"removeListener"!==(u=i[l])&&this.removeAllListeners(u);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(o=t[e]))this.removeListener(e,o);else if(void 0!==o)for(l=o.length-1;l>=0;l--)this.removeListener(e,o[l]);return this},Te.prototype.listeners=function(e){return Ln(this,e,!0)},Te.prototype.rawListeners=function(e){return Ln(this,e,!1)},Te.listenerCount=function(e,o){return"function"==typeof e.listenerCount?e.listenerCount(o):jn.call(e,o)},Te.prototype.listenerCount=jn,Te.prototype.eventNames=function(){return this._eventsCount>0?Fn(this._events):[]},He=Dn}),Tt={};_t(Tt,{EventEmitter:()=>$n,default:()=>He,defaultMaxListeners:()=>qn,init:()=>Hn,listenerCount:()=>Vn,on:()=>zn,once:()=>Kn});var $n,qn,Hn,Vn,zn,Kn,Wt=Le(()=>{ie(),oe(),ne(),Wn(),Wn(),He.once=function(e,o){return new Promise((t,l)=>{function u(...r){void 0!==i&&e.removeListener("error",i),t(r)}let i;"error"!==o&&(i=r=>{e.removeListener(name,u),l(r)},e.once("error",i)),e.once(o,u)})},He.on=function(e,o){let t=[],l=[],u=null,i=!1,r={next:()=>(0,Pe.A)(function*(){let a=t.shift();if(a)return createIterResult(a,!1);if(u){let h=Promise.reject(u);return u=null,h}return i?createIterResult(void 0,!0):new Promise((h,d)=>l.push({resolve:h,reject:d}))})(),return:()=>(0,Pe.A)(function*(){e.removeListener(o,s),e.removeListener("error",n),i=!0;for(let a of l)a.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)})(),throw(a){u=a,e.removeListener(o,s),e.removeListener("error",n)},[Symbol.asyncIterator](){return this}};return e.on(o,s),e.on("error",n),r;function s(...a){let h=l.shift();h?h.resolve(createIterResult(a,!1)):t.push(a)}function n(a){i=!0;let h=l.shift();h?h.reject(a):u=a,r.return()}},({EventEmitter:$n,defaultMaxListeners:qn,init:Hn,listenerCount:Vn,on:zn,once:Kn}=He)}),Ni=ce((e,o)=>{ie(),oe(),ne();var{ArrayIsArray:t,ObjectSetPrototypeOf:l}=Me(),{EventEmitter:u}=(Wt(),Re(Tt));function i(s){u.call(this,s)}function r(s,n,a){if("function"==typeof s.prependListener)return s.prependListener(n,a);s._events&&s._events[n]?t(s._events[n])?s._events[n].unshift(a):s._events[n]=[a,s._events[n]]:s.on(n,a)}l(i.prototype,u.prototype),l(i,u),i.prototype.pipe=function(s,n){let a=this;function h(_){s.writable&&!1===s.write(_)&&a.pause&&a.pause()}function d(){a.readable&&a.resume&&a.resume()}a.on("data",h),s.on("drain",d),!s._isStdio&&(!n||!1!==n.end)&&(a.on("end",m),a.on("close",w));let p=!1;function m(){p||(p=!0,s.end())}function w(){p||(p=!0,"function"==typeof s.destroy&&s.destroy())}function g(_){v(),0===u.listenerCount(this,"error")&&this.emit("error",_)}function v(){a.removeListener("data",h),s.removeListener("drain",d),a.removeListener("end",m),a.removeListener("close",w),a.removeListener("error",g),s.removeListener("error",g),a.removeListener("end",v),a.removeListener("close",v),s.removeListener("close",v)}return r(a,"error",g),r(s,"error",g),a.on("end",v),a.on("close",v),s.on("close",v),s.emit("pipe",a),s},o.exports={Stream:i,prependListener:r}}),sr=ce((e,o)=>{ie(),oe(),ne();var{AbortError:t,codes:l}=$e(),{isNodeStream:u,isWebStream:i,kControllerErrorFunction:r}=st(),s=wt(),{ERR_INVALID_ARG_TYPE:n}=l;o.exports.addAbortSignal=function(h,d){if((h=>{if("object"!=typeof h||!("aborted"in h))throw new n("signal","AbortSignal",h)})(h),!u(d)&&!i(d))throw new n("stream",["ReadableStream","WritableStream","Stream"],d);return o.exports.addAbortSignalNoValidate(h,d)},o.exports.addAbortSignalNoValidate=function(h,d){if("object"!=typeof h||!("aborted"in h))return d;let p=u(d)?()=>{d.destroy(new t(void 0,{cause:h.reason}))}:()=>{d[r](new t(void 0,{cause:h.reason}))};return h.aborted?p():(h.addEventListener("abort",p),s(d,()=>h.removeEventListener("abort",p))),d}}),ca=ce((e,o)=>{ie(),oe(),ne();var{StringPrototypeSlice:t,SymbolIterator:l,TypedArrayPrototypeSet:u,Uint8Array:i}=Me(),{Buffer:r}=(Ne(),Re(je)),{inspect:s}=ot();o.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(n){let a={data:n,next:null};this.length>0?this.tail.next=a:this.head=a,this.tail=a,++this.length}unshift(n){let a={data:n,next:this.head};0===this.length&&(this.tail=a),this.head=a,++this.length}shift(){if(0===this.length)return;let n=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,n}clear(){this.head=this.tail=null,this.length=0}join(n){if(0===this.length)return"";let a=this.head,h=""+a.data;for(;null!==(a=a.next);)h+=n+a.data;return h}concat(n){if(0===this.length)return r.alloc(0);let a=r.allocUnsafe(n>>>0),h=this.head,d=0;for(;h;)u(a,h.data,d),d+=h.data.length,h=h.next;return a}consume(n,a){let h=this.head.data;if(n<h.length){let d=h.slice(0,n);return this.head.data=h.slice(n),d}return n===h.length?this.shift():a?this._getString(n):this._getBuffer(n)}first(){return this.head.data}*[l](){for(let n=this.head;n;n=n.next)yield n.data}_getString(n){let a="",h=this.head,d=0;do{let p=h.data;if(!(n>p.length)){n===p.length?(a+=p,++d,this.head=h.next?h.next:this.tail=null):(a+=t(p,0,n),this.head=h,h.data=t(p,n));break}a+=p,n-=p.length,++d}while(null!==(h=h.next));return this.length-=d,a}_getBuffer(n){let a=r.allocUnsafe(n),h=n,d=this.head,p=0;do{let m=d.data;if(!(n>m.length)){n===m.length?(u(a,m,h-n),++p,this.head=d.next?d.next:this.tail=null):(u(a,new i(m.buffer,m.byteOffset,n),h-n),this.head=d,d.data=m.slice(n));break}u(a,m,h-n),n-=m.length,++p}while(null!==(d=d.next));return this.length-=p,a}[Symbol.for("nodejs.util.inspect.custom")](n,a){return s(this,{...a,depth:0,customInspect:!1})}}}),Di=ce((e,o)=>{ie(),oe(),ne();var{MathFloor:t,NumberIsInteger:l}=Me(),{ERR_INVALID_ARG_VALUE:u}=$e().codes;function r(n){return n?16:16384}o.exports={getHighWaterMark:function s(n,a,h,d){let p=function i(n,a,h){return null!=n.highWaterMark?n.highWaterMark:a?n[h]:null}(a,d,h);if(null!=p){if(!l(p)||p<0)throw new u(d?`options.${h}`:"options.highWaterMark",p);return t(p)}return r(n.objectMode)},getDefaultHighWaterMark:r}});function Yn(e){var o=e.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=e.indexOf("=");return-1===t&&(t=o),[t,t===o?0:4-t%4]}function fa(e,o,t){for(var u,i=[],r=o;r<t;r+=3)i.push(Ke[(u=(e[r]<<16&16711680)+(e[r+1]<<8&65280)+(255&e[r+2]))>>18&63]+Ke[u>>12&63]+Ke[u>>6&63]+Ke[63&u]);return i.join("")}function at(e){if(e>2147483647)throw new RangeError('The value "'+e+'" is invalid for option "size"');var o=new Uint8Array(e);return Object.setPrototypeOf(o,ae.prototype),o}function ae(e,o,t){if("number"==typeof e){if("string"==typeof o)throw new TypeError('The "string" argument must be of type string. Received type number');return Fi(e)}return Qn(e,o,t)}function Qn(e,o,t){if("string"==typeof e)return function(i,r){if("string"==typeof r&&""!==r||(r="utf8"),!ae.isEncoding(r))throw new TypeError("Unknown encoding: "+r);var s=0|Jn(i,r),n=at(s),a=n.write(i,r);return a!==s&&(n=n.slice(0,a)),n}(e,o);if(ArrayBuffer.isView(e))return Wi(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(lt(e,ArrayBuffer)||e&&lt(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(lt(e,SharedArrayBuffer)||e&&lt(e.buffer,SharedArrayBuffer)))return function da(e,o,t){if(o<0||e.byteLength<o)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<o+(t||0))throw new RangeError('"length" is outside of buffer bounds');var l;return l=void 0===o&&void 0===t?new Uint8Array(e):void 0===t?new Uint8Array(e,o):new Uint8Array(e,o,t),Object.setPrototypeOf(l,ae.prototype),l}(e,o,t);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var l=e.valueOf&&e.valueOf();if(null!=l&&l!==e)return ae.from(l,o,t);var u=function(i){if(ae.isBuffer(i)){var r=0|$i(i.length),s=at(r);return 0===s.length||i.copy(s,0,0,r),s}return void 0!==i.length?"number"!=typeof i.length||Hi(i.length)?at(0):Wi(i):"Buffer"===i.type&&Array.isArray(i.data)?Wi(i.data):void 0}(e);if(u)return u;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return ae.from(e[Symbol.toPrimitive]("string"),o,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function Gn(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function Fi(e){return Gn(e),at(e<0?0:0|$i(e))}function Wi(e){for(var o=e.length<0?0:0|$i(e.length),t=at(o),l=0;l<o;l+=1)t[l]=255&e[l];return t}function $i(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function Jn(e,o){if(ae.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||lt(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var t=e.length,l=arguments.length>2&&!0===arguments[2];if(!l&&0===t)return 0;for(var u=!1;;)switch(o){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return qi(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*t;case"hex":return t>>>1;case"base64":return oo(e).length;default:if(u)return l?-1:qi(e).length;o=(""+o).toLowerCase(),u=!0}}function pa(e,o,t){var l=!1;if((void 0===o||o<0)&&(o=0),o>this.length||((void 0===t||t>this.length)&&(t=this.length),t<=0)||(t>>>=0)<=(o>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return Sa(this,o,t);case"utf8":case"utf-8":return to(this,o,t);case"ascii":return _a(this,o,t);case"latin1":case"binary":return Ea(this,o,t);case"base64":return va(this,o,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Aa(this,o,t);default:if(l)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),l=!0}}function kt(e,o,t){var l=e[o];e[o]=e[t],e[t]=l}function Xn(e,o,t,l,u){if(0===e.length)return-1;if("string"==typeof t?(l=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),Hi(t=+t)&&(t=u?0:e.length-1),t<0&&(t=e.length+t),t>=e.length){if(u)return-1;t=e.length-1}else if(t<0){if(!u)return-1;t=0}if("string"==typeof o&&(o=ae.from(o,l)),ae.isBuffer(o))return 0===o.length?-1:Zn(e,o,t,l,u);if("number"==typeof o)return o&=255,"function"==typeof Uint8Array.prototype.indexOf?u?Uint8Array.prototype.indexOf.call(e,o,t):Uint8Array.prototype.lastIndexOf.call(e,o,t):Zn(e,[o],t,l,u);throw new TypeError("val must be string, number or Buffer")}function Zn(e,o,t,l,u){var i,r=1,s=e.length,n=o.length;if(void 0!==l&&("ucs2"===(l=String(l).toLowerCase())||"ucs-2"===l||"utf16le"===l||"utf-16le"===l)){if(e.length<2||o.length<2)return-1;r=2,s/=2,n/=2,t/=2}function a(m,w){return 1===r?m[w]:m.readUInt16BE(w*r)}if(u){var h=-1;for(i=t;i<s;i++)if(a(e,i)===a(o,-1===h?0:i-h)){if(-1===h&&(h=i),i-h+1===n)return h*r}else-1!==h&&(i-=i-h),h=-1}else for(t+n>s&&(t=s-n),i=t;i>=0;i--){for(var d=!0,p=0;p<n;p++)if(a(e,i+p)!==a(o,p)){d=!1;break}if(d)return i}return-1}function ga(e,o,t,l){t=Number(t)||0;var u=e.length-t;l?(l=Number(l))>u&&(l=u):l=u;var i=o.length;l>i/2&&(l=i/2);for(var r=0;r<l;++r){var s=parseInt(o.substr(2*r,2),16);if(Hi(s))return r;e[t+r]=s}return r}function ya(e,o,t,l){return ar(qi(o,e.length-t),e,t,l)}function eo(e,o,t,l){return ar(function(u){for(var i=[],r=0;r<u.length;++r)i.push(255&u.charCodeAt(r));return i}(o),e,t,l)}function ma(e,o,t,l){return eo(e,o,t,l)}function ba(e,o,t,l){return ar(oo(o),e,t,l)}function wa(e,o,t,l){return ar(function(u,i){for(var r,s,a=[],h=0;h<u.length&&!((i-=2)<0);++h)s=(r=u.charCodeAt(h))>>8,a.push(r%256),a.push(s);return a}(o,e.length-t),e,t,l)}function va(e,o,t){return ur.fromByteArray(0===o&&t===e.length?e:e.slice(o,t))}function to(e,o,t){t=Math.min(e.length,t);for(var l=[],u=o;u<t;){var i,r,s,n,a=e[u],h=null,d=a>239?4:a>223?3:a>191?2:1;if(u+d<=t)switch(d){case 1:a<128&&(h=a);break;case 2:128==(192&(i=e[u+1]))&&(n=(31&a)<<6|63&i)>127&&(h=n);break;case 3:r=e[u+2],128==(192&(i=e[u+1]))&&128==(192&r)&&(n=(15&a)<<12|(63&i)<<6|63&r)>2047&&(n<55296||n>57343)&&(h=n);break;case 4:r=e[u+2],s=e[u+3],128==(192&(i=e[u+1]))&&128==(192&r)&&128==(192&s)&&(n=(15&a)<<18|(63&i)<<12|(63&r)<<6|63&s)>65535&&n<1114112&&(h=n)}null===h?(h=65533,d=1):h>65535&&(l.push((h-=65536)>>>10&1023|55296),h=56320|1023&h),l.push(h),u+=d}return function(p){var m=p.length;if(m<=4096)return String.fromCharCode.apply(String,p);for(var w="",g=0;g<m;)w+=String.fromCharCode.apply(String,p.slice(g,g+=4096));return w}(l)}function _a(e,o,t){var l="";t=Math.min(e.length,t);for(var u=o;u<t;++u)l+=String.fromCharCode(127&e[u]);return l}function Ea(e,o,t){var l="";t=Math.min(e.length,t);for(var u=o;u<t;++u)l+=String.fromCharCode(e[u]);return l}function Sa(e,o,t){var l=e.length;(!o||o<0)&&(o=0),(!t||t<0||t>l)&&(t=l);for(var u="",i=o;i<t;++i)u+=fo[e[i]];return u}function Aa(e,o,t){for(var l=e.slice(o,t),u="",i=0;i<l.length;i+=2)u+=String.fromCharCode(l[i]+256*l[i+1]);return u}function Ue(e,o,t){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+o>t)throw new RangeError("Trying to access beyond buffer length")}function qe(e,o,t,l,u,i){if(!ae.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(o>u||o<i)throw new RangeError('"value" argument is out of bounds');if(t+l>e.length)throw new RangeError("Index out of range")}function ro(e,o,t,l,u,i){if(t+l>e.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function io(e,o,t,l,u){return o=+o,t>>>=0,u||ro(e,0,t,4),Ct.write(e,o,t,l,23,4),t+4}function no(e,o,t,l,u){return o=+o,t>>>=0,u||ro(e,0,t,8),Ct.write(e,o,t,l,52,8),t+8}function qi(e,o){var t;o=o||1/0;for(var l=e.length,u=null,i=[],r=0;r<l;++r){if((t=e.charCodeAt(r))>55295&&t<57344){if(!u){if(t>56319){(o-=3)>-1&&i.push(239,191,189);continue}if(r+1===l){(o-=3)>-1&&i.push(239,191,189);continue}u=t;continue}if(t<56320){(o-=3)>-1&&i.push(239,191,189),u=t;continue}t=65536+(u-55296<<10|t-56320)}else u&&(o-=3)>-1&&i.push(239,191,189);if(u=null,t<128){if((o-=1)<0)break;i.push(t)}else if(t<2048){if((o-=2)<0)break;i.push(t>>6|192,63&t|128)}else if(t<65536){if((o-=3)<0)break;i.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(t<1114112))throw new Error("Invalid code point");if((o-=4)<0)break;i.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return i}function oo(e){return ur.toByteArray(function(o){if((o=(o=o.split("=")[0]).trim().replace(co,"")).length<2)return"";for(;o.length%4!=0;)o+="=";return o}(e))}function ar(e,o,t,l){for(var u=0;u<l&&!(u+t>=o.length||u>=e.length);++u)o[u+t]=e[u];return u}function lt(e,o){return e instanceof o||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===o.name}function Hi(e){return e!=e}function so(e,o){for(var t in e)o[t]=e[t]}function Rt(e,o,t){return Ye(e,o,t)}function Yt(e){var o;switch(this.encoding=function(t){var l=function(u){if(!u)return"utf8";for(var i;;)switch(u){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return u;default:if(i)return;u=(""+u).toLowerCase(),i=!0}}(t);if("string"!=typeof l&&(hr.isEncoding===Ki||!Ki(t)))throw new Error("Unknown encoding: "+t);return l||t}(e),this.encoding){case"utf16le":this.text=Ta,this.end=ka,o=4;break;case"utf8":this.fillLast=Ia,o=4;break;case"base64":this.text=Ra,this.end=Oa,o=3;break;default:return this.write=Ca,void(this.end=Pa)}this.lastNeed=0,this.lastTotal=0,this.lastChar=hr.allocUnsafe(o)}function Vi(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function Ia(e){var o=this.lastTotal-this.lastNeed,t=function(l,u){if(128!=(192&u[0]))return l.lastNeed=0,"\ufffd";if(l.lastNeed>1&&u.length>1){if(128!=(192&u[1]))return l.lastNeed=1,"\ufffd";if(l.lastNeed>2&&u.length>2&&128!=(192&u[2]))return l.lastNeed=2,"\ufffd"}}(this,e);return void 0!==t?t:this.lastNeed<=e.length?(e.copy(this.lastChar,o,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,o,0,e.length),void(this.lastNeed-=e.length))}function Ta(e,o){if((e.length-o)%2==0){var t=e.toString("utf16le",o);if(t){var l=t.charCodeAt(t.length-1);if(l>=55296&&l<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],t.slice(0,-1)}return t}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",o,e.length-1)}function ka(e){var o=e&&e.length?this.write(e):"";return this.lastNeed?o+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):o}function Ra(e,o){var t=(e.length-o)%3;return 0===t?e.toString("base64",o):(this.lastNeed=3-t,this.lastTotal=3,1===t?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",o,e.length-t))}function Oa(e){var o=e&&e.length?this.write(e):"";return this.lastNeed?o+this.lastChar.toString("base64",0,3-this.lastNeed):o}function Ca(e){return e.toString(this.encoding)}function Pa(e){return e&&e.length?this.write(e):""}var ao,Ke,Ve,lo,lr,Ot,Xe,ur,Ct,zi,co,fo,Qt,Gt,Ye,$t,hr,Ki,go=Le(()=>{for(ie(),oe(),ne(),ao={byteLength:function(e){var o=Yn(e),l=o[1];return 3*(o[0]+l)/4-l},toByteArray:function(e){var o,t,d,l=Yn(e),u=l[0],i=l[1],r=new lo(3*(u+(d=i))/4-d),s=0,n=i>0?u-4:u;for(t=0;t<n;t+=4)o=Ve[e.charCodeAt(t)]<<18|Ve[e.charCodeAt(t+1)]<<12|Ve[e.charCodeAt(t+2)]<<6|Ve[e.charCodeAt(t+3)],r[s++]=o>>16&255,r[s++]=o>>8&255,r[s++]=255&o;return 2===i&&(o=Ve[e.charCodeAt(t)]<<2|Ve[e.charCodeAt(t+1)]>>4,r[s++]=255&o),1===i&&(o=Ve[e.charCodeAt(t)]<<10|Ve[e.charCodeAt(t+1)]<<4|Ve[e.charCodeAt(t+2)]>>2,r[s++]=o>>8&255,r[s++]=255&o),r},fromByteArray:function(e){for(var o,t=e.length,l=t%3,u=[],i=0,r=t-l;i<r;i+=16383)u.push(fa(e,i,i+16383>r?r:i+16383));return 1===l?u.push(Ke[(o=e[t-1])>>2]+Ke[o<<4&63]+"=="):2===l&&u.push(Ke[(o=(e[t-2]<<8)+e[t-1])>>10]+Ke[o>>4&63]+Ke[o<<2&63]+"="),u.join("")}},Ke=[],Ve=[],lo=typeof Uint8Array<"u"?Uint8Array:Array,lr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ot=0;Ot<64;++Ot)Ke[Ot]=lr[Ot],Ve[lr.charCodeAt(Ot)]=Ot;Ve[45]=62,Ve[95]=63,Xe={},ur=ao,Ct={read:function(e,o,t,l,u){var i,r,s=8*u-l-1,n=(1<<s)-1,a=n>>1,h=-7,d=t?u-1:0,p=t?-1:1,m=e[o+d];for(d+=p,i=m&(1<<-h)-1,m>>=-h,h+=s;h>0;i=256*i+e[o+d],d+=p,h-=8);for(r=i&(1<<-h)-1,i>>=-h,h+=l;h>0;r=256*r+e[o+d],d+=p,h-=8);if(0===i)i=1-a;else{if(i===n)return r?NaN:1/0*(m?-1:1);r+=Math.pow(2,l),i-=a}return(m?-1:1)*r*Math.pow(2,i-l)},write:function(e,o,t,l,u,i){var r,s,n,a=8*i-u-1,h=(1<<a)-1,d=h>>1,p=23===u?Math.pow(2,-24)-Math.pow(2,-77):0,m=l?0:i-1,w=l?1:-1,g=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(s=isNaN(o)?1:0,r=h):(r=Math.floor(Math.log(o)/Math.LN2),o*(n=Math.pow(2,-r))<1&&(r--,n*=2),(o+=r+d>=1?p/n:p*Math.pow(2,1-d))*n>=2&&(r++,n/=2),r+d>=h?(s=0,r=h):r+d>=1?(s=(o*n-1)*Math.pow(2,u),r+=d):(s=o*Math.pow(2,d-1)*Math.pow(2,u),r=0));u>=8;e[t+m]=255&s,m+=w,s/=256,u-=8);for(r=r<<u|s,a+=u;a>0;e[t+m]=255&r,m+=w,r/=256,a-=8);e[t+m-w]|=128*g}},zi="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null,Xe.Buffer=ae,Xe.SlowBuffer=function(e){return+e!=e&&(e=0),ae.alloc(+e)},Xe.INSPECT_MAX_BYTES=50,Xe.kMaxLength=2147483647,(ae.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),o={foo:function(){return 42}};return Object.setPrototypeOf(o,Uint8Array.prototype),Object.setPrototypeOf(e,o),42===e.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(ae.prototype,"parent",{enumerable:!0,get:function(){if(ae.isBuffer(this))return this.buffer}}),Object.defineProperty(ae.prototype,"offset",{enumerable:!0,get:function(){if(ae.isBuffer(this))return this.byteOffset}}),ae.poolSize=8192,ae.from=function(e,o,t){return Qn(e,o,t)},Object.setPrototypeOf(ae.prototype,Uint8Array.prototype),Object.setPrototypeOf(ae,Uint8Array),ae.alloc=function(e,o,t){return u=o,i=t,Gn(l=e),l<=0?at(l):void 0!==u?"string"==typeof i?at(l).fill(u,i):at(l).fill(u):at(l);var l,u,i},ae.allocUnsafe=function(e){return Fi(e)},ae.allocUnsafeSlow=function(e){return Fi(e)},ae.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==ae.prototype},ae.compare=function(e,o){if(lt(e,Uint8Array)&&(e=ae.from(e,e.offset,e.byteLength)),lt(o,Uint8Array)&&(o=ae.from(o,o.offset,o.byteLength)),!ae.isBuffer(e)||!ae.isBuffer(o))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===o)return 0;for(var t=e.length,l=o.length,u=0,i=Math.min(t,l);u<i;++u)if(e[u]!==o[u]){t=e[u],l=o[u];break}return t<l?-1:l<t?1:0},ae.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ae.concat=function(e,o){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return ae.alloc(0);var t;if(void 0===o)for(o=0,t=0;t<e.length;++t)o+=e[t].length;var l=ae.allocUnsafe(o),u=0;for(t=0;t<e.length;++t){var i=e[t];if(lt(i,Uint8Array)&&(i=ae.from(i)),!ae.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(l,u),u+=i.length}return l},ae.byteLength=Jn,ae.prototype._isBuffer=!0,ae.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var o=0;o<e;o+=2)kt(this,o,o+1);return this},ae.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var o=0;o<e;o+=4)kt(this,o,o+3),kt(this,o+1,o+2);return this},ae.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var o=0;o<e;o+=8)kt(this,o,o+7),kt(this,o+1,o+6),kt(this,o+2,o+5),kt(this,o+3,o+4);return this},ae.prototype.toLocaleString=ae.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?to(this,0,e):pa.apply(this,arguments)},ae.prototype.equals=function(e){if(!ae.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===ae.compare(this,e)},ae.prototype.inspect=function(){var e="",o=Xe.INSPECT_MAX_BYTES;return e=this.toString("hex",0,o).replace(/(.{2})/g,"$1 ").trim(),this.length>o&&(e+=" ... "),"<Buffer "+e+">"},zi&&(ae.prototype[zi]=ae.prototype.inspect),ae.prototype.compare=function(e,o,t,l,u){if(lt(e,Uint8Array)&&(e=ae.from(e,e.offset,e.byteLength)),!ae.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===o&&(o=0),void 0===t&&(t=e?e.length:0),void 0===l&&(l=0),void 0===u&&(u=this.length),o<0||t>e.length||l<0||u>this.length)throw new RangeError("out of range index");if(l>=u&&o>=t)return 0;if(l>=u)return-1;if(o>=t)return 1;if(this===e)return 0;for(var i=(u>>>=0)-(l>>>=0),r=(t>>>=0)-(o>>>=0),s=Math.min(i,r),n=this.slice(l,u),a=e.slice(o,t),h=0;h<s;++h)if(n[h]!==a[h]){i=n[h],r=a[h];break}return i<r?-1:r<i?1:0},ae.prototype.includes=function(e,o,t){return-1!==this.indexOf(e,o,t)},ae.prototype.indexOf=function(e,o,t){return Xn(this,e,o,t,!0)},ae.prototype.lastIndexOf=function(e,o,t){return Xn(this,e,o,t,!1)},ae.prototype.write=function(e,o,t,l){if(void 0===o)l="utf8",t=this.length,o=0;else if(void 0===t&&"string"==typeof o)l=o,t=this.length,o=0;else{if(!isFinite(o))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");o>>>=0,isFinite(t)?(t>>>=0,void 0===l&&(l="utf8")):(l=t,t=void 0)}var u=this.length-o;if((void 0===t||t>u)&&(t=u),e.length>0&&(t<0||o<0)||o>this.length)throw new RangeError("Attempt to write outside buffer bounds");l||(l="utf8");for(var i=!1;;)switch(l){case"hex":return ga(this,e,o,t);case"utf8":case"utf-8":return ya(this,e,o,t);case"ascii":return eo(this,e,o,t);case"latin1":case"binary":return ma(this,e,o,t);case"base64":return ba(this,e,o,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return wa(this,e,o,t);default:if(i)throw new TypeError("Unknown encoding: "+l);l=(""+l).toLowerCase(),i=!0}},ae.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},ae.prototype.slice=function(e,o){var t=this.length;(e=~~e)<0?(e+=t)<0&&(e=0):e>t&&(e=t),(o=void 0===o?t:~~o)<0?(o+=t)<0&&(o=0):o>t&&(o=t),o<e&&(o=e);var l=this.subarray(e,o);return Object.setPrototypeOf(l,ae.prototype),l},ae.prototype.readUIntLE=function(e,o,t){e>>>=0,o>>>=0,t||Ue(e,o,this.length);for(var l=this[e],u=1,i=0;++i<o&&(u*=256);)l+=this[e+i]*u;return l},ae.prototype.readUIntBE=function(e,o,t){e>>>=0,o>>>=0,t||Ue(e,o,this.length);for(var l=this[e+--o],u=1;o>0&&(u*=256);)l+=this[e+--o]*u;return l},ae.prototype.readUInt8=function(e,o){return e>>>=0,o||Ue(e,1,this.length),this[e]},ae.prototype.readUInt16LE=function(e,o){return e>>>=0,o||Ue(e,2,this.length),this[e]|this[e+1]<<8},ae.prototype.readUInt16BE=function(e,o){return e>>>=0,o||Ue(e,2,this.length),this[e]<<8|this[e+1]},ae.prototype.readUInt32LE=function(e,o){return e>>>=0,o||Ue(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},ae.prototype.readUInt32BE=function(e,o){return e>>>=0,o||Ue(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},ae.prototype.readIntLE=function(e,o,t){e>>>=0,o>>>=0,t||Ue(e,o,this.length);for(var l=this[e],u=1,i=0;++i<o&&(u*=256);)l+=this[e+i]*u;return l>=(u*=128)&&(l-=Math.pow(2,8*o)),l},ae.prototype.readIntBE=function(e,o,t){e>>>=0,o>>>=0,t||Ue(e,o,this.length);for(var l=o,u=1,i=this[e+--l];l>0&&(u*=256);)i+=this[e+--l]*u;return i>=(u*=128)&&(i-=Math.pow(2,8*o)),i},ae.prototype.readInt8=function(e,o){return e>>>=0,o||Ue(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},ae.prototype.readInt16LE=function(e,o){e>>>=0,o||Ue(e,2,this.length);var t=this[e]|this[e+1]<<8;return 32768&t?4294901760|t:t},ae.prototype.readInt16BE=function(e,o){e>>>=0,o||Ue(e,2,this.length);var t=this[e+1]|this[e]<<8;return 32768&t?4294901760|t:t},ae.prototype.readInt32LE=function(e,o){return e>>>=0,o||Ue(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},ae.prototype.readInt32BE=function(e,o){return e>>>=0,o||Ue(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},ae.prototype.readFloatLE=function(e,o){return e>>>=0,o||Ue(e,4,this.length),Ct.read(this,e,!0,23,4)},ae.prototype.readFloatBE=function(e,o){return e>>>=0,o||Ue(e,4,this.length),Ct.read(this,e,!1,23,4)},ae.prototype.readDoubleLE=function(e,o){return e>>>=0,o||Ue(e,8,this.length),Ct.read(this,e,!0,52,8)},ae.prototype.readDoubleBE=function(e,o){return e>>>=0,o||Ue(e,8,this.length),Ct.read(this,e,!1,52,8)},ae.prototype.writeUIntLE=function(e,o,t,l){e=+e,o>>>=0,t>>>=0,l||qe(this,e,o,t,Math.pow(2,8*t)-1,0);var u=1,i=0;for(this[o]=255&e;++i<t&&(u*=256);)this[o+i]=e/u&255;return o+t},ae.prototype.writeUIntBE=function(e,o,t,l){e=+e,o>>>=0,t>>>=0,l||qe(this,e,o,t,Math.pow(2,8*t)-1,0);var u=t-1,i=1;for(this[o+u]=255&e;--u>=0&&(i*=256);)this[o+u]=e/i&255;return o+t},ae.prototype.writeUInt8=function(e,o,t){return e=+e,o>>>=0,t||qe(this,e,o,1,255,0),this[o]=255&e,o+1},ae.prototype.writeUInt16LE=function(e,o,t){return e=+e,o>>>=0,t||qe(this,e,o,2,65535,0),this[o]=255&e,this[o+1]=e>>>8,o+2},ae.prototype.writeUInt16BE=function(e,o,t){return e=+e,o>>>=0,t||qe(this,e,o,2,65535,0),this[o]=e>>>8,this[o+1]=255&e,o+2},ae.prototype.writeUInt32LE=function(e,o,t){return e=+e,o>>>=0,t||qe(this,e,o,4,4294967295,0),this[o+3]=e>>>24,this[o+2]=e>>>16,this[o+1]=e>>>8,this[o]=255&e,o+4},ae.prototype.writeUInt32BE=function(e,o,t){return e=+e,o>>>=0,t||qe(this,e,o,4,4294967295,0),this[o]=e>>>24,this[o+1]=e>>>16,this[o+2]=e>>>8,this[o+3]=255&e,o+4},ae.prototype.writeIntLE=function(e,o,t,l){if(e=+e,o>>>=0,!l){var u=Math.pow(2,8*t-1);qe(this,e,o,t,u-1,-u)}var i=0,r=1,s=0;for(this[o]=255&e;++i<t&&(r*=256);)e<0&&0===s&&0!==this[o+i-1]&&(s=1),this[o+i]=(e/r|0)-s&255;return o+t},ae.prototype.writeIntBE=function(e,o,t,l){if(e=+e,o>>>=0,!l){var u=Math.pow(2,8*t-1);qe(this,e,o,t,u-1,-u)}var i=t-1,r=1,s=0;for(this[o+i]=255&e;--i>=0&&(r*=256);)e<0&&0===s&&0!==this[o+i+1]&&(s=1),this[o+i]=(e/r|0)-s&255;return o+t},ae.prototype.writeInt8=function(e,o,t){return e=+e,o>>>=0,t||qe(this,e,o,1,127,-128),e<0&&(e=255+e+1),this[o]=255&e,o+1},ae.prototype.writeInt16LE=function(e,o,t){return e=+e,o>>>=0,t||qe(this,e,o,2,32767,-32768),this[o]=255&e,this[o+1]=e>>>8,o+2},ae.prototype.writeInt16BE=function(e,o,t){return e=+e,o>>>=0,t||qe(this,e,o,2,32767,-32768),this[o]=e>>>8,this[o+1]=255&e,o+2},ae.prototype.writeInt32LE=function(e,o,t){return e=+e,o>>>=0,t||qe(this,e,o,4,2147483647,-2147483648),this[o]=255&e,this[o+1]=e>>>8,this[o+2]=e>>>16,this[o+3]=e>>>24,o+4},ae.prototype.writeInt32BE=function(e,o,t){return e=+e,o>>>=0,t||qe(this,e,o,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[o]=e>>>24,this[o+1]=e>>>16,this[o+2]=e>>>8,this[o+3]=255&e,o+4},ae.prototype.writeFloatLE=function(e,o,t){return io(this,e,o,!0,t)},ae.prototype.writeFloatBE=function(e,o,t){return io(this,e,o,!1,t)},ae.prototype.writeDoubleLE=function(e,o,t){return no(this,e,o,!0,t)},ae.prototype.writeDoubleBE=function(e,o,t){return no(this,e,o,!1,t)},ae.prototype.copy=function(e,o,t,l){if(!ae.isBuffer(e))throw new TypeError("argument should be a Buffer");if(t||(t=0),l||0===l||(l=this.length),o>=e.length&&(o=e.length),o||(o=0),l>0&&l<t&&(l=t),l===t||0===e.length||0===this.length)return 0;if(o<0)throw new RangeError("targetStart out of bounds");if(t<0||t>=this.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("sourceEnd out of bounds");l>this.length&&(l=this.length),e.length-o<l-t&&(l=e.length-o+t);var u=l-t;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(o,t,l);else if(this===e&&t<o&&o<l)for(var i=u-1;i>=0;--i)e[i+o]=this[i+t];else Uint8Array.prototype.set.call(e,this.subarray(t,l),o);return u},ae.prototype.fill=function(e,o,t,l){if("string"==typeof e){if("string"==typeof o?(l=o,o=0,t=this.length):"string"==typeof t&&(l=t,t=this.length),void 0!==l&&"string"!=typeof l)throw new TypeError("encoding must be a string");if("string"==typeof l&&!ae.isEncoding(l))throw new TypeError("Unknown encoding: "+l);if(1===e.length){var u=e.charCodeAt(0);("utf8"===l&&u<128||"latin1"===l)&&(e=u)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(o<0||this.length<o||this.length<t)throw new RangeError("Out of range index");if(t<=o)return this;var i;if(o>>>=0,t=void 0===t?this.length:t>>>0,e||(e=0),"number"==typeof e)for(i=o;i<t;++i)this[i]=e;else{var r=ae.isBuffer(e)?e:ae.from(e,l),s=r.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<t-o;++i)this[i+o]=r[i%s]}return this},co=/[^+/0-9A-Za-z-_]/g,fo=function(){for(var e=new Array(256),o=0;o<16;++o)for(var t=16*o,l=0;l<16;++l)e[t+l]="0123456789abcdef"[o]+"0123456789abcdef"[l];return e}(),Qt={},(Ye=(Gt=Xe).Buffer).from&&Ye.alloc&&Ye.allocUnsafe&&Ye.allocUnsafeSlow?Qt=Gt:(so(Gt,Qt),Qt.Buffer=Rt),Rt.prototype=Object.create(Ye.prototype),so(Ye,Rt),Rt.from=function(e,o,t){if("number"==typeof e)throw new TypeError("Argument must not be a number");return Ye(e,o,t)},Rt.alloc=function(e,o,t){if("number"!=typeof e)throw new TypeError("Argument must be a number");var l=Ye(e);return void 0!==o?"string"==typeof t?l.fill(o,t):l.fill(o):l.fill(0),l},Rt.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return Ye(e)},Rt.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return Gt.SlowBuffer(e)},Ki=(hr=Qt.Buffer).isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},($t={}).StringDecoder=Yt,Yt.prototype.write=function(e){if(0===e.length)return"";var o,t;if(this.lastNeed){if(void 0===(o=this.fillLast(e)))return"";t=this.lastNeed,this.lastNeed=0}else t=0;return t<e.length?o?o+this.text(e,t):this.text(e,t):o||""},Yt.prototype.end=function(e){var o=e&&e.length?this.write(e):"";return this.lastNeed?o+"\ufffd":o},Yt.prototype.text=function(e,o){var t=function(u,i,r){var s=i.length-1;if(s<r)return 0;var n=Vi(i[s]);return n>=0?(n>0&&(u.lastNeed=n-1),n):--s<r||-2===n?0:(n=Vi(i[s]))>=0?(n>0&&(u.lastNeed=n-2),n):--s<r||-2===n?0:(n=Vi(i[s]))>=0?(n>0&&(2===n?n=0:u.lastNeed=n-3),n):0}(this,e,o);if(!this.lastNeed)return e.toString("utf8",o);this.lastTotal=t;var l=e.length-(t-this.lastNeed);return e.copy(this.lastChar,0,l),e.toString("utf8",o,l)},Yt.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}}),yo={};_t(yo,{StringDecoder:()=>mo,default:()=>$t});var mo,Ba=Le(()=>{ie(),oe(),ne(),go(),go(),mo=$t.StringDecoder}),bo=ce((e,o)=>{ie(),oe(),ne();var t=At(),{PromisePrototypeThen:l,SymbolAsyncIterator:u,SymbolIterator:i}=Me(),{Buffer:r}=(Ne(),Re(je)),{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_NULL_VALUES:n}=$e().codes;o.exports=function a(h,d,p){let m,w;if("string"==typeof d||d instanceof r)return new h({objectMode:!0,...p,read(){this.push(d),this.push(null)}});if(d&&d[u])w=!0,m=d[u]();else{if(!d||!d[i])throw new s("iterable",["Iterable"],d);w=!1,m=d[i]()}let g=new h({objectMode:!0,highWaterMark:1,...p}),v=!1;function S(){return(S=(0,Pe.A)(function*(U){if(null!=U&&"function"==typeof m.throw){let{value:M,done:W}=yield m.throw(U);if(yield M,W)return}if("function"==typeof m.return){let{value:M}=yield m.return();yield M}})).apply(this,arguments)}function C(){return(C=(0,Pe.A)(function*(){for(;;){try{let{value:U,done:A}=w?yield m.next():m.next();if(A)g.push(null);else{let O=U&&"function"==typeof U.then?yield U:U;if(null===O)throw v=!1,new n;if(g.push(O))continue;v=!1}}catch(U){g.destroy(U)}break}})).apply(this,arguments)}return g._read=function(){v||(v=!0,function E(){C.apply(this,arguments)}())},g._destroy=function(U,A){l(function _(U){return S.apply(this,arguments)}(U),()=>t.nextTick(A,U),O=>t.nextTick(A,O||U))},g}}),cr=ce((e,o)=>{ie(),oe(),ne();var t=At(),{ArrayPrototypeIndexOf:l,NumberIsInteger:u,NumberIsNaN:i,NumberParseInt:r,ObjectDefineProperties:s,ObjectKeys:n,ObjectSetPrototypeOf:a,Promise:h,SafeSet:d,SymbolAsyncIterator:p,Symbol:m}=Me();o.exports=k,k.ReadableState=de;var{EventEmitter:w}=(Wt(),Re(Tt)),{Stream:g,prependListener:v}=Ni(),{Buffer:_}=(Ne(),Re(je)),{addAbortSignal:S}=sr(),E=wt(),C=ot().debuglog("stream",f=>{C=f}),U=ca(),A=Ft(),{getHighWaterMark:O,getDefaultHighWaterMark:M}=Di(),{aggregateTwoErrors:W,codes:{ERR_INVALID_ARG_TYPE:G,ERR_METHOD_NOT_IMPLEMENTED:Z,ERR_OUT_OF_RANGE:P,ERR_STREAM_PUSH_AFTER_EOF:F,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:J}}=$e(),{validateObject:Y}=nr(),ee=m("kPaused"),{StringDecoder:ue}=(Ba(),Re(yo)),D=bo();a(k.prototype,g.prototype),a(k,g);var c,se=()=>{},{errorOrDestroy:te}=A;function de(f,b,R){"boolean"!=typeof R&&(R=b instanceof ut()),this.objectMode=!(!f||!f.objectMode),R&&(this.objectMode=this.objectMode||!(!f||!f.readableObjectMode)),this.highWaterMark=f?O(this,f,"readableHighWaterMark",R):M(!1),this.buffer=new U,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[ee]=null,this.errorEmitted=!1,this.emitClose=!f||!1!==f.emitClose,this.autoDestroy=!f||!1!==f.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=f&&f.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,f&&f.encoding&&(this.decoder=new ue(f.encoding),this.encoding=f.encoding)}function k(f){if(!(this instanceof k))return new k(f);let b=this instanceof ut();this._readableState=new de(f,this,b),f&&("function"==typeof f.read&&(this._read=f.read),"function"==typeof f.destroy&&(this._destroy=f.destroy),"function"==typeof f.construct&&(this._construct=f.construct),f.signal&&!b&&S(f.signal,this)),g.call(this,f),A.construct(this,()=>{this._readableState.needReadable&&re(this,this._readableState)})}function he(f,b,R,L){C("readableAddChunk",b);let we,H=f._readableState;if(H.objectMode||("string"==typeof b?H.encoding!==(R=R||H.defaultEncoding)&&(L&&H.encoding?b=_.from(b,R).toString(H.encoding):(b=_.from(b,R),R="")):b instanceof _?R="":g._isUint8Array(b)?(b=g._uint8ArrayToBuffer(b),R=""):null!=b&&(we=new G("chunk",["string","Buffer","Uint8Array"],b))),we)te(f,we);else if(null===b)H.reading=!1,function x(f,b){if(C("onEofChunk"),!b.ended){if(b.decoder){let R=b.decoder.end();R&&R.length&&(b.buffer.push(R),b.length+=b.objectMode?1:R.length)}b.ended=!0,b.sync?X(f):(b.needReadable=!1,b.emittedReadable=!0,le(f))}}(f,H);else if(H.objectMode||b&&b.length>0)if(L)if(H.endEmitted)te(f,new J);else{if(H.destroyed||H.errored)return!1;pe(f,H,b,!0)}else if(H.ended)te(f,new F);else{if(H.destroyed||H.errored)return!1;H.reading=!1,H.decoder&&!R?(b=H.decoder.write(b),H.objectMode||0!==b.length?pe(f,H,b,!1):re(f,H)):pe(f,H,b,!1)}else L||(H.reading=!1,re(f,H));return!H.ended&&(H.length<H.highWaterMark||0===H.length)}function pe(f,b,R,L){b.flowing&&0===b.length&&!b.sync&&f.listenerCount("data")>0?(b.multiAwaitDrain?b.awaitDrainWriters.clear():b.awaitDrainWriters=null,b.dataEmitted=!0,f.emit("data",R)):(b.length+=b.objectMode?1:R.length,L?b.buffer.unshift(R):b.buffer.push(R),b.needReadable&&X(f)),re(f,b)}function q(f,b){return f<=0||0===b.length&&b.ended?0:b.objectMode?1:i(f)?b.flowing&&b.length?b.buffer.first().length:b.length:f<=b.length?f:b.ended?b.length:0}function X(f){let b=f._readableState;C("emitReadable",b.needReadable,b.emittedReadable),b.needReadable=!1,b.emittedReadable||(C("emitReadable",b.flowing),b.emittedReadable=!0,t.nextTick(le,f))}function le(f){let b=f._readableState;C("emitReadable_",b.destroyed,b.length,b.ended),!b.destroyed&&!b.errored&&(b.length||b.ended)&&(f.emit("readable"),b.emittedReadable=!1),b.needReadable=!b.flowing&&!b.ended&&b.length<=b.highWaterMark,K(f)}function re(f,b){!b.readingMore&&b.constructed&&(b.readingMore=!0,t.nextTick(j,f,b))}function j(f,b){for(;!b.reading&&!b.ended&&(b.length<b.highWaterMark||b.flowing&&0===b.length);){let R=b.length;if(C("maybeReadMore read 0"),f.read(0),R===b.length)break}b.readingMore=!1}function z(f){let b=f._readableState;b.readableListening=f.listenerCount("readable")>0,b.resumeScheduled&&!1===b[ee]?b.flowing=!0:f.listenerCount("data")>0?f.resume():b.readableListening||(b.flowing=null)}function T(f){C("readable nexttick read 0"),f.read(0)}function N(f,b){C("resume",b.reading),b.reading||f.read(0),b.resumeScheduled=!1,f.emit("resume"),K(f),b.flowing&&!b.reading&&f.read(0)}function K(f){let b=f._readableState;for(C("flow",b.flowing);b.flowing&&null!==f.read(););}function $(f,b){"function"!=typeof f.read&&(f=k.wrap(f,{objectMode:!0}));let R=function I(f,b){return Q.apply(this,arguments)}(f,b);return R.stream=f,R}function Q(){return(Q=(0,mt.A)(function*(f,b){let R=se;function L(_e){this===f?(R(),R=se):R=_e}f.on("readable",L);let H,we=E(f,{writable:!1},_e=>{H=_e?W(H,_e):null,R(),R=se});try{for(;;){let _e=f.destroyed?null:f.read();if(null!==_e)yield _e;else{if(H)throw H;if(null===H)return;yield(0,We.A)(new h(L))}}}catch(_e){throw H=W(H,_e),H}finally{!H&&!1===b?.destroyOnReturn||void 0!==H&&!f._readableState.autoDestroy?(f.off("readable",L),we()):A.destroyer(f,null)}})).apply(this,arguments)}function fe(f,b){if(0===b.length)return null;let R;return b.objectMode?R=b.buffer.shift():!f||f>=b.length?(R=b.decoder?b.buffer.join(""):1===b.buffer.length?b.buffer.first():b.buffer.concat(b.length),b.buffer.clear()):R=b.buffer.consume(f,b.decoder),R}function me(f){let b=f._readableState;C("endReadable",b.endEmitted),b.endEmitted||(b.ended=!0,t.nextTick(ye,b,f))}function ye(f,b){if(C("endReadableNT",f.endEmitted,f.length),!f.errored&&!f.closeEmitted&&!f.endEmitted&&0===f.length)if(f.endEmitted=!0,b.emit("end"),b.writable&&!1===b.allowHalfOpen)t.nextTick(be,b);else if(f.autoDestroy){let R=b._writableState;(!R||R.autoDestroy&&(R.finished||!1===R.writable))&&b.destroy()}}function be(f){f.writable&&!f.writableEnded&&!f.destroyed&&f.end()}function y(){return void 0===c&&(c={}),c}k.prototype.destroy=A.destroy,k.prototype._undestroy=A.undestroy,k.prototype._destroy=function(f,b){b(f)},k.prototype[w.captureRejectionSymbol]=function(f){this.destroy(f)},k.prototype.push=function(f,b){return he(this,f,b,!1)},k.prototype.unshift=function(f,b){return he(this,f,b,!0)},k.prototype.isPaused=function(){let f=this._readableState;return!0===f[ee]||!1===f.flowing},k.prototype.setEncoding=function(f){let b=new ue(f);this._readableState.decoder=b,this._readableState.encoding=this._readableState.decoder.encoding;let R=this._readableState.buffer,L="";for(let H of R)L+=b.write(H);return R.clear(),""!==L&&R.push(L),this._readableState.length=L.length,this},k.prototype.read=function(f){C("read",f),void 0===f?f=NaN:u(f)||(f=r(f,10));let b=this._readableState,R=f;if(f>b.highWaterMark&&(b.highWaterMark=function ge(f){if(f>1073741824)throw new P("size","<= 1GiB",f);return f--,f|=f>>>1,f|=f>>>2,f|=f>>>4,f|=f>>>8,f|=f>>>16,++f}(f)),0!==f&&(b.emittedReadable=!1),0===f&&b.needReadable&&((0!==b.highWaterMark?b.length>=b.highWaterMark:b.length>0)||b.ended))return C("read: emitReadable",b.length,b.ended),0===b.length&&b.ended?me(this):X(this),null;if(0===(f=q(f,b))&&b.ended)return 0===b.length&&me(this),null;let H,L=b.needReadable;if(C("need readable",L),(0===b.length||b.length-f<b.highWaterMark)&&(L=!0,C("length less than watermark",L)),b.ended||b.reading||b.destroyed||b.errored||!b.constructed)L=!1,C("reading, ended or constructing",L);else if(L){C("do read"),b.reading=!0,b.sync=!0,0===b.length&&(b.needReadable=!0);try{this._read(b.highWaterMark)}catch(we){te(this,we)}b.sync=!1,b.reading||(f=q(R,b))}return H=f>0?fe(f,b):null,null===H?(b.needReadable=b.length<=b.highWaterMark,f=0):(b.length-=f,b.multiAwaitDrain?b.awaitDrainWriters.clear():b.awaitDrainWriters=null),0===b.length&&(b.ended||(b.needReadable=!0),R!==f&&b.ended&&me(this)),null!==H&&!b.errorEmitted&&!b.closeEmitted&&(b.dataEmitted=!0,this.emit("data",H)),H},k.prototype._read=function(f){throw new Z("_read()")},k.prototype.pipe=function(f,b){let R=this,L=this._readableState;1===L.pipes.length&&(L.multiAwaitDrain||(L.multiAwaitDrain=!0,L.awaitDrainWriters=new d(L.awaitDrainWriters?[L.awaitDrainWriters]:[]))),L.pipes.push(f),C("pipe count=%d opts=%j",L.pipes.length,b);let H=b&&!1===b.end||f===t.stdout||f===t.stderr?Zt:_e;function _e(){C("onend"),f.end()}L.endEmitted?t.nextTick(H):R.once("end",H),f.on("unpipe",function we(Nt,yt){C("onunpipe"),Nt===R&&yt&&!1===yt.hasUnpiped&&(yt.hasUnpiped=!0,function Ie(){C("cleanup"),f.removeListener("close",gn),f.removeListener("finish",yn),Se&&f.removeListener("drain",Se),f.removeListener("error",pn),f.removeListener("unpipe",we),R.removeListener("end",_e),R.removeListener("end",Zt),R.removeListener("data",qs),Ee=!0,Se&&L.awaitDrainWriters&&(!f._writableState||f._writableState.needDrain)&&Se()}())});let Se,Ee=!1;function $s(){Ee||(1===L.pipes.length&&L.pipes[0]===f?(C("false write response, pause",0),L.awaitDrainWriters=f,L.multiAwaitDrain=!1):L.pipes.length>1&&L.pipes.includes(f)&&(C("false write response, pause",L.awaitDrainWriters.size),L.awaitDrainWriters.add(f)),R.pause()),Se||(Se=function V(f,b){return function(){let R=f._readableState;R.awaitDrainWriters===b?(C("pipeOnDrain",1),R.awaitDrainWriters=null):R.multiAwaitDrain&&(C("pipeOnDrain",R.awaitDrainWriters.size),R.awaitDrainWriters.delete(b)),(!R.awaitDrainWriters||0===R.awaitDrainWriters.size)&&f.listenerCount("data")&&f.resume()}}(R,f),f.on("drain",Se))}function qs(Nt){C("ondata");let yt=f.write(Nt);C("dest.write",yt),!1===yt&&$s()}function pn(Nt){if(C("onerror",Nt),Zt(),f.removeListener("error",pn),0===f.listenerCount("error")){let yt=f._writableState||f._readableState;yt&&!yt.errorEmitted?te(f,Nt):f.emit("error",Nt)}}function gn(){f.removeListener("finish",yn),Zt()}function yn(){C("onfinish"),f.removeListener("close",gn),Zt()}function Zt(){C("unpipe"),R.unpipe(f)}return R.on("data",qs),v(f,"error",pn),f.once("close",gn),f.once("finish",yn),f.emit("pipe",R),!0===f.writableNeedDrain?L.flowing&&$s():L.flowing||(C("pipe resume"),R.resume()),f},k.prototype.unpipe=function(f){let b=this._readableState;if(0===b.pipes.length)return this;if(!f){let H=b.pipes;b.pipes=[],this.pause();for(let we=0;we<H.length;we++)H[we].emit("unpipe",this,{hasUnpiped:!1});return this}let L=l(b.pipes,f);return-1===L||(b.pipes.splice(L,1),0===b.pipes.length&&this.pause(),f.emit("unpipe",this,{hasUnpiped:!1})),this},k.prototype.addListener=k.prototype.on=function(f,b){let R=g.prototype.on.call(this,f,b),L=this._readableState;return"data"===f?(L.readableListening=this.listenerCount("readable")>0,!1!==L.flowing&&this.resume()):"readable"===f&&!L.endEmitted&&!L.readableListening&&(L.readableListening=L.needReadable=!0,L.flowing=!1,L.emittedReadable=!1,C("on readable",L.length,L.reading),L.length?X(this):L.reading||t.nextTick(T,this)),R},k.prototype.off=k.prototype.removeListener=function(f,b){let R=g.prototype.removeListener.call(this,f,b);return"readable"===f&&t.nextTick(z,this),R},k.prototype.removeAllListeners=function(f){let b=g.prototype.removeAllListeners.apply(this,arguments);return("readable"===f||void 0===f)&&t.nextTick(z,this),b},k.prototype.resume=function(){let f=this._readableState;return f.flowing||(C("resume"),f.flowing=!f.readableListening,function B(f,b){b.resumeScheduled||(b.resumeScheduled=!0,t.nextTick(N,f,b))}(this,f)),f[ee]=!1,this},k.prototype.pause=function(){return C("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(C("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ee]=!0,this},k.prototype.wrap=function(f){let b=!1;f.on("data",L=>{!this.push(L)&&f.pause&&(b=!0,f.pause())}),f.on("end",()=>{this.push(null)}),f.on("error",L=>{te(this,L)}),f.on("close",()=>{this.destroy()}),f.on("destroy",()=>{this.destroy()}),this._read=()=>{b&&f.resume&&(b=!1,f.resume())};let R=n(f);for(let L=1;L<R.length;L++){let H=R[L];void 0===this[H]&&"function"==typeof f[H]&&(this[H]=f[H].bind(f))}return this},k.prototype[p]=function(){return $(this)},k.prototype.iterator=function(f){return void 0!==f&&Y(f,"options"),$(this,f)},s(k.prototype,{readable:{__proto__:null,get(){let f=this._readableState;return!(!f||!1===f.readable||f.destroyed||f.errorEmitted||f.endEmitted)},set(f){this._readableState&&(this._readableState.readable=!!f)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(f){this._readableState&&(this._readableState.flowing=f)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(f){this._readableState&&(this._readableState.destroyed=f)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),s(de.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[ee]},set(f){this[ee]=!!f}}}),k._fromList=fe,k.from=function(f,b){return D(k,f,b)},k.fromWeb=function(f,b){return y().newStreamReadableFromReadableStream(f,b)},k.toWeb=function(f,b){return y().newReadableStreamFromStreamReadable(f,b)},k.wrap=function(f,b){var R,L;return new k({objectMode:null===(R=null!==(L=f.readableObjectMode)&&void 0!==L?L:f.objectMode)||void 0===R||R,...b,destroy(H,we){A.destroyer(f,H),we(H)}}).wrap(f)}}),wo=ce((e,o)=>{ie(),oe(),ne();var t=At(),{ArrayPrototypeSlice:l,Error:u,FunctionPrototypeSymbolHasInstance:i,ObjectDefineProperty:r,ObjectDefineProperties:s,ObjectSetPrototypeOf:n,StringPrototypeToLowerCase:a,Symbol:h,SymbolHasInstance:d}=Me();o.exports=ue,ue.WritableState=Y;var{EventEmitter:p}=(Wt(),Re(Tt)),m=Ni().Stream,{Buffer:w}=(Ne(),Re(je)),g=Ft(),{addAbortSignal:v}=sr(),{getHighWaterMark:_,getDefaultHighWaterMark:S}=Di(),{ERR_INVALID_ARG_TYPE:E,ERR_METHOD_NOT_IMPLEMENTED:C,ERR_MULTIPLE_CALLBACK:U,ERR_STREAM_CANNOT_PIPE:A,ERR_STREAM_DESTROYED:O,ERR_STREAM_ALREADY_FINISHED:M,ERR_STREAM_NULL_VALUES:W,ERR_STREAM_WRITE_AFTER_END:G,ERR_UNKNOWN_ENCODING:Z}=$e().codes,{errorOrDestroy:P}=g;function F(){}n(ue.prototype,m.prototype),n(ue,m);var J=h("kOnFinished");function Y(T,B,N){"boolean"!=typeof N&&(N=B instanceof ut()),this.objectMode=!(!T||!T.objectMode),N&&(this.objectMode=this.objectMode||!(!T||!T.writableObjectMode)),this.highWaterMark=T?_(this,T,"writableHighWaterMark",N):S(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(T&&!1===T.decodeStrings),this.defaultEncoding=T&&T.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=k.bind(void 0,B),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ee(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!T||!1!==T.emitClose,this.autoDestroy=!T||!1!==T.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[J]=[]}function ee(T){T.buffered=[],T.bufferedIndex=0,T.allBuffers=!0,T.allNoop=!0}function ue(T){let B=this instanceof ut();if(!B&&!i(ue,this))return new ue(T);this._writableState=new Y(T,this,B),T&&("function"==typeof T.write&&(this._write=T.write),"function"==typeof T.writev&&(this._writev=T.writev),"function"==typeof T.destroy&&(this._destroy=T.destroy),"function"==typeof T.final&&(this._final=T.final),"function"==typeof T.construct&&(this._construct=T.construct),T.signal&&v(T.signal,this)),m.call(this,T),g.construct(this,()=>{let N=this._writableState;N.writing||ge(this,N),le(this,N)})}function D(T,B,N,K){let I,$=T._writableState;if("function"==typeof N)K=N,N=$.defaultEncoding;else{if(N){if("buffer"!==N&&!w.isEncoding(N))throw new Z(N)}else N=$.defaultEncoding;"function"!=typeof K&&(K=F)}if(null===B)throw new W;if(!$.objectMode)if("string"==typeof B)!1!==$.decodeStrings&&(B=w.from(B,N),N="buffer");else if(B instanceof w)N="buffer";else{if(!m._isUint8Array(B))throw new E("chunk",["string","Buffer","Uint8Array"],B);B=m._uint8ArrayToBuffer(B),N="buffer"}return $.ending?I=new G:$.destroyed&&(I=new O("write")),I?(t.nextTick(K,I),P(T,I,!0),I):($.pendingcb++,function se(T,B,N,K,$){let I=B.objectMode?1:N.length;B.length+=I;let Q=B.length<B.highWaterMark;return Q||(B.needDrain=!0),B.writing||B.corked||B.errored||!B.constructed?(B.buffered.push({chunk:N,encoding:K,callback:$}),B.allBuffers&&"buffer"!==K&&(B.allBuffers=!1),B.allNoop&&$!==F&&(B.allNoop=!1)):(B.writelen=I,B.writecb=$,B.writing=!0,B.sync=!0,T._write(N,K,B.onwrite),B.sync=!1),Q&&!B.errored&&!B.destroyed}(T,$,B,N,K))}function te(T,B,N,K,$,I,Q){B.writelen=K,B.writecb=Q,B.writing=!0,B.sync=!0,B.destroyed?B.onwrite(new O("write")):N?T._writev($,B.onwrite):T._write($,I,B.onwrite),B.sync=!1}function de(T,B,N,K){--B.pendingcb,K(N),ve(B),P(T,N)}function k(T,B){let N=T._writableState,K=N.sync,$=N.writecb;"function"==typeof $?(N.writing=!1,N.writecb=null,N.length-=N.writelen,N.writelen=0,B?(N.errored||(N.errored=B),T._readableState&&!T._readableState.errored&&(T._readableState.errored=B),K?t.nextTick(de,T,N,B,$):de(T,N,B,$)):(N.buffered.length>N.bufferedIndex&&ge(T,N),K?null!==N.afterWriteTickInfo&&N.afterWriteTickInfo.cb===$?N.afterWriteTickInfo.count++:(N.afterWriteTickInfo={count:1,cb:$,stream:T,state:N},t.nextTick(he,N.afterWriteTickInfo)):pe(T,N,1,$))):P(T,new U)}function he({stream:T,state:B,count:N,cb:K}){return B.afterWriteTickInfo=null,pe(T,B,N,K)}function pe(T,B,N,K){for(!B.ending&&!T.destroyed&&0===B.length&&B.needDrain&&(B.needDrain=!1,T.emit("drain"));N-- >0;)B.pendingcb--,K();B.destroyed&&ve(B),le(T,B)}function ve(T){if(T.writing)return;for(let $=T.bufferedIndex;$<T.buffered.length;++$){var B;let{chunk:I,callback:Q}=T.buffered[$];T.length-=T.objectMode?1:I.length,Q(null!==(B=T.errored)&&void 0!==B?B:new O("write"))}let N=T[J].splice(0);for(let $=0;$<N.length;$++){var K;N[$](null!==(K=T.errored)&&void 0!==K?K:new O("end"))}ee(T)}function ge(T,B){if(B.corked||B.bufferProcessing||B.destroyed||!B.constructed)return;let{buffered:N,bufferedIndex:K,objectMode:$}=B,I=N.length-K;if(!I)return;let Q=K;if(B.bufferProcessing=!0,I>1&&T._writev){B.pendingcb-=I-1;let fe=B.allNoop?F:ye=>{for(let be=Q;be<N.length;++be)N[be].callback(ye)},me=B.allNoop&&0===Q?N:l(N,Q);me.allBuffers=B.allBuffers,te(T,B,!0,B.length,me,"",fe),ee(B)}else{do{let{chunk:fe,encoding:me,callback:ye}=N[Q];N[Q++]=null,te(T,B,!1,$?1:fe.length,fe,me,ye)}while(Q<N.length&&!B.writing);Q===N.length?ee(B):Q>256?(N.splice(0,Q),B.bufferedIndex=0):B.bufferedIndex=Q}B.bufferProcessing=!1}function q(T){return T.ending&&!T.destroyed&&T.constructed&&0===T.length&&!T.errored&&0===T.buffered.length&&!T.finished&&!T.writing&&!T.errorEmitted&&!T.closeEmitted}function le(T,B,N){q(B)&&(function X(T,B){!B.prefinished&&!B.finalCalled&&("function"!=typeof T._final||B.destroyed?(B.prefinished=!0,T.emit("prefinish")):(B.finalCalled=!0,function x(T,B){let N=!1;function K($){if(N)P(T,$??U());else if(N=!0,B.pendingcb--,$){let I=B[J].splice(0);for(let Q=0;Q<I.length;Q++)I[Q]($);P(T,$,B.sync)}else q(B)&&(B.prefinished=!0,T.emit("prefinish"),B.pendingcb++,t.nextTick(re,T,B))}B.sync=!0,B.pendingcb++;try{T._final(K)}catch($){K($)}B.sync=!1}(T,B)))}(T,B),0===B.pendingcb&&(N?(B.pendingcb++,t.nextTick((K,$)=>{q($)?re(K,$):$.pendingcb--},T,B)):q(B)&&(B.pendingcb++,re(T,B))))}function re(T,B){B.pendingcb--,B.finished=!0;let N=B[J].splice(0);for(let K=0;K<N.length;K++)N[K]();if(T.emit("finish"),B.autoDestroy){let K=T._readableState;(!K||K.autoDestroy&&(K.endEmitted||!1===K.readable))&&T.destroy()}}Y.prototype.getBuffer=function(){return l(this.buffered,this.bufferedIndex)},r(Y.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),r(ue,d,{__proto__:null,value:function(T){return!!i(this,T)||this===ue&&T&&T._writableState instanceof Y}}),ue.prototype.pipe=function(){P(this,new A)},ue.prototype.write=function(T,B,N){return!0===D(this,T,B,N)},ue.prototype.cork=function(){this._writableState.corked++},ue.prototype.uncork=function(){let T=this._writableState;T.corked&&(T.corked--,T.writing||ge(this,T))},ue.prototype.setDefaultEncoding=function(T){if("string"==typeof T&&(T=a(T)),!w.isEncoding(T))throw new Z(T);return this._writableState.defaultEncoding=T,this},ue.prototype._write=function(T,B,N){if(!this._writev)throw new C("_write()");this._writev([{chunk:T,encoding:B}],N)},ue.prototype._writev=null,ue.prototype.end=function(T,B,N){let $,K=this._writableState;if("function"==typeof T?(N=T,T=null,B=null):"function"==typeof B&&(N=B,B=null),null!=T){let I=D(this,T,B);I instanceof u&&($=I)}return K.corked&&(K.corked=1,this.uncork()),$||(K.errored||K.ending?K.finished?$=new M("end"):K.destroyed&&($=new O("end")):(K.ending=!0,le(this,K,!0),K.ended=!0)),"function"==typeof N&&($||K.finished?t.nextTick(N,$):K[J].push(N)),this},s(ue.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(T){this._writableState&&(this._writableState.destroyed=T)}},writable:{__proto__:null,get(){let T=this._writableState;return!(!T||!1===T.writable||T.destroyed||T.errored||T.ending||T.ended)},set(T){this._writableState&&(this._writableState.writable=!!T)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){let T=this._writableState;return!!T&&!T.destroyed&&!T.ending&&T.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});var V,j=g.destroy;function z(){return void 0===V&&(V={}),V}ue.prototype.destroy=function(T,B){let N=this._writableState;return!N.destroyed&&(N.bufferedIndex<N.buffered.length||N[J].length)&&t.nextTick(ve,N),j.call(this,T,B),this},ue.prototype._undestroy=g.undestroy,ue.prototype._destroy=function(T,B){B(T)},ue.prototype[p.captureRejectionSymbol]=function(T){this.destroy(T)},ue.fromWeb=function(T,B){return z().newStreamWritableFromWritableStream(T,B)},ue.toWeb=function(T){return z().newWritableStreamFromStreamWritable(T)}}),xa=ce((e,o)=>{ie(),oe(),ne();var t=At(),l=(Ne(),Re(je)),{isReadable:u,isWritable:i,isIterable:r,isNodeStream:s,isReadableNodeStream:n,isWritableNodeStream:a,isDuplexNodeStream:h}=st(),d=wt(),{AbortError:p,codes:{ERR_INVALID_ARG_TYPE:m,ERR_INVALID_RETURN_VALUE:w}}=$e(),{destroyer:g}=Ft(),v=ut(),_=cr(),{createDeferredPromise:S}=ot(),E=bo(),C=globalThis.Blob||l.Blob,U=typeof C<"u"?function(Z){return Z instanceof C}:function(Z){return!1},A=globalThis.AbortController||Mi().AbortController,{FunctionPrototypeCall:O}=Me(),M=class extends v{constructor(Z){super(Z),!1===Z?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===Z?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};function G(Z){let ee,ue,D,se,te,P=Z.readable&&"function"!=typeof Z.readable.read?_.wrap(Z.readable):Z.readable,F=Z.writable,J=!!u(P),Y=!!i(F);function de(k){let he=se;se=null,he?he(k):k&&te.destroy(k)}return te=new M({readableObjectMode:!(null==P||!P.readableObjectMode),writableObjectMode:!(null==F||!F.writableObjectMode),readable:J,writable:Y}),Y&&(d(F,k=>{Y=!1,k&&g(P,k),de(k)}),te._write=function(k,he,pe){F.write(k,he)?pe():ee=pe},te._final=function(k){F.end(),ue=k},F.on("drain",function(){if(ee){let k=ee;ee=null,k()}}),F.on("finish",function(){if(ue){let k=ue;ue=null,k()}})),J&&(d(P,k=>{J=!1,k&&g(P,k),de(k)}),P.on("readable",function(){if(D){let k=D;D=null,k()}}),P.on("end",function(){te.push(null)}),te._read=function(){for(;;){let k=P.read();if(null===k)return void(D=te._read);if(!te.push(k))return}}),te._destroy=function(k,he){!k&&null!==se&&(k=new p),D=null,ee=null,ue=null,null===se?he(k):(se=he,g(F,k),g(P,k))},te}o.exports=function Z(P,F){if(h(P))return P;if(n(P))return G({readable:P});if(a(P))return G({writable:P});if(s(P))return G({writable:!1,readable:!1});if("function"==typeof P){let{value:Y,write:ee,final:ue,destroy:D}=function W(Z){let{promise:P,resolve:F}=S(),J=new A,Y=J.signal;return{value:Z((0,mt.A)(function*(){for(;;){let ee=P;P=null;let{chunk:ue,done:D,cb:se}=yield(0,We.A)(ee);if(t.nextTick(se),D)return;if(Y.aborted)throw new p(void 0,{cause:Y.reason});({promise:P,resolve:F}=S()),yield ue}})(),{signal:Y}),write(ee,ue,D){let se=F;F=null,se({chunk:ee,done:!1,cb:D})},final(ee){let ue=F;F=null,ue({done:!0,cb:ee})},destroy(ee,ue){J.abort(),ue(ee)}}}(P);if(r(Y))return E(M,Y,{objectMode:!0,write:ee,final:ue,destroy:D});let se=Y?.then;if("function"==typeof se){let te,de=O(se,Y,k=>{if(null!=k)throw new w("nully","body",k)},k=>{g(te,k)});return te=new M({objectMode:!0,readable:!1,write:ee,final(k){ue((0,Pe.A)(function*(){try{yield de,t.nextTick(k,null)}catch(he){t.nextTick(k,he)}}))},destroy:D})}throw new w("Iterable, AsyncIterable or AsyncFunction",F,Y)}if(U(P))return Z(P.arrayBuffer());if(r(P))return E(M,P,{objectMode:!0,writable:!1});if("object"==typeof P?.writable||"object"==typeof P?.readable)return G({readable:null!=P&&P.readable?n(P?.readable)?P?.readable:Z(P.readable):void 0,writable:null!=P&&P.writable?a(P?.writable)?P?.writable:Z(P.writable):void 0});let J=P?.then;if("function"==typeof J){let Y;return O(J,P,ee=>{null!=ee&&Y.push(ee),Y.push(null)},ee=>{g(Y,ee)}),Y=new M({objectMode:!0,writable:!1,read(){}})}throw new m(F,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],P)}}),ut=ce((e,o)=>{ie(),oe(),ne();var{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:l,ObjectKeys:u,ObjectSetPrototypeOf:i}=Me();o.exports=n;var a,d,r=cr(),s=wo();i(n.prototype,r.prototype),i(n,r);{let p=u(s.prototype);for(let m=0;m<p.length;m++){let w=p[m];n.prototype[w]||(n.prototype[w]=s.prototype[w])}}function n(p){if(!(this instanceof n))return new n(p);r.call(this,p),s.call(this,p),p?(this.allowHalfOpen=!1!==p.allowHalfOpen,!1===p.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===p.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}function h(){return void 0===a&&(a={}),a}t(n.prototype,{writable:{__proto__:null,...l(s.prototype,"writable")},writableHighWaterMark:{__proto__:null,...l(s.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...l(s.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...l(s.prototype,"writableBuffer")},writableLength:{__proto__:null,...l(s.prototype,"writableLength")},writableFinished:{__proto__:null,...l(s.prototype,"writableFinished")},writableCorked:{__proto__:null,...l(s.prototype,"writableCorked")},writableEnded:{__proto__:null,...l(s.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...l(s.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(p){this._readableState&&this._writableState&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}}),n.fromWeb=function(p,m){return h().newStreamDuplexFromReadableWritablePair(p,m)},n.toWeb=function(p){return h().newReadableWritablePairFromDuplex(p)},n.from=function(p){return d||(d=xa()),d(p,"body")}}),vo=ce((e,o)=>{ie(),oe(),ne();var{ObjectSetPrototypeOf:t,Symbol:l}=Me();o.exports=n;var{ERR_METHOD_NOT_IMPLEMENTED:u}=$e().codes,i=ut(),{getHighWaterMark:r}=Di();t(n.prototype,i.prototype),t(n,i);var s=l("kCallback");function n(d){if(!(this instanceof n))return new n(d);let p=d?r(this,d,"readableHighWaterMark",!0):null;0===p&&(d={...d,highWaterMark:null,readableHighWaterMark:p,writableHighWaterMark:d.writableHighWaterMark||0}),i.call(this,d),this._readableState.sync=!1,this[s]=null,d&&("function"==typeof d.transform&&(this._transform=d.transform),"function"==typeof d.flush&&(this._flush=d.flush)),this.on("prefinish",h)}function a(d){"function"!=typeof this._flush||this.destroyed?(this.push(null),d&&d()):this._flush((p,m)=>{p?d?d(p):this.destroy(p):(null!=m&&this.push(m),this.push(null),d&&d())})}function h(){this._final!==a&&a.call(this)}n.prototype._final=a,n.prototype._transform=function(d,p,m){throw new u("_transform()")},n.prototype._write=function(d,p,m){let w=this._readableState,g=this._writableState,v=w.length;this._transform(d,p,(_,S)=>{_?m(_):(null!=S&&this.push(S),g.ended||v===w.length||w.length<w.highWaterMark?m():this[s]=m)})},n.prototype._read=function(){if(this[s]){let d=this[s];this[s]=null,d()}}}),_o=ce((e,o)=>{ie(),oe(),ne();var{ObjectSetPrototypeOf:t}=Me();o.exports=u;var l=vo();function u(i){if(!(this instanceof u))return new u(i);l.call(this,i)}t(u.prototype,l.prototype),t(u,l),u.prototype._transform=function(i,r,s){s(null,i)}}),Yi=ce((e,o)=>{ie(),oe(),ne();var P,F,t=At(),{ArrayIsArray:l,Promise:u,SymbolAsyncIterator:i}=Me(),r=wt(),{once:s}=ot(),n=Ft(),a=ut(),{aggregateTwoErrors:h,codes:{ERR_INVALID_ARG_TYPE:d,ERR_INVALID_RETURN_VALUE:p,ERR_MISSING_ARGS:m,ERR_STREAM_DESTROYED:w,ERR_STREAM_PREMATURE_CLOSE:g},AbortError:v}=$e(),{validateFunction:_,validateAbortSignal:S}=nr(),{isIterable:E,isReadable:C,isReadableNodeStream:U,isNodeStream:A,isTransformStream:O,isWebStream:M,isReadableStream:W,isReadableEnded:G}=st(),Z=globalThis.AbortController||Mi().AbortController;function J(ge,q,x){let X=!1;return ge.on("close",()=>{X=!0}),{destroy:re=>{X||(X=!0,n.destroyer(ge,re||new w("pipe")))},cleanup:r(ge,{readable:q,writable:x},re=>{X=!re})}}function ee(ge){if(E(ge))return ge;if(U(ge))return function ue(ge){return D.apply(this,arguments)}(ge);throw new d("val",["Readable","Iterable","AsyncIterable"],ge)}function D(){return(D=(0,mt.A)(function*(ge){F||(F=cr()),yield*(0,wn.A)((0,Fe.A)(F.prototype[i].call(ge)),We.A)})).apply(this,arguments)}function se(ge,q,x,X){return te.apply(this,arguments)}function te(){return(te=(0,Pe.A)(function*(ge,q,x,{end:X}){let le,re=null,j=I=>{if(I&&(le=I),re){let Q=re;re=null,Q()}},V=()=>new u((I,Q)=>{le?Q(le):re=()=>{le?Q(le):I()}});q.on("drain",j);let z=r(q,{readable:!1},j);try{q.writableNeedDrain&&(yield V());var N,T=!1,B=!1;try{for(var $,K=(0,Fe.A)(ge);T=!($=yield K.next()).done;T=!1)q.write($.value)||(yield V())}catch(I){B=!0,N=I}finally{try{T&&null!=K.return&&(yield K.return())}finally{if(B)throw N}}X&&q.end(),yield V(),x()}catch(I){x(le!==I?h(le,I):I)}finally{z(),q.off("drain",j)}})).apply(this,arguments)}function de(ge,q,x,X){return k.apply(this,arguments)}function k(){return(k=(0,Pe.A)(function*(ge,q,x,{end:X}){O(q)&&(q=q.writable);let le=q.getWriter();try{var V,re=!1,j=!1;try{for(var T,z=(0,Fe.A)(ge);re=!(T=yield z.next()).done;re=!1){let B=T.value;yield le.ready,le.write(B).catch(()=>{})}}catch(B){j=!0,V=B}finally{try{re&&null!=z.return&&(yield z.return())}finally{if(j)throw V}}yield le.ready,X&&(yield le.close()),x()}catch(B){try{yield le.abort(B),x(B)}catch(N){x(N)}}})).apply(this,arguments)}function pe(ge,q,x){if(1===ge.length&&l(ge[0])&&(ge=ge[0]),ge.length<2)throw new m("streams");let X=new Z,le=X.signal,re=x?.signal,j=[];function V(){$(new v)}S(re,"options.signal"),re?.addEventListener("abort",V);let z,T,I,B=[],N=0;function K(ye){$(ye,0==--N)}function $(ye,be){if(ye&&(!z||"ERR_STREAM_PREMATURE_CLOSE"===z.code)&&(z=ye),z||be){for(;B.length;)B.shift()(z);re?.removeEventListener("abort",V),X.abort(),be&&(z||j.forEach(c=>c()),t.nextTick(q,z,T))}}for(let ye=0;ye<ge.length;ye++){let be=ge[ye],c=ye<ge.length-1,y=ye>0,f=c||!1!==x?.end,b=ye===ge.length-1;if(A(be)){let R=function(L){L&&"AbortError"!==L.name&&"ERR_STREAM_PREMATURE_CLOSE"!==L.code&&K(L)};if(f){let{destroy:L,cleanup:H}=J(be,c,y);B.push(L),C(be)&&b&&j.push(H)}be.on("error",R),C(be)&&b&&j.push(()=>{be.removeListener("error",R)})}if(0===ye)if("function"==typeof be){if(I=be({signal:le}),!E(I))throw new p("Iterable, AsyncIterable or Stream","source",I)}else I=E(be)||U(be)||O(be)?be:a.from(be);else if("function"==typeof be){var fe;if(I=O(I)?ee(null===(fe=I)||void 0===fe?void 0:fe.readable):ee(I),I=be(I,{signal:le}),c){if(!E(I,!0))throw new p("AsyncIterable",`transform[${ye-1}]`,I)}else{var me;P||(P=_o());let R=new P({objectMode:!0}),L=null===(me=I)||void 0===me?void 0:me.then;if("function"==typeof L)N++,L.call(I,_e=>{T=_e,null!=_e&&R.write(_e),f&&R.end(),t.nextTick(K)},_e=>{R.destroy(_e),t.nextTick(K,_e)});else if(E(I,!0))N++,se(I,R,K,{end:f});else{if(!W(I)&&!O(I))throw new p("AsyncIterable or Promise","destination",I);N++,se(I.readable||I,R,K,{end:f})}I=R;let{destroy:H,cleanup:we}=J(I,!1,!0);B.push(H),b&&j.push(we)}}else if(A(be)){if(U(I)){N+=2;let R=ve(I,be,K,{end:f});C(be)&&b&&j.push(R)}else if(O(I)||W(I))N++,se(I.readable||I,be,K,{end:f});else{if(!E(I))throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],I);N++,se(I,be,K,{end:f})}I=be}else if(M(be)){if(U(I))N++,de(ee(I),be,K,{end:f});else if(W(I)||E(I))N++,de(I,be,K,{end:f});else{if(!O(I))throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],I);N++,de(I.readable,be,K,{end:f})}I=be}else I=a.from(be)}return(null!=le&&le.aborted||null!=re&&re.aborted)&&t.nextTick(V),I}function ve(ge,q,x,{end:X}){let le=!1;if(q.on("close",()=>{le||x(new g)}),ge.pipe(q,{end:!1}),X){let j=function(){le=!0,q.end()};G(ge)?t.nextTick(j):ge.once("end",j)}else x();return r(ge,{readable:!0,writable:!1},j=>{let V=ge._readableState;j&&"ERR_STREAM_PREMATURE_CLOSE"===j.code&&V&&V.ended&&!V.errored&&!V.errorEmitted?ge.once("end",x).once("error",x):x(j)}),r(q,{readable:!1,writable:!0},x)}o.exports={pipelineImpl:pe,pipeline:function he(...ge){return pe(ge,s(function Y(ge){return _(ge[ge.length-1],"streams[stream.length - 1]"),ge.pop()}(ge)))}}}),Eo=ce((e,o)=>{ie(),oe(),ne();var{pipeline:t}=Yi(),l=ut(),{destroyer:u}=Ft(),{isNodeStream:i,isReadable:r,isWritable:s,isWebStream:n,isTransformStream:a,isWritableStream:h,isReadableStream:d}=st(),{AbortError:p,codes:{ERR_INVALID_ARG_VALUE:m,ERR_MISSING_ARGS:w}}=$e(),g=wt();o.exports=function(...v){if(0===v.length)throw new w("streams");if(1===v.length)return l.from(v[0]);let S,E,C,U,A,_=[...v];if("function"==typeof v[0]&&(v[0]=l.from(v[0])),"function"==typeof v[v.length-1]){let P=v.length-1;v[P]=l.from(v[P])}for(let P=0;P<v.length;++P)if(i(v[P])||n(v[P])){if(P<v.length-1&&!(r(v[P])||d(v[P])||a(v[P])))throw new m(`streams[${P}]`,_[P],"must be readable");if(P>0&&!(s(v[P])||h(v[P])||a(v[P])))throw new m(`streams[${P}]`,_[P],"must be writable")}let M=v[0],W=t(v,function O(P){let F=U;U=null,F?F(P):P?A.destroy(P):!Z&&!G&&A.destroy()}),G=!!(s(M)||h(M)||a(M)),Z=!!(r(W)||d(W)||a(W));if(A=new l({writableObjectMode:!(null==M||!M.writableObjectMode),readableObjectMode:!(null==W||!W.writableObjectMode),writable:G,readable:Z}),G){if(i(M))A._write=function(F,J,Y){M.write(F,J)?Y():S=Y},A._final=function(F){M.end(),E=F},M.on("drain",function(){if(S){let F=S;S=null,F()}});else if(n(M)){let F=(a(M)?M.writable:M).getWriter();A._write=function(){var J=(0,Pe.A)(function*(Y,ee,ue){try{yield F.ready,F.write(Y).catch(()=>{}),ue()}catch(D){ue(D)}});return function(Y,ee,ue){return J.apply(this,arguments)}}(),A._final=function(){var J=(0,Pe.A)(function*(Y){try{yield F.ready,F.close().catch(()=>{}),E=Y}catch(ee){Y(ee)}});return function(Y){return J.apply(this,arguments)}}()}let P=a(W)?W.readable:W;g(P,()=>{if(E){let F=E;E=null,F()}})}if(Z)if(i(W))W.on("readable",function(){if(C){let P=C;C=null,P()}}),W.on("end",function(){A.push(null)}),A._read=function(){for(;;){let P=W.read();if(null===P)return void(C=A._read);if(!A.push(P))return}};else if(n(W)){let P=(a(W)?W.readable:W).getReader();A._read=(0,Pe.A)(function*(){for(;;)try{let{value:F,done:J}=yield P.read();if(!A.push(F))return;if(J)return void A.push(null)}catch{return}})}return A._destroy=function(P,F){!P&&null!==U&&(P=new p),C=null,S=null,E=null,null===U?F(P):(U=F,i(W)&&u(W,P))},A}}),Ma=ce((e,o)=>{ie(),oe(),ne();var t=globalThis.AbortController||Mi().AbortController,{codes:{ERR_INVALID_ARG_VALUE:l,ERR_INVALID_ARG_TYPE:u,ERR_MISSING_ARGS:i,ERR_OUT_OF_RANGE:r},AbortError:s}=$e(),{validateAbortSignal:n,validateInteger:a,validateObject:h}=nr(),d=Me().Symbol("kWeak"),{finished:p}=wt(),m=Eo(),{addAbortSignalNoValidate:w}=sr(),{isWritable:g,isNodeStream:v}=st(),{ArrayPrototypePush:_,MathFloor:S,Number:E,NumberIsNaN:C,Promise:U,PromiseReject:A,PromisePrototypeThen:O,Symbol:M}=Me(),W=M("kEmpty"),G=M("kEof");function P(j,V){if("function"!=typeof j)throw new u("fn",["Function","AsyncFunction"],j);null!=V&&h(V,"options"),null!=V?.signal&&n(V.signal,"options.signal");let z=1;return null!=V?.concurrency&&(z=S(V.concurrency)),a(z,"concurrency",1),(0,mt.A)(function*(){var T,B;let N=new t,K=this,$=[],I=N.signal,Q={signal:I},fe=()=>N.abort();null!=V&&null!==(T=V.signal)&&void 0!==T&&T.aborted&&fe(),null==V||null===(B=V.signal)||void 0===B||B.addEventListener("abort",fe);let me,ye,be=!1;function c(){be=!0}function f(){return(f=(0,Pe.A)(function*(){try{var L,b=!1,R=!1;try{for(var we,H=(0,Fe.A)(K);b=!(we=yield H.next()).done;b=!1){let Ee=we.value;var _e;if(be)return;if(I.aborted)throw new s;try{Ee=j(Ee,Q)}catch(Ie){Ee=A(Ie)}Ee!==W&&("function"==typeof(null===(_e=Ee)||void 0===_e?void 0:_e.catch)&&Ee.catch(c),$.push(Ee),me&&(me(),me=null),!be&&$.length&&$.length>=z&&(yield new U(Ie=>{ye=Ie})))}}catch(Ee){R=!0,L=Ee}finally{try{b&&null!=H.return&&(yield H.return())}finally{if(R)throw L}}$.push(G)}catch(Ee){let Ie=A(Ee);O(Ie,void 0,c),$.push(Ie)}finally{var Se;be=!0,me&&(me(),me=null),null==V||null===(Se=V.signal)||void 0===Se||Se.removeEventListener("abort",fe)}})).apply(this,arguments)}!function y(){f.apply(this,arguments)}();try{for(;;){for(;$.length>0;){let b=yield(0,We.A)($[0]);if(b===G)return;if(I.aborted)throw new s;b!==W&&(yield b),$.shift(),ye&&(ye(),ye=null)}yield(0,We.A)(new U(b=>{me=b}))}}finally{N.abort(),be=!0,ye&&(ye(),ye=null)}}).call(this)}function J(j){return Y.apply(this,arguments)}function Y(){return(Y=(0,Pe.A)(function*(j,V=void 0){var B,z=!1,T=!1;try{for(var N=(0,Fe.A)(k.call(this,j,V));z=!(yield N.next()).done;z=!1)return!0}catch($){T=!0,B=$}finally{try{z&&null!=N.return&&(yield N.return())}finally{if(T)throw B}}return!1})).apply(this,arguments)}function ue(){return(ue=(0,Pe.A)(function*(j,V=void 0){if("function"!=typeof j)throw new u("fn",["Function","AsyncFunction"],j);return!(yield J.call(this,(0,Pe.A)(function*(...z){return!(yield j(...z))}),V))})).apply(this,arguments)}function se(){return(se=(0,Pe.A)(function*(j,V){var B,z=!1,T=!1;try{for(var K,N=(0,Fe.A)(k.call(this,j,V));z=!(K=yield N.next()).done;z=!1)return K.value}catch($){T=!0,B=$}finally{try{z&&null!=N.return&&(yield N.return())}finally{if(T)throw B}}})).apply(this,arguments)}function de(){return de=(0,Pe.A)(function*(j,V){if("function"!=typeof j)throw new u("fn",["Function","AsyncFunction"],j);function T(){return(T=(0,Pe.A)(function*(Q,fe){return yield j(Q,fe),W})).apply(this,arguments)}var K,B=!1,N=!1;try{for(var $=(0,Fe.A)(P.call(this,function z(Q,fe){return T.apply(this,arguments)},V));B=!(yield $.next()).done;B=!1);}catch(Q){N=!0,K=Q}finally{try{B&&null!=$.return&&(yield $.return())}finally{if(N)throw K}}}),de.apply(this,arguments)}function k(j,V){if("function"!=typeof j)throw new u("fn",["Function","AsyncFunction"],j);function T(){return(T=(0,Pe.A)(function*(B,N){return(yield j(B,N))?B:W})).apply(this,arguments)}return P.call(this,function z(B,N){return T.apply(this,arguments)},V)}var he=class extends i{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};function ve(){return ve=(0,Pe.A)(function*(j,V,z){var T;if("function"!=typeof j)throw new u("reducer",["Function","AsyncFunction"],j);null!=z&&h(z,"options"),null!=z?.signal&&n(z.signal,"options.signal");let B=arguments.length>1;if(null!=z&&null!==(T=z.signal)&&void 0!==T&&T.aborted){let c=new s(void 0,{cause:z.signal.reason});throw this.once("error",()=>{}),yield p(this.destroy(c)),c}let N=new t,K=N.signal;null!=z&&z.signal&&z.signal.addEventListener("abort",()=>N.abort(),{once:!0,[d]:this});let $=!1;try{var fe,I=!1,Q=!1;try{for(var ye,me=(0,Fe.A)(this);I=!(ye=yield me.next()).done;I=!1){let c=ye.value;var be;if($=!0,null!=z&&null!==(be=z.signal)&&void 0!==be&&be.aborted)throw new s;B?V=yield j(V,c,{signal:K}):(V=c,B=!0)}}catch(c){Q=!0,fe=c}finally{try{I&&null!=me.return&&(yield me.return())}finally{if(Q)throw fe}}if(!$&&!B)throw new he}finally{N.abort()}return V}),ve.apply(this,arguments)}function q(){return(q=(0,Pe.A)(function*(j){null!=j&&h(j,"options"),null!=j?.signal&&n(j.signal,"options.signal");let V=[];var B,z=!1,T=!1;try{for(var K,N=(0,Fe.A)(this);z=!(K=yield N.next()).done;z=!1){let I=K.value;var $;if(null!=j&&null!==($=j.signal)&&void 0!==$&&$.aborted)throw new s(void 0,{cause:j.signal.reason});_(V,I)}}catch(I){T=!0,B=I}finally{try{z&&null!=N.return&&(yield N.return())}finally{if(T)throw B}}return V})).apply(this,arguments)}function X(j){if(j=E(j),C(j))return 0;if(j<0)throw new r("number",">= 0",j);return j}o.exports.streamReturningOperators={asIndexedPairs:function F(j=void 0){return null!=j&&h(j,"options"),null!=j?.signal&&n(j.signal,"options.signal"),(0,mt.A)(function*(){let V=0;var B,z=!1,T=!1;try{for(var K,N=(0,Fe.A)(this);z=!(K=yield(0,We.A)(N.next())).done;z=!1){let I=K.value;var $;if(null!=j&&null!==($=j.signal)&&void 0!==$&&$.aborted)throw new s({cause:j.signal.reason});yield[V++,I]}}catch(I){T=!0,B=I}finally{try{z&&null!=N.return&&(yield(0,We.A)(N.return()))}finally{if(T)throw B}}}).call(this)},drop:function le(j,V=void 0){return null!=V&&h(V,"options"),null!=V?.signal&&n(V.signal,"options.signal"),j=X(j),(0,mt.A)(function*(){var z;if(null!=V&&null!==(z=V.signal)&&void 0!==z&&z.aborted)throw new s;var N,T=!1,B=!1;try{for(var $,K=(0,Fe.A)(this);T=!($=yield(0,We.A)(K.next())).done;T=!1){let Q=$.value;var I;if(null!=V&&null!==(I=V.signal)&&void 0!==I&&I.aborted)throw new s;j--<=0&&(yield Q)}}catch(Q){B=!0,N=Q}finally{try{T&&null!=K.return&&(yield(0,We.A)(K.return()))}finally{if(B)throw N}}}).call(this)},filter:k,flatMap:function x(j,V){let z=P.call(this,j,V);return(0,mt.A)(function*(){var N,T=!1,B=!1;try{for(var $,K=(0,Fe.A)(z);T=!($=yield(0,We.A)(K.next())).done;T=!1){let I=$.value;yield*(0,wn.A)((0,Fe.A)(I),We.A)}}catch(I){B=!0,N=I}finally{try{T&&null!=K.return&&(yield(0,We.A)(K.return()))}finally{if(B)throw N}}}).call(this)},map:P,take:function re(j,V=void 0){return null!=V&&h(V,"options"),null!=V?.signal&&n(V.signal,"options.signal"),j=X(j),(0,mt.A)(function*(){var z;if(null!=V&&null!==(z=V.signal)&&void 0!==z&&z.aborted)throw new s;var N,T=!1,B=!1;try{for(var $,K=(0,Fe.A)(this);T=!($=yield(0,We.A)(K.next())).done;T=!1){let Q=$.value;var I;if(null!=V&&null!==(I=V.signal)&&void 0!==I&&I.aborted)throw new s;if(!(j-- >0))return;yield Q}}catch(Q){B=!0,N=Q}finally{try{T&&null!=K.return&&(yield(0,We.A)(K.return()))}finally{if(B)throw N}}}).call(this)},compose:function Z(j,V){if(null!=V&&h(V,"options"),null!=V?.signal&&n(V.signal,"options.signal"),v(j)&&!g(j))throw new l("stream",j,"must be writable");let z=m(this,j);return null!=V&&V.signal&&w(V.signal,z),z}},o.exports.promiseReturningOperators={every:function ee(j){return ue.apply(this,arguments)},forEach:function te(j,V){return de.apply(this,arguments)},reduce:function pe(j,V,z){return ve.apply(this,arguments)},toArray:function ge(j){return q.apply(this,arguments)},some:J,find:function D(j,V){return se.apply(this,arguments)}}}),So=ce((e,o)=>{ie(),oe(),ne();var{ArrayPrototypePop:t,Promise:l}=Me(),{isIterable:u,isNodeStream:i,isWebStream:r}=st(),{pipelineImpl:s}=Yi(),{finished:n}=wt();Ao(),o.exports={finished:n,pipeline:function a(...h){return new l((d,p)=>{let m,w,g=h[h.length-1];if(g&&"object"==typeof g&&!i(g)&&!u(g)&&!r(g)){let v=t(h);m=v.signal,w=v.end}s(h,(v,_)=>{v?p(v):d(_)},{signal:m,end:w})})}}}),Ao=ce((e,o)=>{ie(),oe(),ne();var{Buffer:t}=(Ne(),Re(je)),{ObjectDefineProperty:l,ObjectKeys:u,ReflectApply:i}=Me(),{promisify:{custom:r}}=ot(),{streamReturningOperators:s,promiseReturningOperators:n}=Ma(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:a}}=$e(),h=Eo(),{pipeline:d}=Yi(),{destroyer:p}=Ft(),m=wt(),w=So(),g=st(),v=o.exports=Ni().Stream;v.isDisturbed=g.isDisturbed,v.isErrored=g.isErrored,v.isReadable=g.isReadable,v.Readable=cr();for(let E of u(s)){let C=function(...A){if(new.target)throw a();return v.Readable.from(i(U,this,A))},U=s[E];l(C,"name",{__proto__:null,value:U.name}),l(C,"length",{__proto__:null,value:U.length}),l(v.Readable.prototype,E,{__proto__:null,value:C,enumerable:!1,configurable:!0,writable:!0})}for(let E of u(n)){let C=function(...A){if(new.target)throw a();return i(U,this,A)},U=n[E];l(C,"name",{__proto__:null,value:U.name}),l(C,"length",{__proto__:null,value:U.length}),l(v.Readable.prototype,E,{__proto__:null,value:C,enumerable:!1,configurable:!0,writable:!0})}v.Writable=wo(),v.Duplex=ut(),v.Transform=vo(),v.PassThrough=_o(),v.pipeline=d;var{addAbortSignal:S}=sr();v.addAbortSignal=S,v.finished=m,v.destroy=p,v.compose=h,l(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>w}),l(d,r,{__proto__:null,enumerable:!0,get:()=>w.pipeline}),l(m,r,{__proto__:null,enumerable:!0,get:()=>w.finished}),v.Stream=v,v._isUint8Array=function(E){return E instanceof Uint8Array},v._uint8ArrayToBuffer=function(E){return t.from(E.buffer,E.byteOffset,E.byteLength)}}),Pt=ce((e,o)=>{ie(),oe(),ne();var t=Ao(),l=So(),u=t.Readable.destroy;o.exports=t.Readable,o.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,o.exports._isUint8Array=t._isUint8Array,o.exports.isDisturbed=t.isDisturbed,o.exports.isErrored=t.isErrored,o.exports.isReadable=t.isReadable,o.exports.Readable=t.Readable,o.exports.Writable=t.Writable,o.exports.Duplex=t.Duplex,o.exports.Transform=t.Transform,o.exports.PassThrough=t.PassThrough,o.exports.addAbortSignal=t.addAbortSignal,o.exports.finished=t.finished,o.exports.destroy=t.destroy,o.exports.destroy=u,o.exports.pipeline=t.pipeline,o.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get:()=>l}),o.exports.Stream=t.Stream,o.exports.default=o.exports}),Ua=ce((e,o)=>{ie(),oe(),ne(),o.exports="function"==typeof Object.create?function(t,l){l&&(t.super_=l,t.prototype=Object.create(l.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:function(t,l){if(l){t.super_=l;var u=function(){};u.prototype=l.prototype,t.prototype=new u,t.prototype.constructor=t}}}),La=ce((e,o)=>{ie(),oe(),ne();var{Buffer:t}=(Ne(),Re(je)),l=Symbol.for("BufferList");function u(i){if(!(this instanceof u))return new u(i);u._init.call(this,i)}u._init=function(i){Object.defineProperty(this,l,{value:!0}),this._bufs=[],this.length=0,i&&this.append(i)},u.prototype._new=function(i){return new u(i)},u.prototype._offset=function(i){if(0===i)return[0,0];let r=0;for(let s=0;s<this._bufs.length;s++){let n=r+this._bufs[s].length;if(i<n||s===this._bufs.length-1)return[s,i-r];r=n}},u.prototype._reverseOffset=function(i){let r=i[0],s=i[1];for(let n=0;n<r;n++)s+=this._bufs[n].length;return s},u.prototype.get=function(i){if(i>this.length||i<0)return;let r=this._offset(i);return this._bufs[r[0]][r[1]]},u.prototype.slice=function(i,r){return"number"==typeof i&&i<0&&(i+=this.length),"number"==typeof r&&r<0&&(r+=this.length),this.copy(null,0,i,r)},u.prototype.copy=function(i,r,s,n){if(("number"!=typeof s||s<0)&&(s=0),("number"!=typeof n||n>this.length)&&(n=this.length),s>=this.length||n<=0)return i||t.alloc(0);let a=!!i,h=this._offset(s),d=n-s,p=d,m=a&&r||0,w=h[1];if(0===s&&n===this.length){if(!a)return 1===this._bufs.length?this._bufs[0]:t.concat(this._bufs,this.length);for(let g=0;g<this._bufs.length;g++)this._bufs[g].copy(i,m),m+=this._bufs[g].length;return i}if(p<=this._bufs[h[0]].length-w)return a?this._bufs[h[0]].copy(i,r,w,w+p):this._bufs[h[0]].slice(w,w+p);a||(i=t.allocUnsafe(d));for(let g=h[0];g<this._bufs.length;g++){let v=this._bufs[g].length-w;if(!(p>v)){this._bufs[g].copy(i,m,w,w+p),m+=v;break}this._bufs[g].copy(i,m,w),m+=v,p-=v,w&&(w=0)}return i.length>m?i.slice(0,m):i},u.prototype.shallowSlice=function(i,r){if((i=i||0)<0&&(i+=this.length),(r="number"!=typeof r?this.length:r)<0&&(r+=this.length),i===r)return this._new();let s=this._offset(i),n=this._offset(r),a=this._bufs.slice(s[0],n[0]+1);return 0===n[1]?a.pop():a[a.length-1]=a[a.length-1].slice(0,n[1]),0!==s[1]&&(a[0]=a[0].slice(s[1])),this._new(a)},u.prototype.toString=function(i,r,s){return this.slice(r,s).toString(i)},u.prototype.consume=function(i){if(i=Math.trunc(i),Number.isNaN(i)||i<=0)return this;for(;this._bufs.length;){if(!(i>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(i),this.length-=i;break}i-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},u.prototype.duplicate=function(){let i=this._new();for(let r=0;r<this._bufs.length;r++)i.append(this._bufs[r]);return i},u.prototype.append=function(i){if(null==i)return this;if(i.buffer)this._appendBuffer(t.from(i.buffer,i.byteOffset,i.byteLength));else if(Array.isArray(i))for(let r=0;r<i.length;r++)this.append(i[r]);else if(this._isBufferList(i))for(let r=0;r<i._bufs.length;r++)this.append(i._bufs[r]);else"number"==typeof i&&(i=i.toString()),this._appendBuffer(t.from(i));return this},u.prototype._appendBuffer=function(i){this._bufs.push(i),this.length+=i.length},u.prototype.indexOf=function(i,r,s){if(void 0===s&&"string"==typeof r&&(s=r,r=void 0),"function"==typeof i||Array.isArray(i))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof i?i=t.from([i]):"string"==typeof i?i=t.from(i,s):this._isBufferList(i)?i=i.slice():Array.isArray(i.buffer)?i=t.from(i.buffer,i.byteOffset,i.byteLength):t.isBuffer(i)||(i=t.from(i)),r=Number(r||0),isNaN(r)&&(r=0),r<0&&(r=this.length+r),r<0&&(r=0),0===i.length)return r>this.length?this.length:r;let n=this._offset(r),a=n[0],h=n[1];for(;a<this._bufs.length;a++){let d=this._bufs[a];for(;h<d.length;)if(d.length-h>=i.length){let p=d.indexOf(i,h);if(-1!==p)return this._reverseOffset([a,p]);h=d.length-i.length+1}else{let p=this._reverseOffset([a,h]);if(this._match(p,i))return p;h++}h=0}return-1},u.prototype._match=function(i,r){if(this.length-i<r.length)return!1;for(let s=0;s<r.length;s++)if(this.get(i+s)!==r[s])return!1;return!0},function(){let i={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let r in i)!function(s){u.prototype[s]=null===i[s]?function(n,a){return this.slice(n,n+a)[s](0,a)}:function(n=0){return this.slice(n,n+i[s])[s](0)}}(r)}(),u.prototype._isBufferList=function(i){return i instanceof u||u.isBufferList(i)},u.isBufferList=function(i){return null!=i&&i[l]},o.exports=u}),ja=ce((e,o)=>{ie(),oe(),ne();var t=Pt().Duplex,l=Ua(),u=La();function i(r){if(!(this instanceof i))return new i(r);if("function"==typeof r){this._callback=r;let s=function(n){this._callback&&(this._callback(n),this._callback=null)}.bind(this);this.on("pipe",function(n){n.on("error",s)}),this.on("unpipe",function(n){n.removeListener("error",s)}),r=null}u._init.call(this,r),t.call(this)}l(i,t),Object.assign(i.prototype,u.prototype),i.prototype._new=function(r){return new i(r)},i.prototype._write=function(r,s,n){this._appendBuffer(r),"function"==typeof n&&n()},i.prototype._read=function(r){if(!this.length)return this.push(null);r=Math.min(r,this.length),this.push(this.slice(0,r)),this.consume(r)},i.prototype.end=function(r){t.prototype.end.call(this,r),this._callback&&(this._callback(null,this.slice()),this._callback=null)},i.prototype._destroy=function(r,s){this._bufs.length=0,this.length=0,s(r)},i.prototype._isBufferList=function(r){return r instanceof i||r instanceof u||i.isBufferList(r)},i.isBufferList=u.isBufferList,o.exports=i,o.exports.BufferListStream=i,o.exports.BufferList=u}),Na=ce((e,o)=>{ie(),oe(),ne(),o.exports=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}}}),Io=ce((e,o)=>{ie(),oe(),ne();var t=o.exports,{Buffer:l}=(Ne(),Re(je));t.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},t.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},t.requiredHeaderFlagsErrors={};for(let i in t.requiredHeaderFlags)t.requiredHeaderFlagsErrors[i]="Invalid header flag bits, must be 0x"+t.requiredHeaderFlags[i].toString(16)+" for "+t.types[i]+" packet";t.codes={};for(let i in t.types)t.codes[t.types[i]]=i;t.CMD_SHIFT=4,t.CMD_MASK=240,t.DUP_MASK=8,t.QOS_MASK=3,t.QOS_SHIFT=1,t.RETAIN_MASK=1,t.VARBYTEINT_MASK=127,t.VARBYTEINT_FIN_MASK=128,t.VARBYTEINT_MAX=268435455,t.SESSIONPRESENT_MASK=1,t.SESSIONPRESENT_HEADER=l.from([t.SESSIONPRESENT_MASK]),t.CONNACK_HEADER=l.from([t.codes.connack<<t.CMD_SHIFT]),t.USERNAME_MASK=128,t.PASSWORD_MASK=64,t.WILL_RETAIN_MASK=32,t.WILL_QOS_MASK=24,t.WILL_QOS_SHIFT=3,t.WILL_FLAG_MASK=4,t.CLEAN_SESSION_MASK=2,t.CONNECT_HEADER=l.from([t.codes.connect<<t.CMD_SHIFT]),t.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},t.propertiesCodes={};for(let i in t.properties)t.propertiesCodes[t.properties[i]]=i;function u(i){return[0,1,2].map(r=>[0,1].map(s=>[0,1].map(n=>{let a=l.alloc(1);return a.writeUInt8(t.codes[i]<<t.CMD_SHIFT|(s?t.DUP_MASK:0)|r<<t.QOS_SHIFT|n,0,!0),a})))}t.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"},t.PUBLISH_HEADER=u("publish"),t.SUBSCRIBE_HEADER=u("subscribe"),t.SUBSCRIBE_OPTIONS_QOS_MASK=3,t.SUBSCRIBE_OPTIONS_NL_MASK=1,t.SUBSCRIBE_OPTIONS_NL_SHIFT=2,t.SUBSCRIBE_OPTIONS_RAP_MASK=1,t.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,t.SUBSCRIBE_OPTIONS_RH_MASK=3,t.SUBSCRIBE_OPTIONS_RH_SHIFT=4,t.SUBSCRIBE_OPTIONS_RH=[0,16,32],t.SUBSCRIBE_OPTIONS_NL=4,t.SUBSCRIBE_OPTIONS_RAP=8,t.SUBSCRIBE_OPTIONS_QOS=[0,1,2],t.UNSUBSCRIBE_HEADER=u("unsubscribe"),t.ACKS={unsuback:u("unsuback"),puback:u("puback"),pubcomp:u("pubcomp"),pubrel:u("pubrel"),pubrec:u("pubrec")},t.SUBACK_HEADER=l.from([t.codes.suback<<t.CMD_SHIFT]),t.VERSION3=l.from([3]),t.VERSION4=l.from([4]),t.VERSION5=l.from([5]),t.VERSION131=l.from([131]),t.VERSION132=l.from([132]),t.QOS=[0,1,2].map(i=>l.from([i])),t.EMPTY={pingreq:l.from([t.codes.pingreq<<4,0]),pingresp:l.from([t.codes.pingresp<<4,0]),disconnect:l.from([t.codes.disconnect<<4,0])},t.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},t.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},t.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},t.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},t.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},t.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),Da=ce((e,o)=>{ie(),oe(),ne();var t=1e3,l=60*t,u=60*l,i=24*u,r=7*i;function d(p,m,w,g){var v=m>=1.5*w;return Math.round(p/w)+" "+g+(v?"s":"")}o.exports=function(p,m){m=m||{};var w=typeof p;if("string"===w&&p.length>0)return function n(p){if(!((p=String(p)).length>100)){var m=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(m){var w=parseFloat(m[1]);switch((m[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*w;case"weeks":case"week":case"w":return w*r;case"days":case"day":case"d":return w*i;case"hours":case"hour":case"hrs":case"hr":case"h":return w*u;case"minutes":case"minute":case"mins":case"min":case"m":return w*l;case"seconds":case"second":case"secs":case"sec":case"s":return w*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return w;default:return}}}}(p);if("number"===w&&isFinite(p))return m.long?function h(p){var m=Math.abs(p);return m>=i?d(p,m,i,"day"):m>=u?d(p,m,u,"hour"):m>=l?d(p,m,l,"minute"):m>=t?d(p,m,t,"second"):p+" ms"}(p):function a(p){var m=Math.abs(p);return m>=i?Math.round(p/i)+"d":m>=u?Math.round(p/u)+"h":m>=l?Math.round(p/l)+"m":m>=t?Math.round(p/t)+"s":p+"ms"}(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))}}),Fa=ce((e,o)=>{ie(),oe(),ne(),o.exports=function t(l){function i(m){let w,v,_,g=null;function S(...E){if(!S.enabled)return;let C=S,U=Number(new Date);C.diff=U-(w||U),C.prev=w,C.curr=U,w=U,E[0]=i.coerce(E[0]),"string"!=typeof E[0]&&E.unshift("%O");let O=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(M,W)=>{if("%%"===M)return"%";O++;let G=i.formatters[W];return"function"==typeof G&&(M=G.call(C,E[O]),E.splice(O,1),O--),M}),i.formatArgs.call(C,E),(C.log||i.log).apply(C,E)}return S.namespace=m,S.useColors=i.useColors(),S.color=i.selectColor(m),S.extend=r,S.destroy=i.destroy,Object.defineProperty(S,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==g?g:(v!==i.namespaces&&(v=i.namespaces,_=i.enabled(m)),_),set:E=>{g=E}}),"function"==typeof i.init&&i.init(S),S}function r(m,w){let g=i(this.namespace+(typeof w>"u"?":":w)+m);return g.log=this.log,g}function h(m){return m.toString().substring(2,m.toString().length-2).replace(/\.\*\?$/,"*")}return i.debug=i,i.default=i,i.coerce=function d(m){return m instanceof Error?m.stack||m.message:m},i.disable=function n(){let m=[...i.names.map(h),...i.skips.map(h).map(w=>"-"+w)].join(",");return i.enable(""),m},i.enable=function s(m){i.save(m),i.namespaces=m,i.names=[],i.skips=[];let w,g=("string"==typeof m?m:"").split(/[\s,]+/),v=g.length;for(w=0;w<v;w++)g[w]&&("-"===(m=g[w].replace(/\*/g,".*?"))[0]?i.skips.push(new RegExp("^"+m.slice(1)+"$")):i.names.push(new RegExp("^"+m+"$")))},i.enabled=function a(m){if("*"===m[m.length-1])return!0;let w,g;for(w=0,g=i.skips.length;w<g;w++)if(i.skips[w].test(m))return!1;for(w=0,g=i.names.length;w<g;w++)if(i.names[w].test(m))return!0;return!1},i.humanize=Da(),i.destroy=function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(l).forEach(m=>{i[m]=l[m]}),i.names=[],i.skips=[],i.formatters={},i.selectColor=function u(m){let w=0;for(let g=0;g<m.length;g++)w=(w<<5)-w+m.charCodeAt(g),w|=0;return i.colors[Math.abs(w)%i.colors.length]},i.enable(i.load()),i}}),ht=ce((e,o)=>{ie(),oe(),ne(),e.formatArgs=function l(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+o.exports.humanize(this.diff),!this.useColors)return;let a="color: "+this.color;n.splice(1,0,a,"color: inherit");let h=0,d=0;n[0].replace(/%[a-zA-Z%]/g,p=>{"%%"!==p&&(h++,"%c"===p&&(d=h))}),n.splice(d,0,a)},e.save=function u(n){try{n?e.storage.setItem("debug",n):e.storage.removeItem("debug")}catch{}},e.load=function i(){let n;try{n=e.storage.getItem("debug")}catch{}return!n&&typeof Ae<"u"&&"env"in Ae&&(n=Ae.env.DEBUG),n},e.useColors=function t(){return!(!(typeof window<"u"&&window.process)||"renderer"!==window.process.type&&!window.process.__nwjs)||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage=function r(){try{return localStorage}catch{}}(),e.destroy=(()=>{let n=!1;return()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),o.exports=Fa()(e);var{formatters:s}=o.exports;s.j=function(n){try{return JSON.stringify(n)}catch(a){return"[UnexpectedJSONParseError]: "+a.message}}}),Wa=ce((e,o)=>{ie(),oe(),ne();var t=ja(),{EventEmitter:l}=(Wt(),Re(Tt)),u=Na(),i=Io(),r=ht()("mqtt-packet:parser");o.exports=class mn extends l{constructor(){super(),this.parser=this.constructor.parser}static parser(a){return this instanceof mn?(this.settings=a||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):(new mn).parser(a)}_resetState(){r("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new u,this.error=null,this._list=t(),this._stateCounter=0}parse(a){for(this.error&&this._resetState(),this._list.append(a),r("parse: current state: %s",this._states[this._stateCounter]);(-1!==this.packet.length||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,r("parse: state complete. _stateCounter is now: %d",this._stateCounter),r("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return r("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let a=this._list.readUInt8(0),h=a>>i.CMD_SHIFT;this.packet.cmd=i.types[h];let p=i.requiredHeaderFlags[h];return null!=p&&(15&a)!==p?this._emitError(new Error(i.requiredHeaderFlagsErrors[h])):(this.packet.retain=!!(a&i.RETAIN_MASK),this.packet.qos=a>>i.QOS_SHIFT&i.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=!!(a&i.DUP_MASK),r("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let a=this._parseVarByteNum(!0);return a&&(this.packet.length=a.value,this._list.consume(a.bytes)),r("_parseLength %d",a.value),!!a}_parsePayload(){r("_parsePayload: payload %O",this._list);let a=!1;if(0===this.packet.length||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}a=!0}return r("_parsePayload complete result: %s",a),a}_parseConnect(){r("_parseConnect");let a,h,d,p,m={},w=this.packet,g=this._parseString();if(null===g)return this._emitError(new Error("Cannot parse protocolId"));if("MQTT"!==g&&"MQIsdp"!==g)return this._emitError(new Error("Invalid protocolId"));if(w.protocolId=g,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(w.protocolVersion=this._list.readUInt8(this._pos),w.protocolVersion>=128&&(w.bridgeMode=!0,w.protocolVersion=w.protocolVersion-128),3!==w.protocolVersion&&4!==w.protocolVersion&&5!==w.protocolVersion)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(1&this._list.readUInt8(this._pos))return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));m.username=this._list.readUInt8(this._pos)&i.USERNAME_MASK,m.password=this._list.readUInt8(this._pos)&i.PASSWORD_MASK,m.will=this._list.readUInt8(this._pos)&i.WILL_FLAG_MASK;let v=!!(this._list.readUInt8(this._pos)&i.WILL_RETAIN_MASK),_=(this._list.readUInt8(this._pos)&i.WILL_QOS_MASK)>>i.WILL_QOS_SHIFT;if(m.will)w.will={},w.will.retain=v,w.will.qos=_;else{if(v)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(_)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(w.clean=!!(this._list.readUInt8(this._pos)&i.CLEAN_SESSION_MASK),this._pos++,w.keepalive=this._parseNum(),-1===w.keepalive)return this._emitError(new Error("Packet too short"));if(5===w.protocolVersion){let E=this._parseProperties();Object.getOwnPropertyNames(E).length&&(w.properties=E)}let S=this._parseString();if(null===S)return this._emitError(new Error("Packet too short"));if(w.clientId=S,r("_parseConnect: packet.clientId: %s",w.clientId),m.will){if(5===w.protocolVersion){let E=this._parseProperties();Object.getOwnPropertyNames(E).length&&(w.will.properties=E)}if(a=this._parseString(),null===a)return this._emitError(new Error("Cannot parse will topic"));if(w.will.topic=a,r("_parseConnect: packet.will.topic: %s",w.will.topic),h=this._parseBuffer(),null===h)return this._emitError(new Error("Cannot parse will payload"));w.will.payload=h,r("_parseConnect: packet.will.paylaod: %s",w.will.payload)}if(m.username){if(p=this._parseString(),null===p)return this._emitError(new Error("Cannot parse username"));w.username=p,r("_parseConnect: packet.username: %s",w.username)}if(m.password){if(d=this._parseBuffer(),null===d)return this._emitError(new Error("Cannot parse password"));w.password=d}return this.settings=w,r("_parseConnect: complete"),w}_parseConnack(){r("_parseConnack");let a=this.packet;if(this._list.length<1)return null;let h=this._list.readUInt8(this._pos++);if(h>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(a.sessionPresent=!!(h&i.SESSIONPRESENT_MASK),5===this.settings.protocolVersion)a.reasonCode=this._list.length>=2?this._list.readUInt8(this._pos++):0;else{if(this._list.length<2)return null;a.returnCode=this._list.readUInt8(this._pos++)}if(-1===a.returnCode||-1===a.reasonCode)return this._emitError(new Error("Cannot parse return code"));if(5===this.settings.protocolVersion){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(a.properties=d)}r("_parseConnack: complete")}_parsePublish(){r("_parsePublish");let a=this.packet;if(a.topic=this._parseString(),null===a.topic)return this._emitError(new Error("Cannot parse topic"));if(!(a.qos>0)||this._parseMessageId()){if(5===this.settings.protocolVersion){let h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(a.properties=h)}a.payload=this._list.slice(this._pos,a.length),r("_parsePublish: payload from buffer list: %o",a.payload)}}_parseSubscribe(){r("_parseSubscribe");let h,d,p,m,w,g,v,a=this.packet;if(a.subscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){let _=this._parseProperties();Object.getOwnPropertyNames(_).length&&(a.properties=_)}if(a.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<a.length;){if(h=this._parseString(),null===h)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=a.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(d=this._parseByte(),5===this.settings.protocolVersion){if(192&d)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(252&d)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(p=d&i.SUBSCRIBE_OPTIONS_QOS_MASK,p>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(g=!!(d>>i.SUBSCRIBE_OPTIONS_NL_SHIFT&i.SUBSCRIBE_OPTIONS_NL_MASK),w=!!(d>>i.SUBSCRIBE_OPTIONS_RAP_SHIFT&i.SUBSCRIBE_OPTIONS_RAP_MASK),m=d>>i.SUBSCRIBE_OPTIONS_RH_SHIFT&i.SUBSCRIBE_OPTIONS_RH_MASK,m>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));v={topic:h,qos:p},5===this.settings.protocolVersion?(v.nl=g,v.rap=w,v.rh=m):this.settings.bridgeMode&&(v.rh=0,v.rap=!0,v.nl=!0),r("_parseSubscribe: push subscription `%s` to subscription",v),a.subscriptions.push(v)}}}_parseSuback(){r("_parseSuback");let a=this.packet;if(this.packet.granted=[],this._parseMessageId()){if(5===this.settings.protocolVersion){let h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(a.properties=h)}if(a.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let h=this._list.readUInt8(this._pos++);if(5===this.settings.protocolVersion){if(!i.MQTT5_SUBACK_CODES[h])return this._emitError(new Error("Invalid suback code"))}else if(h>2&&128!==h)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(h)}}}_parseUnsubscribe(){r("_parseUnsubscribe");let a=this.packet;if(a.unsubscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){let h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(a.properties=h)}if(a.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<a.length;){let h=this._parseString();if(null===h)return this._emitError(new Error("Cannot parse topic"));r("_parseUnsubscribe: push topic `%s` to unsubscriptions",h),a.unsubscriptions.push(h)}}}_parseUnsuback(){r("_parseUnsuback");let a=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((3===this.settings.protocolVersion||4===this.settings.protocolVersion)&&2!==a.length)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(a.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(5===this.settings.protocolVersion){let h=this._parseProperties();for(Object.getOwnPropertyNames(h).length&&(a.properties=h),a.granted=[];this._pos<this.packet.length;){let d=this._list.readUInt8(this._pos++);if(!i.MQTT5_UNSUBACK_CODES[d])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(d)}}}_parseConfirmation(){r("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let a=this.packet;if(this._parseMessageId(),5===this.settings.protocolVersion){if(a.length>2){switch(a.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!i.MQTT5_PUBACK_PUBREC_CODES[a.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!i.MQTT5_PUBREL_PUBCOMP_CODES[a.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"))}r("_parseConfirmation: packet.reasonCode `%d`",a.reasonCode)}else a.reasonCode=0;if(a.length>3){let h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(a.properties=h)}}return!0}_parseDisconnect(){let a=this.packet;if(r("_parseDisconnect"),5===this.settings.protocolVersion){this._list.length>0?(a.reasonCode=this._parseByte(),i.MQTT5_DISCONNECT_CODES[a.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):a.reasonCode=0;let h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(a.properties=h)}return r("_parseDisconnect result: true"),!0}_parseAuth(){r("_parseAuth");let a=this.packet;if(5!==this.settings.protocolVersion)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(a.reasonCode=this._parseByte(),!i.MQTT5_AUTH_CODES[a.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let h=this._parseProperties();return Object.getOwnPropertyNames(h).length&&(a.properties=h),r("_parseAuth: result: true"),!0}_parseMessageId(){let a=this.packet;return a.messageId=this._parseNum(),null===a.messageId?(this._emitError(new Error("Cannot parse messageId")),!1):(r("_parseMessageId: packet.messageId %d",a.messageId),!0)}_parseString(a){let h=this._parseNum(),d=h+this._pos;if(-1===h||d>this._list.length||d>this.packet.length)return null;let p=this._list.toString("utf8",this._pos,d);return this._pos+=h,r("_parseString: result: %s",p),p}_parseStringPair(){return r("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let a=this._parseNum(),h=a+this._pos;if(-1===a||h>this._list.length||h>this.packet.length)return null;let d=this._list.slice(this._pos,h);return this._pos+=a,r("_parseBuffer: result: %o",d),d}_parseNum(){if(this._list.length-this._pos<2)return-1;let a=this._list.readUInt16BE(this._pos);return this._pos+=2,r("_parseNum: result: %s",a),a}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let a=this._list.readUInt32BE(this._pos);return this._pos+=4,r("_parse4ByteNum: result: %s",a),a}_parseVarByteNum(a){r("_parseVarByteNum");let g,d=0,p=1,m=0,w=!1,v=this._pos?this._pos:0;for(;d<4&&v+d<this._list.length;){if(g=this._list.readUInt8(v+d++),m+=p*(g&i.VARBYTEINT_MASK),p*=128,!(g&i.VARBYTEINT_FIN_MASK)){w=!0;break}if(this._list.length<=d)break}return!w&&4===d&&this._list.length>=d&&this._emitError(new Error("Invalid variable byte integer")),v&&(this._pos+=d),w=!!w&&(a?{bytes:d,value:m}:m),r("_parseVarByteNum: result: %o",w),w}_parseByte(){let a;return this._pos<this._list.length&&(a=this._list.readUInt8(this._pos),this._pos++),r("_parseByte: result: %o",a),a}_parseByType(a){switch(r("_parseByType: type: %s",a),a){case"byte":return 0!==this._parseByte();case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){r("_parseProperties");let a=this._parseVarByteNum(),h=this._pos+a,d={};for(;this._pos<h;){let p=this._parseByte();if(!p)return this._emitError(new Error("Cannot parse property code type")),!1;let m=i.propertiesCodes[p];if(!m)return this._emitError(new Error("Unknown property")),!1;if("userProperties"!==m)d[m]?(Array.isArray(d[m])||(d[m]=[d[m]]),d[m].push(this._parseByType(i.propertiesTypes[m]))):d[m]=this._parseByType(i.propertiesTypes[m]);else{d[m]||(d[m]=Object.create(null));let w=this._parseByType(i.propertiesTypes[m]);d[m][w.name]?(Array.isArray(d[m][w.name])||(d[m][w.name]=[d[m][w.name]]),d[m][w.name].push(w.value)):d[m][w.name]=w.value}}return d}_newPacket(){return r("_newPacket"),this.packet&&(this._list.consume(this.packet.length),r("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),r("_newPacket: new packet"),this.packet=new u,this._pos=0,!0}_emitError(a){r("_emitError",a),this.error=a,this.emit("error",a)}}}),$a=ce((e,o)=>{ie(),oe(),ne();var{Buffer:t}=(Ne(),Re(je)),u={},i=t.isBuffer(t.from([1,2]).subarray(0,1));function r(h){let d=t.allocUnsafe(2);return d.writeUInt8(h>>8,0),d.writeUInt8(255&h,1),d}o.exports={cache:u,generateCache:function s(){for(let h=0;h<65536;h++)u[h]=r(h)},generateNumber:r,genBufVariableByteInt:function n(h){let d=0,p=0,m=t.allocUnsafe(4);do{d=h%128|0,(h=h/128|0)>0&&(d|=128),m.writeUInt8(d,p++)}while(h>0&&p<4);return h>0&&(p=0),i?m.subarray(0,p):m.slice(0,p)},generate4ByteBuffer:function a(h){let d=t.allocUnsafe(4);return d.writeUInt32BE(h,0),d}}}),qa=ce((e,o)=>{ie(),oe(),ne(),o.exports=typeof Ae>"u"||!Ae.version||0===Ae.version.indexOf("v0.")||0===Ae.version.indexOf("v1.")&&0!==Ae.version.indexOf("v1.8.")?{nextTick:function t(l,u,i,r){if("function"!=typeof l)throw new TypeError('"callback" argument must be a function');var n,a,s=arguments.length;switch(s){case 0:case 1:return Ae.nextTick(l);case 2:return Ae.nextTick(function(){l.call(null,u)});case 3:return Ae.nextTick(function(){l.call(null,u,i)});case 4:return Ae.nextTick(function(){l.call(null,u,i,r)});default:for(n=new Array(s-1),a=0;a<n.length;)n[a++]=arguments[a];return Ae.nextTick(function(){l.apply(null,n)})}}}:Ae}),To=ce((e,o)=>{ie(),oe(),ne();var t=Io(),{Buffer:l}=(Ne(),Re(je)),u=l.allocUnsafe(0),i=l.from([0]),r=$a(),s=qa().nextTick,n=ht()("mqtt-packet:writeToStream"),a=r.cache,h=r.generateNumber,d=r.generateCache,p=r.genBufVariableByteInt,m=r.generate4ByteBuffer,w=ue,g=!0;function v(q,x,X){switch(n("generate called"),x.cork&&(x.cork(),s(_,x)),g&&(g=!1,d()),n("generate: packet.cmd: %s",q.cmd),q.cmd){case"connect":return function S(q,x){let le=q||{},re=le.protocolId||"MQTT",j=le.protocolVersion||4,V=le.will,z=le.clean,T=le.keepalive||0,B=le.clientId||"",N=le.username,K=le.password,$=le.properties;void 0===z&&(z=!0);let Q,fe,I=0;if(!re||"string"!=typeof re&&!l.isBuffer(re))return x.destroy(new Error("Invalid protocolId")),!1;if(I+=re.length+2,3!==j&&4!==j&&5!==j)return x.destroy(new Error("Invalid protocol version")),!1;if(I+=1,("string"==typeof B||l.isBuffer(B))&&(B||j>=4)&&(B||z))I+=l.byteLength(B)+2;else{if(j<4)return x.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(1*z==0)return x.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if("number"!=typeof T||T<0||T>65535||T%1!=0)return x.destroy(new Error("Invalid keepalive")),!1;if(I+=2,I+=1,5===j){if(Q=de(x,$),!Q)return!1;I+=Q.length}if(V){if("object"!=typeof V)return x.destroy(new Error("Invalid will")),!1;if(!V.topic||"string"!=typeof V.topic)return x.destroy(new Error("Invalid will topic")),!1;if(I+=l.byteLength(V.topic)+2,I+=2,V.payload){if(!(V.payload.length>=0))return x.destroy(new Error("Invalid will payload")),!1;I+="string"==typeof V.payload?l.byteLength(V.payload):V.payload.length}if(fe={},5===j){if(fe=de(x,V.properties),!fe)return!1;I+=fe.length}}let me=!1;if(null!=N){if(!ge(N))return x.destroy(new Error("Invalid username")),!1;me=!0,I+=l.byteLength(N)+2}if(null!=K){if(!me)return x.destroy(new Error("Username is required to use password")),!1;if(!ge(K))return x.destroy(new Error("Invalid password")),!1;I+=ve(K)+2}x.write(t.CONNECT_HEADER),J(x,I),te(x,re),le.bridgeMode&&(j+=128),x.write(131===j?t.VERSION131:132===j?t.VERSION132:4===j?t.VERSION4:5===j?t.VERSION5:t.VERSION3);let ye=0;return ye|=null!=N?t.USERNAME_MASK:0,ye|=null!=K?t.PASSWORD_MASK:0,ye|=V&&V.retain?t.WILL_RETAIN_MASK:0,ye|=V&&V.qos?V.qos<<t.WILL_QOS_SHIFT:0,ye|=V?t.WILL_FLAG_MASK:0,ye|=z?t.CLEAN_SESSION_MASK:0,x.write(l.from([ye])),w(x,T),5===j&&Q.write(),te(x,B),V&&(5===j&&fe.write(),Y(x,V.topic),te(x,V.payload)),null!=N&&te(x,N),null!=K&&te(x,K),!0}(q,x);case"connack":return function E(q,x,X){let le=X?X.protocolVersion:4,re=q||{},j=5===le?re.reasonCode:re.returnCode,V=re.properties,z=2;if("number"!=typeof j)return x.destroy(new Error("Invalid return code")),!1;let T=null;if(5===le){if(T=de(x,V),!T)return!1;z+=T.length}return x.write(t.CONNACK_HEADER),J(x,z),x.write(re.sessionPresent?t.SESSIONPRESENT_HEADER:i),x.write(l.from([j])),T?.write(),!0}(q,x,X);case"publish":return function C(q,x,X){n("publish: packet: %o",q);let le=X?X.protocolVersion:4,re=q||{},j=re.qos||0,V=re.retain?t.RETAIN_MASK:0,z=re.topic,T=re.payload||u,B=re.messageId,N=re.properties,K=0;if("string"==typeof z)K+=l.byteLength(z)+2;else{if(!l.isBuffer(z))return x.destroy(new Error("Invalid topic")),!1;K+=z.length+2}if(l.isBuffer(T)?K+=T.length:K+=l.byteLength(T),j&&"number"!=typeof B)return x.destroy(new Error("Invalid messageId")),!1;j&&(K+=2);let $=null;if(5===le){if($=de(x,N),!$)return!1;K+=$.length}return x.write(t.PUBLISH_HEADER[j][re.dup?1:0][V?1:0]),J(x,K),w(x,ve(z)),x.write(z),j>0&&w(x,B),$?.write(),n("publish: payload: %o",T),x.write(T)}(q,x,X);case"puback":case"pubrec":case"pubrel":case"pubcomp":return function U(q,x,X){let le=X?X.protocolVersion:4,re=q||{},j=re.cmd||"puback",V=re.messageId,z=re.dup&&"pubrel"===j?t.DUP_MASK:0,T=0,B=re.reasonCode,N=re.properties,K=5===le?3:2;if("pubrel"===j&&(T=1),"number"!=typeof V)return x.destroy(new Error("Invalid messageId")),!1;let $=null;if(5===le&&"object"==typeof N){if($=k(x,N,X,K),!$)return!1;K+=$.length}return x.write(t.ACKS[j][T][z][0]),3===K&&(K+=0!==B?1:-1),J(x,K),w(x,V),5===le&&2!==K&&x.write(l.from([B])),null!==$?$.write():4===K&&x.write(l.from([0])),!0}(q,x,X);case"subscribe":return function A(q,x,X){n("subscribe: packet: ");let le=X?X.protocolVersion:4,re=q||{},j=re.dup?t.DUP_MASK:0,V=re.messageId,z=re.subscriptions,T=re.properties,B=0;if("number"!=typeof V)return x.destroy(new Error("Invalid messageId")),!1;B+=2;let N=null;if(5===le){if(N=de(x,T),!N)return!1;B+=N.length}if("object"!=typeof z||!z.length)return x.destroy(new Error("Invalid subscriptions")),!1;for(let $=0;$<z.length;$+=1){let I=z[$].topic,Q=z[$].qos;if("string"!=typeof I)return x.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if("number"!=typeof Q)return x.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(5===le){if("boolean"!=typeof(z[$].nl||!1))return x.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if("boolean"!=typeof(z[$].rap||!1))return x.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let fe=z[$].rh||0;if("number"!=typeof fe||fe>2)return x.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}B+=l.byteLength(I)+2+1}n("subscribe: writing to stream: %o",t.SUBSCRIBE_HEADER),x.write(t.SUBSCRIBE_HEADER[1][j?1:0][0]),J(x,B),w(x,V),null!==N&&N.write();let K=!0;for(let $ of z){let be,Q=$.qos,fe=+$.nl,me=+$.rap,ye=$.rh;Y(x,$.topic),be=t.SUBSCRIBE_OPTIONS_QOS[Q],5===le&&(be|=fe?t.SUBSCRIBE_OPTIONS_NL:0,be|=me?t.SUBSCRIBE_OPTIONS_RAP:0,be|=ye?t.SUBSCRIBE_OPTIONS_RH[ye]:0),K=x.write(l.from([be]))}return K}(q,x,X);case"suback":return function O(q,x,X){let le=X?X.protocolVersion:4,re=q||{},j=re.messageId,V=re.granted,z=re.properties,T=0;if("number"!=typeof j)return x.destroy(new Error("Invalid messageId")),!1;if(T+=2,"object"!=typeof V||!V.length)return x.destroy(new Error("Invalid qos vector")),!1;for(let N=0;N<V.length;N+=1){if("number"!=typeof V[N])return x.destroy(new Error("Invalid qos vector")),!1;T+=1}let B=null;if(5===le){if(B=k(x,z,X,T),!B)return!1;T+=B.length}return x.write(t.SUBACK_HEADER),J(x,T),w(x,j),null!==B&&B.write(),x.write(l.from(V))}(q,x,X);case"unsubscribe":return function M(q,x,X){let le=X?X.protocolVersion:4,re=q||{},j=re.messageId,V=re.dup?t.DUP_MASK:0,z=re.unsubscriptions,T=re.properties,B=0;if("number"!=typeof j)return x.destroy(new Error("Invalid messageId")),!1;if(B+=2,"object"!=typeof z||!z.length)return x.destroy(new Error("Invalid unsubscriptions")),!1;for(let $=0;$<z.length;$+=1){if("string"!=typeof z[$])return x.destroy(new Error("Invalid unsubscriptions")),!1;B+=l.byteLength(z[$])+2}let N=null;if(5===le){if(N=de(x,T),!N)return!1;B+=N.length}x.write(t.UNSUBSCRIBE_HEADER[1][V?1:0][0]),J(x,B),w(x,j),null!==N&&N.write();let K=!0;for(let $=0;$<z.length;$++)K=Y(x,z[$]);return K}(q,x,X);case"unsuback":return function W(q,x,X){let le=X?X.protocolVersion:4,re=q||{},j=re.messageId,V=re.dup?t.DUP_MASK:0,z=re.granted,T=re.properties,B=re.cmd,K=2;if("number"!=typeof j)return x.destroy(new Error("Invalid messageId")),!1;if(5===le){if("object"!=typeof z||!z.length)return x.destroy(new Error("Invalid qos vector")),!1;for(let I=0;I<z.length;I+=1){if("number"!=typeof z[I])return x.destroy(new Error("Invalid qos vector")),!1;K+=1}}let $=null;if(5===le){if($=k(x,T,X,K),!$)return!1;K+=$.length}return x.write(t.ACKS[B][0][V][0]),J(x,K),w(x,j),null!==$&&$.write(),5===le&&x.write(l.from(z)),!0}(q,x,X);case"pingreq":case"pingresp":return function G(q,x){return x.write(t.EMPTY[q.cmd])}(q,x);case"disconnect":return function Z(q,x,X){let le=X?X.protocolVersion:4,re=q||{},j=re.reasonCode,z=5===le?1:0,T=null;if(5===le){if(T=k(x,re.properties,X,z),!T)return!1;z+=T.length}return x.write(l.from([t.codes.disconnect<<4])),J(x,z),5===le&&x.write(l.from([j])),null!==T&&T.write(),!0}(q,x,X);case"auth":return function P(q,x,X){let le=X?X.protocolVersion:4,re=q||{},j=re.reasonCode,V=re.properties,z=5===le?1:0;5!==le&&x.destroy(new Error("Invalid mqtt version for auth packet"));let T=k(x,V,X,z);return!!T&&(z+=T.length,x.write(l.from([t.codes.auth<<4])),J(x,z),x.write(l.from([j])),null!==T&&T.write(),!0)}(q,x,X);default:return x.destroy(new Error("Unknown command")),!1}}function _(q){q.uncork()}Object.defineProperty(v,"cacheNumbers",{get:()=>w===ue,set(q){q?((!a||0===Object.keys(a).length)&&(g=!0),w=ue):(g=!1,w=D)}});var F={};function J(q,x){if(x>t.VARBYTEINT_MAX)return q.destroy(new Error(`Invalid variable byte integer: ${x}`)),!1;let X=F[x];return X||(X=p(x),x<16384&&(F[x]=X)),n("writeVarByteInt: writing to stream: %o",X),q.write(X)}function Y(q,x){let X=l.byteLength(x);return w(q,X),n("writeString: %s",x),q.write(x,"utf8")}function ee(q,x,X){Y(q,x),Y(q,X)}function ue(q,x){return n("writeNumberCached: number: %d",x),n("writeNumberCached: %o",a[x]),q.write(a[x])}function D(q,x){let X=h(x);return n("writeNumberGenerated: %o",X),q.write(X)}function te(q,x){"string"==typeof x?Y(q,x):x?(w(q,x.length),q.write(x)):w(q,0)}function de(q,x){if("object"!=typeof x||null!=x.length)return{length:1,write(){pe(q,{},0)}};let X=0;function le(re,j){let z=0;switch(t.propertiesTypes[re]){case"byte":if("boolean"!=typeof j)return q.destroy(new Error(`Invalid ${re}: ${j}`)),!1;z+=2;break;case"int8":if("number"!=typeof j||j<0||j>255)return q.destroy(new Error(`Invalid ${re}: ${j}`)),!1;z+=2;break;case"binary":if(j&&null===j)return q.destroy(new Error(`Invalid ${re}: ${j}`)),!1;z+=1+l.byteLength(j)+2;break;case"int16":if("number"!=typeof j||j<0||j>65535)return q.destroy(new Error(`Invalid ${re}: ${j}`)),!1;z+=3;break;case"int32":if("number"!=typeof j||j<0||j>4294967295)return q.destroy(new Error(`Invalid ${re}: ${j}`)),!1;z+=5;break;case"var":if("number"!=typeof j||j<0||j>268435455)return q.destroy(new Error(`Invalid ${re}: ${j}`)),!1;z+=1+l.byteLength(p(j));break;case"string":if("string"!=typeof j)return q.destroy(new Error(`Invalid ${re}: ${j}`)),!1;z+=3+l.byteLength(j.toString());break;case"pair":if("object"!=typeof j)return q.destroy(new Error(`Invalid ${re}: ${j}`)),!1;z+=Object.getOwnPropertyNames(j).reduce((T,B)=>{let N=j[B];return Array.isArray(N)?T+=N.reduce((K,$)=>K+(3+l.byteLength(B.toString())+2+l.byteLength($.toString())),0):T+=3+l.byteLength(B.toString())+2+l.byteLength(j[B].toString()),T},0);break;default:return q.destroy(new Error(`Invalid property ${re}: ${j}`)),!1}return z}if(x)for(let re in x){let j=0,V=0,z=x[re];if(Array.isArray(z))for(let T=0;T<z.length;T++){if(V=le(re,z[T]),!V)return!1;j+=V}else{if(V=le(re,z),!V)return!1;j=V}if(!j)return!1;X+=j}return{length:l.byteLength(p(X))+X,write(){pe(q,x,X)}}}function k(q,x,X,le){let re=["reasonString","userProperties"],j=X&&X.properties&&X.properties.maximumPacketSize?X.properties.maximumPacketSize:0,V=de(q,x);if(j)for(;le+V.length>j;){let z=re.shift();if(!z||!x[z])return!1;delete x[z],V=de(q,x)}return V}function he(q,x,X){switch(t.propertiesTypes[x]){case"byte":q.write(l.from([t.properties[x]])),q.write(l.from([+X]));break;case"int8":q.write(l.from([t.properties[x]])),q.write(l.from([X]));break;case"binary":q.write(l.from([t.properties[x]])),te(q,X);break;case"int16":q.write(l.from([t.properties[x]])),w(q,X);break;case"int32":q.write(l.from([t.properties[x]])),function se(q,x){let X=m(x);n("write4ByteNumber: %o",X),q.write(X)}(q,X);break;case"var":q.write(l.from([t.properties[x]])),J(q,X);break;case"string":q.write(l.from([t.properties[x]])),Y(q,X);break;case"pair":Object.getOwnPropertyNames(X).forEach(le=>{let re=X[le];Array.isArray(re)?re.forEach(j=>{q.write(l.from([t.properties[x]])),ee(q,le.toString(),j.toString())}):(q.write(l.from([t.properties[x]])),ee(q,le.toString(),re.toString()))});break;default:return q.destroy(new Error(`Invalid property ${x} value: ${X}`)),!1}}function pe(q,x,X){J(q,X);for(let le in x)if(Object.prototype.hasOwnProperty.call(x,le)&&null!==x[le]){let re=x[le];if(Array.isArray(re))for(let j=0;j<re.length;j++)he(q,le,re[j]);else he(q,le,re)}}function ve(q){return q?q instanceof l?q.length:l.byteLength(q):0}function ge(q){return"string"==typeof q||q instanceof l}o.exports=v}),Ha=ce((e,o)=>{ie(),oe(),ne();var t=To(),{EventEmitter:l}=(Wt(),Re(Tt)),{Buffer:u}=(Ne(),Re(je)),r=class extends l{constructor(){super(),this._array=new Array(20),this._i=0}write(s){return this._array[this._i++]=s,!0}concat(){let d,s=0,n=new Array(this._array.length),a=this._array,h=0;for(d=0;d<a.length&&void 0!==a[d];d++)n[d]="string"!=typeof a[d]?a[d].length:u.byteLength(a[d]),s+=n[d];let p=u.allocUnsafe(s);for(d=0;d<a.length&&void 0!==a[d];d++)"string"!=typeof a[d]?(a[d].copy(p,h),h+=n[d]):(p.write(a[d],h),h+=n[d]);return p}destroy(s){s&&this.emit("error",s)}};o.exports=function i(s,n){let a=new r;return t(s,a,n),a.concat()}}),Va=ce(e=>{ie(),oe(),ne(),e.parser=Wa().parser,e.generate=Ha(),e.writeToStream=To()}),ko=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(){this.nextId=Math.max(1,Math.floor(65535*Math.random()))}allocate(){let t=this.nextId++;return 65536===this.nextId&&(this.nextId=1),t}getLastAllocated(){return 1===this.nextId?65535:this.nextId-1}register(t){return!0}deallocate(t){}clear(){}}}),za=ce((e,o)=>{function t(i){return i instanceof ir?ir.from(i):new i.constructor(i.buffer.slice(),i.byteOffset,i.length)}ie(),oe(),ne(),o.exports=function l(i){return(i=i||{}).circles?function u(i){var r=[],s=[];return i.proto?function h(d){if("object"!=typeof d||null===d)return d;if(d instanceof Date)return new Date(d);if(Array.isArray(d))return n(d,h);if(d instanceof Map)return new Map(n(Array.from(d),h));if(d instanceof Set)return new Set(n(Array.from(d),h));var p={};for(var m in r.push(d),s.push(p),d){var w=d[m];if("object"!=typeof w||null===w)p[m]=w;else if(w instanceof Date)p[m]=new Date(w);else if(w instanceof Map)p[m]=new Map(n(Array.from(w),h));else if(w instanceof Set)p[m]=new Set(n(Array.from(w),h));else if(ArrayBuffer.isView(w))p[m]=t(w);else{var g=r.indexOf(w);p[m]=-1!==g?s[g]:h(w)}}return r.pop(),s.pop(),p}:function a(d){if("object"!=typeof d||null===d)return d;if(d instanceof Date)return new Date(d);if(Array.isArray(d))return n(d,a);if(d instanceof Map)return new Map(n(Array.from(d),a));if(d instanceof Set)return new Set(n(Array.from(d),a));var p={};for(var m in r.push(d),s.push(p),d)if(!1!==Object.hasOwnProperty.call(d,m)){var w=d[m];if("object"!=typeof w||null===w)p[m]=w;else if(w instanceof Date)p[m]=new Date(w);else if(w instanceof Map)p[m]=new Map(n(Array.from(w),a));else if(w instanceof Set)p[m]=new Set(n(Array.from(w),a));else if(ArrayBuffer.isView(w))p[m]=t(w);else{var g=r.indexOf(w);p[m]=-1!==g?s[g]:a(w)}}return r.pop(),s.pop(),p};function n(d,p){for(var m=Object.keys(d),w=new Array(m.length),g=0;g<m.length;g++){var v=m[g],_=d[v];if("object"!=typeof _||null===_)w[v]=_;else if(_ instanceof Date)w[v]=new Date(_);else if(ArrayBuffer.isView(_))w[v]=t(_);else{var S=r.indexOf(_);w[v]=-1!==S?s[S]:p(_)}}return w}}(i):i.proto?function n(a){if("object"!=typeof a||null===a)return a;if(a instanceof Date)return new Date(a);if(Array.isArray(a))return r(a,n);if(a instanceof Map)return new Map(r(Array.from(a),n));if(a instanceof Set)return new Set(r(Array.from(a),n));var h={};for(var d in a){var p=a[d];h[d]="object"!=typeof p||null===p?p:p instanceof Date?new Date(p):p instanceof Map?new Map(r(Array.from(p),n)):p instanceof Set?new Set(r(Array.from(p),n)):ArrayBuffer.isView(p)?t(p):n(p)}return h}:function s(a){if("object"!=typeof a||null===a)return a;if(a instanceof Date)return new Date(a);if(Array.isArray(a))return r(a,s);if(a instanceof Map)return new Map(r(Array.from(a),s));if(a instanceof Set)return new Set(r(Array.from(a),s));var h={};for(var d in a)if(!1!==Object.hasOwnProperty.call(a,d)){var p=a[d];h[d]="object"!=typeof p||null===p?p:p instanceof Date?new Date(p):p instanceof Map?new Map(r(Array.from(p),s)):p instanceof Set?new Set(r(Array.from(p),s)):ArrayBuffer.isView(p)?t(p):s(p)}return h};function r(a,h){for(var d=Object.keys(a),p=new Array(d.length),m=0;m<d.length;m++){var w=d[m],g=a[w];p[w]="object"!=typeof g||null===g?g:g instanceof Date?new Date(g):ArrayBuffer.isView(g)?t(g):h(g)}return p}}}),Ka=ce((e,o)=>{ie(),oe(),ne(),o.exports=za()()}),Ya=ce(e=>{function o(l){let u=l.split("/");for(let i=0;i<u.length;i++)if("+"!==u[i]){if("#"===u[i])return i===u.length-1;if(-1!==u[i].indexOf("+")||-1!==u[i].indexOf("#"))return!1}return!0}ie(),oe(),ne(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTopics=e.validateTopic=void 0,e.validateTopic=o,e.validateTopics=function t(l){if(0===l.length)return"empty_topic_list";for(let u=0;u<l.length;u++)if(!o(l[u]))return l[u];return null}}),Ro=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"__esModule",{value:!0});var o=Pt(),t={objectMode:!0},l={clean:!0};e.default=class{constructor(i){this.options=i||{},this.options=Object.assign(Object.assign({},l),i),this._inflights=new Map}put(i,r){return this._inflights.set(i.messageId,i),r&&r(),this}createStream(){let i=new o.Readable(t),r=[],s=!1,n=0;return this._inflights.forEach((a,h)=>{r.push(a)}),i._read=()=>{i.push(!s&&n<r.length?r[n++]:null)},i.destroy=a=>{if(!s)return s=!0,setTimeout(()=>{i.emit("close")},0),i},i}del(i,r){let s=this._inflights.get(i.messageId);return s?(this._inflights.delete(i.messageId),r(null,s)):r&&r(new Error("missing packet")),this}get(i,r){let s=this._inflights.get(i.messageId);return s?r(null,s):r&&r(new Error("missing packet")),this}close(i){this.options.clean&&(this._inflights=null),i&&i()}}}),Qa=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"__esModule",{value:!0});var o=[0,16,128,131,135,144,145,151,153];e.default=(l,u,i)=>{l.log("handlePublish: packet %o",u),i=typeof i<"u"?i:l.noop;let r=u.topic.toString(),s=u.payload,{qos:n}=u,{messageId:a}=u,{options:h}=l;if(5===l.options.protocolVersion){let d;if(u.properties&&(d=u.properties.topicAlias),typeof d<"u")if(0===r.length){if(!(d>0&&d<=65535))return l.log("handlePublish :: topic alias out of range. alias: %d",d),void l.emit("error",new Error("Received Topic Alias is out of range"));{let p=l.topicAliasRecv.getTopicByAlias(d);if(!p)return l.log("handlePublish :: unregistered topic alias. alias: %d",d),void l.emit("error",new Error("Received unregistered Topic Alias"));r=p,l.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",r,d)}}else{if(!l.topicAliasRecv.put(r,d))return l.log("handlePublish :: topic alias out of range. alias: %d",d),void l.emit("error",new Error("Received Topic Alias is out of range"));l.log("handlePublish :: registered topic: %s - alias: %d",r,d)}}switch(l.log("handlePublish: qos %d",n),n){case 2:h.customHandleAcks(r,s,u,(d,p)=>("number"==typeof d&&(p=d,d=null),d?l.emit("error",d):-1===o.indexOf(p)?l.emit("error",new Error("Wrong reason code for pubrec")):void(p?l._sendPacket({cmd:"pubrec",messageId:a,reasonCode:p},i):l.incomingStore.put(u,()=>{l._sendPacket({cmd:"pubrec",messageId:a},i)}))));break;case 1:h.customHandleAcks(r,s,u,(d,p)=>("number"==typeof d&&(p=d,d=null),d?l.emit("error",d):-1===o.indexOf(p)?l.emit("error",new Error("Wrong reason code for puback")):(p||l.emit("message",r,s,u),void l.handleMessage(u,m=>{if(m)return i&&i(m);l._sendPacket({cmd:"puback",messageId:a,reasonCode:p},i)}))));break;case 0:l.emit("message",r,s,u),l.handleMessage(u,i);break;default:l.log("handlePublish: unknown QoS. Doing nothing.")}}}),Ga=ce((e,o)=>{o.exports={version:"5.10.2"}}),qt=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"__esModule",{value:!0}),e.MQTTJS_VERSION=e.nextTick=e.applyMixin=e.ErrorWithReasonCode=void 0;var o=class Hs extends Error{constructor(u,i){super(u),this.code=i,Object.setPrototypeOf(this,Hs.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};e.ErrorWithReasonCode=o,e.applyMixin=function t(l,u,i=!1){var r;let s=[u];for(;;){let a=Object.getPrototypeOf(s[0]);if(!a?.prototype)break;s.unshift(a)}for(let n of s)for(let a of Object.getOwnPropertyNames(n.prototype))(i||"constructor"!==a)&&Object.defineProperty(l.prototype,a,null!==(r=Object.getOwnPropertyDescriptor(n.prototype,a))&&void 0!==r?r:Object.create(null))},e.nextTick="function"==typeof Ae?.nextTick?Ae.nextTick:l=>{setTimeout(l,0)},e.MQTTJS_VERSION=Ga().version}),fr=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=void 0;var o=qt();e.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},e.default=(l,u)=>{let{messageId:i}=u,r=u.cmd,s=null,n=l.outgoing[i]?l.outgoing[i].cb:null,a=null;if(n){switch(l.log("_handleAck :: packet type",r),r){case"pubcomp":case"puback":{let h=u.reasonCode;h&&h>0&&16!==h?(a=new o.ErrorWithReasonCode(`Publish error: ${e.ReasonCodes[h]}`,h),l._removeOutgoingAndStoreMessage(i,()=>{n(a,u)})):l._removeOutgoingAndStoreMessage(i,n);break}case"pubrec":{s={cmd:"pubrel",qos:2,messageId:i};let h=u.reasonCode;h&&h>0&&16!==h?(a=new o.ErrorWithReasonCode(`Publish error: ${e.ReasonCodes[h]}`,h),l._removeOutgoingAndStoreMessage(i,()=>{n(a,u)})):l._sendPacket(s);break}case"suback":{delete l.outgoing[i],l.messageIdProvider.deallocate(i);let h=u.granted;for(let d=0;d<h.length;d++){let p=h[d];if(128&p){a=new Error(`Subscribe error: ${e.ReasonCodes[p]}`),a.code=p;let m=l.messageIdToTopic[i];m&&m.forEach(w=>{delete l._resubscribeTopics[w]})}}delete l.messageIdToTopic[i],l._invokeStoreProcessingQueue(),n(a,u);break}case"unsuback":delete l.outgoing[i],l.messageIdProvider.deallocate(i),l._invokeStoreProcessingQueue(),n(null,u);break;default:l.emit("error",new Error("unrecognized packet type"))}l.disconnecting&&0===Object.keys(l.outgoing).length&&l.emit("outgoingEmpty")}else l.log("_handleAck :: Server sent an ack in error. Ignoring.")}}),Ja=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"__esModule",{value:!0});var o=qt(),t=fr();e.default=(u,i)=>{let{options:r}=u,s=r.protocolVersion,n=5===s?i.reasonCode:i.returnCode;if(5===s)u.handleAuth(i,(a,h)=>{if(a)u.emit("error",a);else if(24===n)u.reconnecting=!1,u._sendPacket(h);else{let d=new o.ErrorWithReasonCode(`Connection refused: ${t.ReasonCodes[n]}`,n);u.emit("error",d)}});else{let a=new o.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${s}`,n);u.emit("error",a)}}}),Xa=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=void 0;var o="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,t=new Set,l="object"==typeof Ae&&Ae?Ae:{},u=(w,g,v,_)=>{"function"==typeof l.emitWarning?l.emitWarning(w,g,v,_):console.error(`[${v}] ${g}: ${w}`)},i=globalThis.AbortController,r=globalThis.AbortSignal;if(typeof i>"u"){r=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(v,_){this._onabort.push(_)}},i=class{constructor(){g()}signal=new r;abort(v){if(!this.signal.aborted){this.signal.reason=v,this.signal.aborted=!0;for(let _ of this.signal._onabort)_(v);this.signal.onabort?.(v)}}};let w="1"!==l.env?.LRU_CACHE_IGNORE_AC_WARNING,g=()=>{w&&(w=!1,u("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",g))}}Symbol("type");var a=w=>w&&w===Math.floor(w)&&w>0&&isFinite(w),h=w=>a(w)?w<=Math.pow(2,8)?Uint8Array:w<=Math.pow(2,16)?Uint16Array:w<=Math.pow(2,32)?Uint32Array:w<=Number.MAX_SAFE_INTEGER?d:null:null,d=class extends Array{constructor(w){super(w),this.fill(0)}},p=class er{heap;length;static#l=!1;static create(g){let v=h(g);if(!v)return[];er.#l=!0;let _=new er(g,v);return er.#l=!1,_}constructor(g,v){if(!er.#l)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new v(g),this.length=0}push(g){this.heap[this.length++]=g}pop(){return this.heap[--this.length]}},m=class Vs{#l;#c;#p;#g;#O;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#i;#y;#n;#r;#e;#u;#f;#a;#o;#m;#s;#E;#S;#b;#w;#I;#h;static unsafeExposeInternals(g){return{starts:g.#S,ttls:g.#b,sizes:g.#E,keyMap:g.#n,keyList:g.#r,valList:g.#e,next:g.#u,prev:g.#f,get head(){return g.#a},get tail(){return g.#o},free:g.#m,isBackgroundFetch:v=>g.#t(v),backgroundFetch:(v,_,S,E)=>g.#B(v,_,S,E),moveToTail:v=>g.#R(v),indexes:v=>g.#v(v),rindexes:v=>g.#_(v),isStale:v=>g.#d(v)}}get max(){return this.#l}get maxSize(){return this.#c}get calculatedSize(){return this.#y}get size(){return this.#i}get fetchMethod(){return this.#O}get dispose(){return this.#p}get disposeAfter(){return this.#g}constructor(g){let{max:v=0,ttl:_,ttlResolution:S=1,ttlAutopurge:E,updateAgeOnGet:C,updateAgeOnHas:U,allowStale:A,dispose:O,disposeAfter:M,noDisposeOnSet:W,noUpdateTTL:G,maxSize:Z=0,maxEntrySize:P=0,sizeCalculation:F,fetchMethod:J,noDeleteOnFetchRejection:Y,noDeleteOnStaleGet:ee,allowStaleOnFetchRejection:ue,allowStaleOnFetchAbort:D,ignoreFetchAbort:se}=g;if(0!==v&&!a(v))throw new TypeError("max option must be a nonnegative integer");let te=v?h(v):Array;if(!te)throw new Error("invalid max value: "+v);if(this.#l=v,this.#c=Z,this.maxEntrySize=P||this.#c,this.sizeCalculation=F,this.sizeCalculation){if(!this.#c&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==J&&"function"!=typeof J)throw new TypeError("fetchMethod must be a function if specified");if(this.#O=J,this.#I=!!J,this.#n=new Map,this.#r=new Array(v).fill(void 0),this.#e=new Array(v).fill(void 0),this.#u=new te(v),this.#f=new te(v),this.#a=0,this.#o=0,this.#m=p.create(v),this.#i=0,this.#y=0,"function"==typeof O&&(this.#p=O),"function"==typeof M?(this.#g=M,this.#s=[]):(this.#g=void 0,this.#s=void 0),this.#w=!!this.#p,this.#h=!!this.#g,this.noDisposeOnSet=!!W,this.noUpdateTTL=!!G,this.noDeleteOnFetchRejection=!!Y,this.allowStaleOnFetchRejection=!!ue,this.allowStaleOnFetchAbort=!!D,this.ignoreFetchAbort=!!se,0!==this.maxEntrySize){if(0!==this.#c&&!a(this.#c))throw new TypeError("maxSize must be a positive integer if specified");if(!a(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#N()}if(this.allowStale=!!A,this.noDeleteOnStaleGet=!!ee,this.updateAgeOnGet=!!C,this.updateAgeOnHas=!!U,this.ttlResolution=a(S)||0===S?S:1,this.ttlAutopurge=!!E,this.ttl=_||0,this.ttl){if(!a(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#x()}if(0===this.#l&&0===this.ttl&&0===this.#c)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#l&&!this.#c){let de="LRU_CACHE_UNBOUNDED";!t.has(de)&&(t.add(de),u("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",de,Vs))}}getRemainingTTL(g){return this.#n.has(g)?1/0:0}#x(){let g=new d(this.#l),v=new d(this.#l);this.#b=g,this.#S=v,this.#M=(E,C,U=o.now())=>{if(v[E]=0!==C?U:0,g[E]=C,0!==C&&this.ttlAutopurge){let A=setTimeout(()=>{this.#d(E)&&this.delete(this.#r[E])},C+1);A.unref&&A.unref()}},this.#T=E=>{v[E]=0!==g[E]?o.now():0},this.#A=(E,C)=>{if(g[C]){let U=g[C],A=v[C];E.ttl=U,E.start=A,E.now=_||S(),E.remainingTTL=U-(E.now-A)}};let _=0,S=()=>{let E=o.now();if(this.ttlResolution>0){_=E;let C=setTimeout(()=>_=0,this.ttlResolution);C.unref&&C.unref()}return E};this.getRemainingTTL=E=>{let C=this.#n.get(E);if(void 0===C)return 0;let U=g[C],A=v[C];return 0===U||0===A?1/0:U-((_||S())-A)},this.#d=E=>0!==g[E]&&0!==v[E]&&(_||S())-v[E]>g[E]}#T=()=>{};#A=()=>{};#M=()=>{};#d=()=>!1;#N(){let g=new d(this.#l);this.#y=0,this.#E=g,this.#k=v=>{this.#y-=g[v],g[v]=0},this.#U=(v,_,S,E)=>{if(this.#t(_))return 0;if(!a(S)){if(!E)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof E)throw new TypeError("sizeCalculation must be a function");if(S=E(_,v),!a(S))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return S},this.#C=(v,_,S)=>{if(g[v]=_,this.#c){let E=this.#c-g[v];for(;this.#y>E;)this.#P(!0)}this.#y+=g[v],S&&(S.entrySize=_,S.totalCalculatedSize=this.#y)}}#k=g=>{};#C=(g,v,_)=>{};#U=(g,v,_,S)=>{if(_||S)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#v({allowStale:g=this.allowStale}={}){if(this.#i)for(let v=this.#o;this.#L(v)&&((g||!this.#d(v))&&(yield v),v!==this.#a);)v=this.#f[v]}*#_({allowStale:g=this.allowStale}={}){if(this.#i)for(let v=this.#a;this.#L(v)&&((g||!this.#d(v))&&(yield v),v!==this.#o);)v=this.#u[v]}#L(g){return void 0!==g&&this.#n.get(this.#r[g])===g}*entries(){for(let g of this.#v())void 0!==this.#e[g]&&void 0!==this.#r[g]&&!this.#t(this.#e[g])&&(yield[this.#r[g],this.#e[g]])}*rentries(){for(let g of this.#_())void 0!==this.#e[g]&&void 0!==this.#r[g]&&!this.#t(this.#e[g])&&(yield[this.#r[g],this.#e[g]])}*keys(){for(let g of this.#v()){let v=this.#r[g];void 0!==v&&!this.#t(this.#e[g])&&(yield v)}}*rkeys(){for(let g of this.#_()){let v=this.#r[g];void 0!==v&&!this.#t(this.#e[g])&&(yield v)}}*values(){for(let g of this.#v())void 0!==this.#e[g]&&!this.#t(this.#e[g])&&(yield this.#e[g])}*rvalues(){for(let g of this.#_())void 0!==this.#e[g]&&!this.#t(this.#e[g])&&(yield this.#e[g])}[Symbol.iterator](){return this.entries()}find(g,v={}){for(let _ of this.#v()){let S=this.#e[_],E=this.#t(S)?S.__staleWhileFetching:S;if(void 0!==E&&g(E,this.#r[_],this))return this.get(this.#r[_],v)}}forEach(g,v=this){for(let _ of this.#v()){let S=this.#e[_],E=this.#t(S)?S.__staleWhileFetching:S;void 0!==E&&g.call(v,E,this.#r[_],this)}}rforEach(g,v=this){for(let _ of this.#_()){let S=this.#e[_],E=this.#t(S)?S.__staleWhileFetching:S;void 0!==E&&g.call(v,E,this.#r[_],this)}}purgeStale(){let g=!1;for(let v of this.#_({allowStale:!0}))this.#d(v)&&(this.delete(this.#r[v]),g=!0);return g}dump(){let g=[];for(let v of this.#v({allowStale:!0})){let _=this.#r[v],S=this.#e[v],E=this.#t(S)?S.__staleWhileFetching:S;if(void 0===E||void 0===_)continue;let C={value:E};if(this.#b&&this.#S){C.ttl=this.#b[v];let U=o.now()-this.#S[v];C.start=Math.floor(Date.now()-U)}this.#E&&(C.size=this.#E[v]),g.unshift([_,C])}return g}load(g){this.clear();for(let[v,_]of g){if(_.start){let S=Date.now()-_.start;_.start=o.now()-S}this.set(v,_.value,_)}}set(g,v,_={}){if(void 0===v)return this.delete(g),this;let{ttl:S=this.ttl,start:E,noDisposeOnSet:C=this.noDisposeOnSet,sizeCalculation:U=this.sizeCalculation,status:A}=_,{noUpdateTTL:O=this.noUpdateTTL}=_,M=this.#U(g,v,_.size||0,U);if(this.maxEntrySize&&M>this.maxEntrySize)return A&&(A.set="miss",A.maxEntrySizeExceeded=!0),this.delete(g),this;let W=0===this.#i?void 0:this.#n.get(g);if(void 0===W)W=0===this.#i?this.#o:0!==this.#m.length?this.#m.pop():this.#i===this.#l?this.#P(!1):this.#i,this.#r[W]=g,this.#e[W]=v,this.#n.set(g,W),this.#u[this.#o]=W,this.#f[W]=this.#o,this.#o=W,this.#i++,this.#C(W,M,A),A&&(A.set="add"),O=!1;else{this.#R(W);let G=this.#e[W];if(v!==G){if(this.#I&&this.#t(G)){G.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:Z}=G;void 0!==Z&&!C&&(this.#w&&this.#p?.(Z,g,"set"),this.#h&&this.#s?.push([Z,g,"set"]))}else C||(this.#w&&this.#p?.(G,g,"set"),this.#h&&this.#s?.push([G,g,"set"]));if(this.#k(W),this.#C(W,M,A),this.#e[W]=v,A){A.set="replace";let Z=G&&this.#t(G)?G.__staleWhileFetching:G;void 0!==Z&&(A.oldValue=Z)}}else A&&(A.set="update")}if(0!==S&&!this.#b&&this.#x(),this.#b&&(O||this.#M(W,S,E),A&&this.#A(A,W)),!C&&this.#h&&this.#s){let Z,G=this.#s;for(;Z=G?.shift();)this.#g?.(...Z)}return this}pop(){try{for(;this.#i;){let g=this.#e[this.#a];if(this.#P(!0),this.#t(g)){if(g.__staleWhileFetching)return g.__staleWhileFetching}else if(void 0!==g)return g}}finally{if(this.#h&&this.#s){let v,g=this.#s;for(;v=g?.shift();)this.#g?.(...v)}}}#P(g){let v=this.#a,_=this.#r[v],S=this.#e[v];return this.#I&&this.#t(S)?S.__abortController.abort(new Error("evicted")):(this.#w||this.#h)&&(this.#w&&this.#p?.(S,_,"evict"),this.#h&&this.#s?.push([S,_,"evict"])),this.#k(v),g&&(this.#r[v]=void 0,this.#e[v]=void 0,this.#m.push(v)),1===this.#i?(this.#a=this.#o=0,this.#m.length=0):this.#a=this.#u[v],this.#n.delete(_),this.#i--,v}has(g,v={}){let{updateAgeOnHas:_=this.updateAgeOnHas,status:S}=v,E=this.#n.get(g);if(void 0!==E){let C=this.#e[E];if(this.#t(C)&&void 0===C.__staleWhileFetching)return!1;if(!this.#d(E))return _&&this.#T(E),S&&(S.has="hit",this.#A(S,E)),!0;S&&(S.has="stale",this.#A(S,E))}else S&&(S.has="miss");return!1}peek(g,v={}){let{allowStale:_=this.allowStale}=v,S=this.#n.get(g);if(void 0!==S&&(_||!this.#d(S))){let E=this.#e[S];return this.#t(E)?E.__staleWhileFetching:E}}#B(g,v,_,S){let E=void 0===v?void 0:this.#e[v];if(this.#t(E))return E;let C=new i,{signal:U}=_;U?.addEventListener("abort",()=>C.abort(U.reason),{signal:C.signal});let A={signal:C.signal,options:_,context:S},O=(F,J=!1)=>{let{aborted:Y}=C.signal,ee=_.ignoreFetchAbort&&void 0!==F;return _.status&&(Y&&!J?(_.status.fetchAborted=!0,_.status.fetchError=C.signal.reason,ee&&(_.status.fetchAbortIgnored=!0)):_.status.fetchResolved=!0),!Y||ee||J?(this.#e[v]===Z&&(void 0===F?Z.__staleWhileFetching?this.#e[v]=Z.__staleWhileFetching:this.delete(g):(_.status&&(_.status.fetchUpdated=!0),this.set(g,F,A.options))),F):W(C.signal.reason)},W=F=>{let{aborted:J}=C.signal,Y=J&&_.allowStaleOnFetchAbort,ee=Y||_.allowStaleOnFetchRejection,D=Z;if(this.#e[v]===Z&&((ee||_.noDeleteOnFetchRejection)&&void 0!==D.__staleWhileFetching?Y||(this.#e[v]=D.__staleWhileFetching):this.delete(g)),ee)return _.status&&void 0!==D.__staleWhileFetching&&(_.status.returnedStale=!0),D.__staleWhileFetching;if(D.__returned===D)throw F};_.status&&(_.status.fetchDispatched=!0);let Z=new Promise((F,J)=>{let Y=this.#O?.(g,E,A);Y&&Y instanceof Promise&&Y.then(ee=>F(void 0===ee?void 0:ee),J),C.signal.addEventListener("abort",()=>{(!_.ignoreFetchAbort||_.allowStaleOnFetchAbort)&&(F(void 0),_.allowStaleOnFetchAbort&&(F=ee=>O(ee,!0)))})}).then(O,F=>(_.status&&(_.status.fetchRejected=!0,_.status.fetchError=F),W(F))),P=Object.assign(Z,{__abortController:C,__staleWhileFetching:E,__returned:void 0});return void 0===v?(this.set(g,P,{...A.options,status:void 0}),v=this.#n.get(g)):this.#e[v]=P,P}#t(g){if(!this.#I)return!1;let v=g;return!!v&&v instanceof Promise&&v.hasOwnProperty("__staleWhileFetching")&&v.__abortController instanceof i}fetch(g,v={}){var _=this;return(0,Pe.A)(function*(){let{allowStale:S=_.allowStale,updateAgeOnGet:E=_.updateAgeOnGet,noDeleteOnStaleGet:C=_.noDeleteOnStaleGet,ttl:U=_.ttl,noDisposeOnSet:A=_.noDisposeOnSet,size:O=0,sizeCalculation:M=_.sizeCalculation,noUpdateTTL:W=_.noUpdateTTL,noDeleteOnFetchRejection:G=_.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Z=_.allowStaleOnFetchRejection,ignoreFetchAbort:P=_.ignoreFetchAbort,allowStaleOnFetchAbort:F=_.allowStaleOnFetchAbort,context:J,forceRefresh:Y=!1,status:ee,signal:ue}=v;if(!_.#I)return ee&&(ee.fetch="get"),_.get(g,{allowStale:S,updateAgeOnGet:E,noDeleteOnStaleGet:C,status:ee});let D={allowStale:S,updateAgeOnGet:E,noDeleteOnStaleGet:C,ttl:U,noDisposeOnSet:A,size:O,sizeCalculation:M,noUpdateTTL:W,noDeleteOnFetchRejection:G,allowStaleOnFetchRejection:Z,allowStaleOnFetchAbort:F,ignoreFetchAbort:P,status:ee,signal:ue},se=_.#n.get(g);if(void 0===se){ee&&(ee.fetch="miss");let te=_.#B(g,se,D,J);return te.__returned=te}{let te=_.#e[se];if(_.#t(te)){let pe=S&&void 0!==te.__staleWhileFetching;return ee&&(ee.fetch="inflight",pe&&(ee.returnedStale=!0)),pe?te.__staleWhileFetching:te.__returned=te}let de=_.#d(se);if(!Y&&!de)return ee&&(ee.fetch="hit"),_.#R(se),E&&_.#T(se),ee&&_.#A(ee,se),te;let k=_.#B(g,se,D,J),he=void 0!==k.__staleWhileFetching&&S;return ee&&(ee.fetch=de?"stale":"refresh",he&&de&&(ee.returnedStale=!0)),he?k.__staleWhileFetching:k.__returned=k}})()}get(g,v={}){let{allowStale:_=this.allowStale,updateAgeOnGet:S=this.updateAgeOnGet,noDeleteOnStaleGet:E=this.noDeleteOnStaleGet,status:C}=v,U=this.#n.get(g);if(void 0!==U){let A=this.#e[U],O=this.#t(A);return C&&this.#A(C,U),this.#d(U)?(C&&(C.get="stale"),O?(C&&_&&void 0!==A.__staleWhileFetching&&(C.returnedStale=!0),_?A.__staleWhileFetching:void 0):(E||this.delete(g),C&&_&&(C.returnedStale=!0),_?A:void 0)):(C&&(C.get="hit"),O?A.__staleWhileFetching:(this.#R(U),S&&this.#T(U),A))}C&&(C.get="miss")}#j(g,v){this.#f[v]=g,this.#u[g]=v}#R(g){g!==this.#o&&(g===this.#a?this.#a=this.#u[g]:this.#j(this.#f[g],this.#u[g]),this.#j(this.#o,g),this.#o=g)}delete(g){let v=!1;if(0!==this.#i){let _=this.#n.get(g);if(void 0!==_)if(v=!0,1===this.#i)this.clear();else{this.#k(_);let S=this.#e[_];this.#t(S)?S.__abortController.abort(new Error("deleted")):(this.#w||this.#h)&&(this.#w&&this.#p?.(S,g,"delete"),this.#h&&this.#s?.push([S,g,"delete"])),this.#n.delete(g),this.#r[_]=void 0,this.#e[_]=void 0,_===this.#o?this.#o=this.#f[_]:_===this.#a?this.#a=this.#u[_]:(this.#u[this.#f[_]]=this.#u[_],this.#f[this.#u[_]]=this.#f[_]),this.#i--,this.#m.push(_)}}if(this.#h&&this.#s?.length){let S,_=this.#s;for(;S=_?.shift();)this.#g?.(...S)}return v}clear(){for(let g of this.#_({allowStale:!0})){let v=this.#e[g];if(this.#t(v))v.__abortController.abort(new Error("deleted"));else{let _=this.#r[g];this.#w&&this.#p?.(v,_,"delete"),this.#h&&this.#s?.push([v,_,"delete"])}}if(this.#n.clear(),this.#e.fill(void 0),this.#r.fill(void 0),this.#b&&this.#S&&(this.#b.fill(0),this.#S.fill(0)),this.#E&&this.#E.fill(0),this.#a=0,this.#o=0,this.#m.length=0,this.#y=0,this.#i=0,this.#h&&this.#s){let v,g=this.#s;for(;v=g?.shift();)this.#g?.(...v)}}};e.LRUCache=m}),ct=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.ContainerIterator=e.Container=e.Base=void 0,e.ContainerIterator=class{constructor(u=0){this.iteratorType=u}equals(u){return this.o===u.o}};var t=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return 0===this.i}};e.Base=t,e.Container=class extends t{}}),Za=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var o=ct();e.default=class extends o.Base{constructor(u=[]){super(),this.S=[];let i=this;u.forEach(function(r){i.push(r)})}clear(){this.i=0,this.S=[]}push(u){return this.S.push(u),this.i+=1,this.i}pop(){if(0!==this.i)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}}}),el=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var o=ct();e.default=class extends o.Base{constructor(u=[]){super(),this.j=0,this.q=[];let i=this;u.forEach(function(r){i.push(r)})}clear(){this.q=[],this.i=this.j=0}push(u){let i=this.q.length;if(this.j/i>.5&&this.j+this.i>=i&&i>4096){let r=this.i;for(let s=0;s<r;++s)this.q[s]=this.q[this.j+s];this.j=0,this.q[this.i]=u}else this.q[this.j+this.i]=u;return++this.i}pop(){if(0===this.i)return;let u=this.q[this.j++];return this.i-=1,u}front(){if(0!==this.i)return this.q[this.j]}}}),tl=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var o=ct();e.default=class extends o.Base{constructor(u=[],i=function(s,n){return s>n?-1:s<n?1:0},r=!0){if(super(),this.v=i,Array.isArray(u))this.C=r?[...u]:u;else{this.C=[];let n=this;u.forEach(function(a){n.C.push(a)})}this.i=this.C.length;let s=this.i>>1;for(let n=this.i-1>>1;n>=0;--n)this.k(n,s)}m(u){let i=this.C[u];for(;u>0;){let r=u-1>>1,s=this.C[r];if(this.v(s,i)<=0)break;this.C[u]=s,u=r}this.C[u]=i}k(u,i){let r=this.C[u];for(;u<i;){let s=u<<1|1,n=s+1,a=this.C[s];if(n<this.i&&this.v(a,this.C[n])>0&&(s=n,a=this.C[n]),this.v(a,r)>=0)break;this.C[u]=a,u=s}this.C[u]=r}clear(){this.i=0,this.C.length=0}push(u){this.C.push(u),this.m(this.i),this.i+=1}pop(){if(0===this.i)return;let u=this.C[0],i=this.C.pop();return this.i-=1,this.i&&(this.C[0]=i,this.k(0,this.i>>1)),u}top(){return this.C[0]}find(u){return this.C.indexOf(u)>=0}remove(u){let i=this.C.indexOf(u);return!(i<0||(0===i?this.pop():i===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(i,1,this.C.pop()),this.i-=1,this.m(i),this.k(i,this.i>>1)),0))}updateItem(u){let i=this.C.indexOf(u);return!(i<0||(this.m(i),this.k(i,this.i>>1),0))}toArray(){return[...this.C]}}}),Qi=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var o=ct();e.default=class extends o.Container{}}),ft=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.throwIteratorAccessError=function o(){throw new RangeError("Iterator access denied!")}}),Oo=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.RandomIterator=void 0;var o=ct(),t=ft();e.RandomIterator=class extends o.ContainerIterator{constructor(u,i){super(i),this.o=u,0===this.iteratorType?(this.pre=function(){return 0===this.o&&(0,t.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,t.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,t.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return-1===this.o&&(0,t.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(u){this.container.setElementByPos(this.o,u)}}}),rl=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var o=function l(s){return s&&s.t?s:{default:s}}(Qi()),t=Oo(),u=class zs extends t.RandomIterator{constructor(n,a,h){super(n,h),this.container=a}copy(){return new zs(this.o,this.container,this.iteratorType)}},i=class extends o.default{constructor(s=[],n=!0){if(super(),Array.isArray(s))this.J=n?[...s]:s,this.i=s.length;else{this.J=[];let a=this;s.forEach(function(h){a.pushBack(h)})}}clear(){this.i=0,this.J.length=0}begin(){return new u(0,this)}end(){return new u(this.i,this)}rBegin(){return new u(this.i-1,this,1)}rEnd(){return new u(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(s){if(s<0||s>this.i-1)throw new RangeError;return this.J[s]}eraseElementByPos(s){if(s<0||s>this.i-1)throw new RangeError;return this.J.splice(s,1),this.i-=1,this.i}eraseElementByValue(s){let n=0;for(let a=0;a<this.i;++a)this.J[a]!==s&&(this.J[n++]=this.J[a]);return this.i=this.J.length=n,this.i}eraseElementByIterator(s){let n=s.o;return s=s.next(),this.eraseElementByPos(n),s}pushBack(s){return this.J.push(s),this.i+=1,this.i}popBack(){if(0!==this.i)return this.i-=1,this.J.pop()}setElementByPos(s,n){if(s<0||s>this.i-1)throw new RangeError;this.J[s]=n}insert(s,n,a=1){if(s<0||s>this.i)throw new RangeError;return this.J.splice(s,0,...new Array(a).fill(n)),this.i+=a,this.i}find(s){for(let n=0;n<this.i;++n)if(this.J[n]===s)return new u(n,this);return this.end()}reverse(){this.J.reverse()}unique(){let s=1;for(let n=1;n<this.i;++n)this.J[n]!==this.J[n-1]&&(this.J[s++]=this.J[n]);return this.i=this.J.length=s,this.i}sort(s){this.J.sort(s)}forEach(s){for(let n=0;n<this.i;++n)s(this.J[n],n,this)}[Symbol.iterator](){return function*(){yield*this.J}.bind(this)()}};e.default=i}),il=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var o=function u(n){return n&&n.t?n:{default:n}}(Qi()),t=ct(),l=ft(),i=class Ks extends t.ContainerIterator{constructor(a,h,d,p){super(p),this.o=a,this.h=h,this.container=d,0===this.iteratorType?(this.pre=function(){return this.o.L===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o.l}set pointer(a){this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o.l=a}copy(){return new Ks(this.o,this.h,this.container,this.iteratorType)}},r=class extends o.default{constructor(n=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let a=this;n.forEach(function(h){a.pushBack(h)})}V(n){let{L:a,B:h}=n;a.B=h,h.L=a,n===this.p&&(this.p=h),n===this._&&(this._=a),this.i-=1}G(n,a){let h=a.B,d={l:n,L:a,B:h};a.B=d,h.L=d,a===this.h&&(this.p=d),h===this.h&&(this._=d),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new i(this.p,this.h,this)}end(){return new i(this.h,this.h,this)}rBegin(){return new i(this._,this.h,this,1)}rEnd(){return new i(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let a=this.p;for(;n--;)a=a.B;return a.l}eraseElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let a=this.p;for(;n--;)a=a.B;return this.V(a),this.i}eraseElementByValue(n){let a=this.p;for(;a!==this.h;)a.l===n&&this.V(a),a=a.B;return this.i}eraseElementByIterator(n){let a=n.o;return a===this.h&&(0,l.throwIteratorAccessError)(),n=n.next(),this.V(a),n}pushBack(n){return this.G(n,this._),this.i}popBack(){if(0===this.i)return;let n=this._.l;return this.V(this._),n}pushFront(n){return this.G(n,this.h),this.i}popFront(){if(0===this.i)return;let n=this.p.l;return this.V(this.p),n}setElementByPos(n,a){if(n<0||n>this.i-1)throw new RangeError;let h=this.p;for(;n--;)h=h.B;h.l=a}insert(n,a,h=1){if(n<0||n>this.i)throw new RangeError;if(h<=0)return this.i;if(0===n)for(;h--;)this.pushFront(a);else if(n===this.i)for(;h--;)this.pushBack(a);else{let d=this.p;for(let m=1;m<n;++m)d=d.B;let p=d.B;for(this.i+=h;h--;)d.B={l:a,L:d},d.B.L=d,d=d.B;d.B=p,p.L=d}return this.i}find(n){let a=this.p;for(;a!==this.h;){if(a.l===n)return new i(a,this.h,this);a=a.B}return this.end()}reverse(){if(this.i<=1)return;let n=this.p,a=this._,h=0;for(;h<<1<this.i;){let d=n.l;n.l=a.l,a.l=d,n=n.B,a=a.L,h+=1}}unique(){if(this.i<=1)return this.i;let n=this.p;for(;n!==this.h;){let a=n;for(;a.B!==this.h&&a.l===a.B.l;)a=a.B,this.i-=1;n.B=a.B,n.B.L=n,n=n.B}return this.i}sort(n){if(this.i<=1)return;let a=[];this.forEach(function(d){a.push(d)}),a.sort(n);let h=this.p;a.forEach(function(d){h.l=d,h=h.B})}merge(n){let a=this;if(0===this.i)n.forEach(function(h){a.pushBack(h)});else{let h=this.p;n.forEach(function(d){for(;h!==a.h&&h.l<=d;)h=h.B;a.G(d,h.L)})}return this.i}forEach(n){let a=this.p,h=0;for(;a!==this.h;)n(a.l,h++,this),a=a.B}[Symbol.iterator](){return function*(){if(0===this.i)return;let n=this.p;for(;n!==this.h;)yield n.l,n=n.B}.bind(this)()}};e.default=r}),nl=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var o=function l(s){return s&&s.t?s:{default:s}}(Qi()),t=Oo(),u=class Ys extends t.RandomIterator{constructor(n,a,h){super(n,h),this.container=a}copy(){return new Ys(this.o,this.container,this.iteratorType)}},i=class extends o.default{constructor(s=[],n=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let a=(()=>{if("number"==typeof s.length)return s.length;if("number"==typeof s.size)return s.size;if("function"==typeof s.size)return s.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=n,this.P=Math.max(Math.ceil(a/this.F),1);for(let p=0;p<this.P;++p)this.A.push(new Array(this.F));let h=Math.ceil(a/this.F);this.j=this.R=(this.P>>1)-(h>>1),this.D=this.N=this.F-a%this.F>>1;let d=this;s.forEach(function(p){d.pushBack(p)})}T(){let s=[],n=Math.max(this.P>>1,1);for(let a=0;a<n;++a)s[a]=new Array(this.F);for(let a=this.j;a<this.P;++a)s[s.length]=this.A[a];for(let a=0;a<this.R;++a)s[s.length]=this.A[a];s[s.length]=[...this.A[this.R]],this.j=n,this.R=s.length-1;for(let a=0;a<n;++a)s[s.length]=new Array(this.F);this.A=s,this.P=s.length}O(s){let n=this.D+s+1,a=n%this.F,h=a-1,d=this.j+(n-a)/this.F;return 0===a&&(d-=1),d%=this.P,h<0&&(h+=this.F),{curNodeBucketIndex:d,curNodePointerIndex:h}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new u(0,this)}end(){return new u(this.i,this)}rBegin(){return new u(this.i-1,this,1)}rEnd(){return new u(-1,this,1)}front(){if(0!==this.i)return this.A[this.j][this.D]}back(){if(0!==this.i)return this.A[this.R][this.N]}pushBack(s){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=s,this.i}popBack(){if(0===this.i)return;let s=this.A[this.R][this.N];return 1!==this.i&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,s}pushFront(s){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=s,this.i}popFront(){if(0===this.i)return;let s=this.A[this.j][this.D];return 1!==this.i&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,s}getElementByPos(s){if(s<0||s>this.i-1)throw new RangeError;let{curNodeBucketIndex:n,curNodePointerIndex:a}=this.O(s);return this.A[n][a]}setElementByPos(s,n){if(s<0||s>this.i-1)throw new RangeError;let{curNodeBucketIndex:a,curNodePointerIndex:h}=this.O(s);this.A[a][h]=n}insert(s,n,a=1){if(s<0||s>this.i)throw new RangeError;if(0===s)for(;a--;)this.pushFront(n);else if(s===this.i)for(;a--;)this.pushBack(n);else{let h=[];for(let d=s;d<this.i;++d)h.push(this.getElementByPos(d));this.cut(s-1);for(let d=0;d<a;++d)this.pushBack(n);for(let d=0;d<h.length;++d)this.pushBack(h[d])}return this.i}cut(s){if(s<0)return this.clear(),0;let{curNodeBucketIndex:n,curNodePointerIndex:a}=this.O(s);return this.R=n,this.N=a,this.i=s+1,this.i}eraseElementByPos(s){if(s<0||s>this.i-1)throw new RangeError;if(0===s)this.popFront();else if(s===this.i-1)this.popBack();else{let n=[];for(let h=s+1;h<this.i;++h)n.push(this.getElementByPos(h));this.cut(s),this.popBack();let a=this;n.forEach(function(h){a.pushBack(h)})}return this.i}eraseElementByValue(s){if(0===this.i)return 0;let n=[];for(let h=0;h<this.i;++h){let d=this.getElementByPos(h);d!==s&&n.push(d)}let a=n.length;for(let h=0;h<a;++h)this.setElementByPos(h,n[h]);return this.cut(a-1)}eraseElementByIterator(s){return this.eraseElementByPos(s.o),s.next()}find(s){for(let n=0;n<this.i;++n)if(this.getElementByPos(n)===s)return new u(n,this);return this.end()}reverse(){let s=0,n=this.i-1;for(;s<n;){let a=this.getElementByPos(s);this.setElementByPos(s,this.getElementByPos(n)),this.setElementByPos(n,a),s+=1,n-=1}}unique(){if(this.i<=1)return this.i;let s=1,n=this.getElementByPos(0);for(let a=1;a<this.i;++a){let h=this.getElementByPos(a);h!==n&&(n=h,this.setElementByPos(s++,h))}for(;this.i>s;)this.popBack();return this.i}sort(s){let n=[];for(let a=0;a<this.i;++a)n.push(this.getElementByPos(a));n.sort(s);for(let a=0;a<this.i;++a)this.setElementByPos(a,n[a])}shrinkToFit(){if(0===this.i)return;let s=[];this.forEach(function(n){s.push(n)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let n=0;n<this.P;++n)this.A.push(new Array(this.F));for(let n=0;n<s.length;++n)this.pushBack(s[n])}forEach(s){for(let n=0;n<this.i;++n)s(this.getElementByPos(n),n,this)}[Symbol.iterator](){return function*(){for(let s=0;s<this.i;++s)yield this.getElementByPos(s)}.bind(this)()}};e.default=i}),ol=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.TreeNodeEnableIndex=e.TreeNode=void 0;var o=class{constructor(l,u){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=l,this.l=u}L(){let l=this;if(1===l.ee&&l.tt.tt===l)l=l.W;else if(l.U)for(l=l.U;l.W;)l=l.W;else{let u=l.tt;for(;u.U===l;)l=u,u=l.tt;l=u}return l}B(){let l=this;if(l.W){for(l=l.W;l.U;)l=l.U;return l}{let u=l.tt;for(;u.W===l;)l=u,u=l.tt;return l.W!==u?u:l}}te(){let l=this.tt,u=this.W,i=u.U;return l.tt===this?l.tt=u:l.U===this?l.U=u:l.W=u,u.tt=l,u.U=this,this.tt=u,this.W=i,i&&(i.tt=this),u}se(){let l=this.tt,u=this.U,i=u.W;return l.tt===this?l.tt=u:l.U===this?l.U=u:l.W=u,u.tt=l,u.W=this,this.tt=u,this.U=i,i&&(i.tt=this),u}};e.TreeNode=o,e.TreeNodeEnableIndex=class extends o{constructor(){super(...arguments),this.rt=1}te(){let l=super.te();return this.ie(),l.ie(),l}se(){let l=super.se();return this.ie(),l.ie(),l}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}}}),Co=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var o=ol(),t=ct(),l=ft();e.default=class extends t.Container{constructor(r=function(n,a){return n<a?-1:n>a?1:0},s=!1){super(),this.Y=void 0,this.v=r,s?(this.re=o.TreeNodeEnableIndex,this.M=function(n,a,h){let d=this.ne(n,a,h);if(d){let p=d.tt;for(;p!==this.h;)p.rt+=1,p=p.tt;let m=this.he(d);if(m){let{parentNode:w,grandParent:g,curNode:v}=m;w.ie(),g.ie(),v.ie()}}return this.i},this.V=function(n){let a=this.fe(n);for(;a!==this.h;)a.rt-=1,a=a.tt}):(this.re=o.TreeNode,this.M=function(n,a,h){let d=this.ne(n,a,h);return d&&this.he(d),this.i},this.V=this.fe),this.h=new this.re}X(r,s){let n=this.h;for(;r;){let a=this.v(r.u,s);if(a<0)r=r.W;else{if(!(a>0))return r;n=r,r=r.U}}return n}Z(r,s){let n=this.h;for(;r;)this.v(r.u,s)<=0?r=r.W:(n=r,r=r.U);return n}$(r,s){let n=this.h;for(;r;){let a=this.v(r.u,s);if(a<0)n=r,r=r.W;else{if(!(a>0))return r;r=r.U}}return n}rr(r,s){let n=this.h;for(;r;)this.v(r.u,s)<0?(n=r,r=r.W):r=r.U;return n}ue(r){for(;;){let s=r.tt;if(s===this.h)return;if(1===r.ee)return void(r.ee=0);if(r===s.U){let n=s.W;if(1===n.ee)n.ee=0,s.ee=1,s===this.Y?this.Y=s.te():s.te();else{if(n.W&&1===n.W.ee)return n.ee=s.ee,s.ee=0,n.W.ee=0,void(s===this.Y?this.Y=s.te():s.te());n.U&&1===n.U.ee?(n.ee=1,n.U.ee=0,n.se()):(n.ee=1,r=s)}}else{let n=s.U;if(1===n.ee)n.ee=0,s.ee=1,s===this.Y?this.Y=s.se():s.se();else{if(n.U&&1===n.U.ee)return n.ee=s.ee,s.ee=0,n.U.ee=0,void(s===this.Y?this.Y=s.se():s.se());n.W&&1===n.W.ee?(n.ee=1,n.W.ee=0,n.te()):(n.ee=1,r=s)}}}}fe(r){if(1===this.i)return this.clear(),this.h;let s=r;for(;s.U||s.W;){if(s.W)for(s=s.W;s.U;)s=s.U;else s=s.U;[r.u,s.u]=[s.u,r.u],[r.l,s.l]=[s.l,r.l],r=s}this.h.U===s?this.h.U=s.tt:this.h.W===s&&(this.h.W=s.tt),this.ue(s);let n=s.tt;return s===n.U?n.U=void 0:n.W=void 0,this.i-=1,this.Y.ee=0,n}oe(r,s){return void 0!==r&&(!(!this.oe(r.U,s)&&!s(r))||this.oe(r.W,s))}he(r){for(;;){let s=r.tt;if(0===s.ee)return;let n=s.tt;if(s===n.U){let a=n.W;if(a&&1===a.ee){if(a.ee=s.ee=0,n===this.Y)return;n.ee=1,r=n;continue}if(r===s.W){if(r.ee=0,r.U&&(r.U.tt=s),r.W&&(r.W.tt=n),s.W=r.U,n.U=r.W,r.U=s,r.W=n,n===this.Y)this.Y=r,this.h.tt=r;else{let h=n.tt;h.U===n?h.U=r:h.W=r}return r.tt=n.tt,s.tt=r,n.tt=r,n.ee=1,{parentNode:s,grandParent:n,curNode:r}}s.ee=0,n===this.Y?this.Y=n.se():n.se(),n.ee=1}else{let a=n.U;if(a&&1===a.ee){if(a.ee=s.ee=0,n===this.Y)return;n.ee=1,r=n;continue}if(r===s.U){if(r.ee=0,r.U&&(r.U.tt=n),r.W&&(r.W.tt=s),n.W=r.U,s.U=r.W,r.U=n,r.W=s,n===this.Y)this.Y=r,this.h.tt=r;else{let h=n.tt;h.U===n?h.U=r:h.W=r}return r.tt=n.tt,s.tt=r,n.tt=r,n.ee=1,{parentNode:s,grandParent:n,curNode:r}}s.ee=0,n===this.Y?this.Y=n.te():n.te(),n.ee=1}return}}ne(r,s,n){if(void 0===this.Y)return this.i+=1,this.Y=new this.re(r,s),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,void(this.h.W=this.Y);let a,h=this.h.U,d=this.v(h.u,r);if(0!==d){if(d>0)h.U=new this.re(r,s),h.U.tt=h,a=h.U,this.h.U=a;else{let p=this.h.W,m=this.v(p.u,r);if(0===m)return void(p.l=s);if(m<0)p.W=new this.re(r,s),p.W.tt=p,a=p.W,this.h.W=a;else{if(void 0!==n){let w=n.o;if(w!==this.h){let g=this.v(w.u,r);if(0===g)return void(w.l=s);if(g>0){let v=w.L(),_=this.v(v.u,r);if(0===_)return void(v.l=s);_<0&&(a=new this.re(r,s),void 0===v.W?(v.W=a,a.tt=v):(w.U=a,a.tt=w))}}}if(void 0===a)for(a=this.Y;;){let w=this.v(a.u,r);if(w>0){if(void 0===a.U){a.U=new this.re(r,s),a.U.tt=a,a=a.U;break}a=a.U}else{if(!(w<0))return void(a.l=s);if(void 0===a.W){a.W=new this.re(r,s),a.W.tt=a,a=a.W;break}a=a.W}}}}return this.i+=1,a}h.l=s}I(r,s){for(;r;){let n=this.v(r.u,s);if(n<0)r=r.W;else{if(!(n>0))return r;r=r.U}}return r||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(r,s){let n=r.o;if(n===this.h&&(0,l.throwIteratorAccessError)(),1===this.i)return n.u=s,!0;if(n===this.h.U)return this.v(n.B().u,s)>0&&(n.u=s,!0);if(n===this.h.W)return this.v(n.L().u,s)<0&&(n.u=s,!0);let a=n.L().u;if(this.v(a,s)>=0)return!1;let h=n.B().u;return!(this.v(h,s)<=0||(n.u=s,0))}eraseElementByPos(r){if(r<0||r>this.i-1)throw new RangeError;let s=0,n=this;return this.oe(this.Y,function(a){return r===s?(n.V(a),!0):(s+=1,!1)}),this.i}eraseElementByKey(r){if(0===this.i)return!1;let s=this.I(this.Y,r);return s!==this.h&&(this.V(s),!0)}eraseElementByIterator(r){let s=r.o;s===this.h&&(0,l.throwIteratorAccessError)();let n=void 0===s.W;return 0===r.iteratorType?n&&r.next():(!n||void 0===s.U)&&r.next(),this.V(s),r}forEach(r){let s=0;for(let n of this)r(n,s++,this)}getElementByPos(r){if(r<0||r>this.i-1)throw new RangeError;let s,n=0;for(let a of this){if(n===r){s=a;break}n+=1}return s}getHeight(){if(0===this.i)return 0;let r=function(s){return s?Math.max(r(s.U),r(s.W))+1:0};return r(this.Y)}}}),Po=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var o=ct(),t=ft();e.default=class extends o.ContainerIterator{constructor(i,r,s){super(s),this.o=i,this.h=r,0===this.iteratorType?(this.pre=function(){return this.o===this.h.U&&(0,t.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,t.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,t.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,t.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let i=this.o,r=this.h.tt;if(i===this.h)return r?r.rt-1:0;let s=0;for(i.U&&(s+=i.U.rt);i!==r;){let n=i.tt;i===n.W&&(s+=1,n.U&&(s+=n.U.rt)),i=n}return s}}}),sl=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var o=u(Co()),t=u(Po()),l=ft();function u(n){return n&&n.t?n:{default:n}}var i=class Qs extends t.default{constructor(a,h,d,p){super(a,h,p),this.container=d}get pointer(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o.u}copy(){return new Qs(this.o,this.h,this.container,this.iteratorType)}},r=class extends o.default{constructor(n=[],a,h){super(a,h);let d=this;n.forEach(function(p){d.insert(p)})}*K(n){void 0!==n&&(yield*this.K(n.U),yield n.u,yield*this.K(n.W))}begin(){return new i(this.h.U||this.h,this.h,this)}end(){return new i(this.h,this.h,this)}rBegin(){return new i(this.h.W||this.h,this.h,this,1)}rEnd(){return new i(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(n,a){return this.M(n,void 0,a)}find(n){let a=this.I(this.Y,n);return new i(a,this.h,this)}lowerBound(n){let a=this.X(this.Y,n);return new i(a,this.h,this)}upperBound(n){let a=this.Z(this.Y,n);return new i(a,this.h,this)}reverseLowerBound(n){let a=this.$(this.Y,n);return new i(a,this.h,this)}reverseUpperBound(n){let a=this.rr(this.Y,n);return new i(a,this.h,this)}union(n){let a=this;return n.forEach(function(h){a.insert(h)}),this.i}[Symbol.iterator](){return this.K(this.Y)}};e.default=r}),al=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var o=u(Co()),t=u(Po()),l=ft();function u(n){return n&&n.t?n:{default:n}}var i=class Gs extends t.default{constructor(a,h,d,p){super(a,h,p),this.container=d}get pointer(){this.o===this.h&&(0,l.throwIteratorAccessError)();let a=this;return new Proxy([],{get:(h,d)=>"0"===d?a.o.u:"1"===d?a.o.l:void 0,set(h,d,p){if("1"!==d)throw new TypeError("props must be 1");return a.o.l=p,!0}})}copy(){return new Gs(this.o,this.h,this.container,this.iteratorType)}},r=class extends o.default{constructor(n=[],a,h){super(a,h);let d=this;n.forEach(function(p){d.setElement(p[0],p[1])})}*K(n){void 0!==n&&(yield*this.K(n.U),yield[n.u,n.l],yield*this.K(n.W))}begin(){return new i(this.h.U||this.h,this.h,this)}end(){return new i(this.h,this.h,this)}rBegin(){return new i(this.h.W||this.h,this.h,this,1)}rEnd(){return new i(this.h,this.h,this,1)}front(){if(0===this.i)return;let n=this.h.U;return[n.u,n.l]}back(){if(0===this.i)return;let n=this.h.W;return[n.u,n.l]}lowerBound(n){let a=this.X(this.Y,n);return new i(a,this.h,this)}upperBound(n){let a=this.Z(this.Y,n);return new i(a,this.h,this)}reverseLowerBound(n){let a=this.$(this.Y,n);return new i(a,this.h,this)}reverseUpperBound(n){let a=this.rr(this.Y,n);return new i(a,this.h,this)}setElement(n,a,h){return this.M(n,a,h)}find(n){let a=this.I(this.Y,n);return new i(a,this.h,this)}getElementByKey(n){return this.I(this.Y,n).l}union(n){let a=this;return n.forEach(function(h){a.setElement(h[0],h[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}};e.default=r}),Bo=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.default=function o(t){let l=typeof t;return"object"===l&&null!==t||"function"===l}}),xo=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.HashContainerIterator=e.HashContainer=void 0;var o=ct(),t=function u(s){return s&&s.t?s:{default:s}}(Bo()),l=ft();e.HashContainerIterator=class extends o.ContainerIterator{constructor(s,n,a){super(a),this.o=s,this.h=n,0===this.iteratorType?(this.pre=function(){return this.o.L===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this})}},e.HashContainer=class extends o.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(s){let{L:n,B:a}=s;n.B=a,a.L=n,s===this.p&&(this.p=a),s===this._&&(this._=n),this.i-=1}M(s,n,a){let h;if(void 0===a&&(a=(0,t.default)(s)),a){let d=s[this.HASH_TAG];if(void 0!==d)return this.H[d].l=n,this.i;Object.defineProperty(s,this.HASH_TAG,{value:this.H.length,configurable:!0}),h={u:s,l:n,L:this._,B:this.h},this.H.push(h)}else{let d=this.g[s];if(d)return d.l=n,this.i;h={u:s,l:n,L:this._,B:this.h},this.g[s]=h}return 0===this.i?(this.p=h,this.h.B=h):this._.B=h,this._=h,this.h.L=h,++this.i}I(s,n){if(void 0===n&&(n=(0,t.default)(s)),n){let a=s[this.HASH_TAG];return void 0===a?this.h:this.H[a]}return this.g[s]||this.h}clear(){let s=this.HASH_TAG;this.H.forEach(function(n){delete n.u[s]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(s,n){let a;if(void 0===n&&(n=(0,t.default)(s)),n){let h=s[this.HASH_TAG];if(void 0===h)return!1;delete s[this.HASH_TAG],a=this.H[h],delete this.H[h]}else{if(a=this.g[s],void 0===a)return!1;delete this.g[s]}return this.V(a),!0}eraseElementByIterator(s){let n=s.o;return n===this.h&&(0,l.throwIteratorAccessError)(),this.V(n),s.next()}eraseElementByPos(s){if(s<0||s>this.i-1)throw new RangeError;let n=this.p;for(;s--;)n=n.B;return this.V(n),this.i}}}),ll=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var o=xo(),t=ft(),l=class Js extends o.HashContainerIterator{constructor(s,n,a,h){super(s,n,h),this.container=a}get pointer(){return this.o===this.h&&(0,t.throwIteratorAccessError)(),this.o.u}copy(){return new Js(this.o,this.h,this.container,this.iteratorType)}},u=class extends o.HashContainer{constructor(r=[]){super();let s=this;r.forEach(function(n){s.insert(n)})}begin(){return new l(this.p,this.h,this)}end(){return new l(this.h,this.h,this)}rBegin(){return new l(this._,this.h,this,1)}rEnd(){return new l(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(r,s){return this.M(r,void 0,s)}getElementByPos(r){if(r<0||r>this.i-1)throw new RangeError;let s=this.p;for(;r--;)s=s.B;return s.u}find(r,s){let n=this.I(r,s);return new l(n,this.h,this)}forEach(r){let s=0,n=this.p;for(;n!==this.h;)r(n.u,s++,this),n=n.B}[Symbol.iterator](){return function*(){let r=this.p;for(;r!==this.h;)yield r.u,r=r.B}.bind(this)()}};e.default=u}),ul=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var o=xo(),t=function u(n){return n&&n.t?n:{default:n}}(Bo()),l=ft(),i=class Xs extends o.HashContainerIterator{constructor(a,h,d,p){super(a,h,p),this.container=d}get pointer(){this.o===this.h&&(0,l.throwIteratorAccessError)();let a=this;return new Proxy([],{get:(h,d)=>"0"===d?a.o.u:"1"===d?a.o.l:void 0,set(h,d,p){if("1"!==d)throw new TypeError("props must be 1");return a.o.l=p,!0}})}copy(){return new Xs(this.o,this.h,this.container,this.iteratorType)}},r=class extends o.HashContainer{constructor(n=[]){super();let a=this;n.forEach(function(h){a.setElement(h[0],h[1])})}begin(){return new i(this.p,this.h,this)}end(){return new i(this.h,this.h,this)}rBegin(){return new i(this._,this.h,this,1)}rEnd(){return new i(this.h,this.h,this,1)}front(){if(0!==this.i)return[this.p.u,this.p.l]}back(){if(0!==this.i)return[this._.u,this._.l]}setElement(n,a,h){return this.M(n,a,h)}getElementByKey(n,a){if(void 0===a&&(a=(0,t.default)(n)),a){let d=n[this.HASH_TAG];return void 0!==d?this.H[d].l:void 0}let h=this.g[n];return h?h.l:void 0}getElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let a=this.p;for(;n--;)a=a.B;return[a.u,a.l]}find(n,a){let h=this.I(n,a);return new i(h,this.h,this)}forEach(n){let a=0,h=this.p;for(;h!==this.h;)n([h.u,h.l],a++,this),h=h.B}[Symbol.iterator](){return function*(){let n=this.p;for(;n!==this.h;)yield[n.u,n.l],n=n.B}.bind(this)()}};e.default=r}),hl=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),Object.defineProperty(e,"Deque",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"HashMap",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"HashSet",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"LinkList",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"OrderedMap",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"OrderedSet",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"PriorityQueue",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"Queue",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"Stack",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return u.default}});var o=d(Za()),t=d(el()),l=d(tl()),u=d(rl()),i=d(il()),r=d(nl()),s=d(sl()),n=d(al()),a=d(ll()),h=d(ul());function d(p){return p&&p.t?p:{default:p}}}),cl=ce((e,o)=>{ie(),oe(),ne();var t=hl().OrderedSet,l=ht()("number-allocator:trace"),u=ht()("number-allocator:error");function i(s,n){this.low=s,this.high=n}function r(s,n){if(!(this instanceof r))return new r(s,n);this.min=s,this.max=n,this.ss=new t([],(a,h)=>a.compare(h)),l("Create"),this.clear()}i.prototype.equals=function(s){return this.low===s.low&&this.high===s.high},i.prototype.compare=function(s){return this.low<s.low&&this.high<s.low?-1:s.low<this.low&&s.high<this.low?1:0},r.prototype.firstVacant=function(){return 0===this.ss.size()?null:this.ss.front().low},r.prototype.alloc=function(){if(0===this.ss.size())return l("alloc():empty"),null;let s=this.ss.begin(),n=s.pointer.low,a=s.pointer.high,h=n;return h+1<=a?this.ss.updateKeyByIterator(s,new i(n+1,a)):this.ss.eraseElementByPos(0),l("alloc():"+h),h},r.prototype.use=function(s){let n=new i(s,s),a=this.ss.lowerBound(n);if(!a.equals(this.ss.end())){let h=a.pointer.low,d=a.pointer.high;return a.pointer.equals(n)?(this.ss.eraseElementByIterator(a),l("use():"+s),!0):!(h>s||(h===s?(this.ss.updateKeyByIterator(a,new i(h+1,d)),l("use():"+s),0):d===s?(this.ss.updateKeyByIterator(a,new i(h,d-1)),l("use():"+s),0):(this.ss.updateKeyByIterator(a,new i(s+1,d)),this.ss.insert(new i(h,s-1)),l("use():"+s),0)))}return l("use():failed"),!1},r.prototype.free=function(s){if(s<this.min||s>this.max)return void u("free():"+s+" is out of range");let n=new i(s,s),a=this.ss.upperBound(n);if(a.equals(this.ss.end())){if(a.equals(this.ss.begin()))return void this.ss.insert(n);a.pre(),a.pointer.high+1===s?this.ss.updateKeyByIterator(a,new i(a.pointer.high,s)):this.ss.insert(n)}else if(a.equals(this.ss.begin()))s+1===a.pointer.low?this.ss.updateKeyByIterator(a,new i(s,a.pointer.high)):this.ss.insert(n);else{let h=a.pointer.low,d=a.pointer.high;a.pre();let p=a.pointer.low;a.pointer.high+1===s?s+1===h?(this.ss.eraseElementByIterator(a),this.ss.updateKeyByIterator(a,new i(p,d))):this.ss.updateKeyByIterator(a,new i(p,s)):s+1===h?(this.ss.eraseElementByIterator(a.next()),this.ss.insert(new i(s,d))):this.ss.insert(n)}l("free():"+s)},r.prototype.clear=function(){l("clear()"),this.ss.clear(),this.ss.insert(new i(this.min,this.max))},r.prototype.intervalCount=function(){return this.ss.size()},r.prototype.dump=function(){console.log("length:"+this.ss.size());for(let s of this.ss)console.log(s)},o.exports=r}),Mo=ce((e,o)=>{ie(),oe(),ne();var t=cl();o.exports.NumberAllocator=t}),fl=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"__esModule",{value:!0});var o=Xa(),t=Mo();e.default=class{constructor(u){u>0&&(this.aliasToTopic=new o.LRUCache({max:u}),this.topicToAlias={},this.numberAllocator=new t.NumberAllocator(1,u),this.max=u,this.length=0)}put(u,i){if(0===i||i>this.max)return!1;let r=this.aliasToTopic.get(i);return r&&delete this.topicToAlias[r],this.aliasToTopic.set(i,u),this.topicToAlias[u]=i,this.numberAllocator.use(i),this.length=this.aliasToTopic.size,!0}getTopicByAlias(u){return this.aliasToTopic.get(u)}getAliasByTopic(u){let i=this.topicToAlias[u];return typeof i<"u"&&this.aliasToTopic.get(i),i}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}}}),dl=ce(e=>{ie(),oe(),ne();var o=e&&e.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0});var t=fr(),l=o(fl()),u=qt();e.default=(r,s)=>{r.log("_handleConnack");let{options:n}=r,a=5===n.protocolVersion?s.reasonCode:s.returnCode;if(clearTimeout(r.connackTimer),delete r.topicAliasSend,s.properties){if(s.properties.topicAliasMaximum){if(s.properties.topicAliasMaximum>65535)return void r.emit("error",new Error("topicAliasMaximum from broker is out of range"));s.properties.topicAliasMaximum>0&&(r.topicAliasSend=new l.default(s.properties.topicAliasMaximum))}s.properties.serverKeepAlive&&n.keepalive&&(n.keepalive=s.properties.serverKeepAlive),s.properties.maximumPacketSize&&(n.properties||(n.properties={}),n.properties.maximumPacketSize=s.properties.maximumPacketSize)}if(0===a)r.reconnecting=!1,r._onConnect(s);else if(a>0){let h=new u.ErrorWithReasonCode(`Connection refused: ${t.ReasonCodes[a]}`,a);r.emit("error",h)}}}),pl=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=(t,l,u)=>{t.log("handling pubrel packet");let i=typeof u<"u"?u:t.noop,{messageId:r}=l,s={cmd:"pubcomp",messageId:r};t.incomingStore.get(l,(n,a)=>{n?t._sendPacket(s,i):(t.emit("message",a.topic,a.payload,a),t.handleMessage(a,h=>{if(h)return i(h);t.incomingStore.del(a,t.noop),t._sendPacket(s,i)}))})}}),gl=ce(e=>{ie(),oe(),ne();var o=e&&e.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(e,"__esModule",{value:!0});var t=o(Qa()),l=o(Ja()),u=o(dl()),i=o(fr()),r=o(pl());e.default=(n,a,h)=>{let{options:d}=n;if(5===d.protocolVersion&&d.properties&&d.properties.maximumPacketSize&&d.properties.maximumPacketSize<a.length)return n.emit("error",new Error(`exceeding packets size ${a.cmd}`)),n.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),n;switch(n.log("_handlePacket :: emitting packetreceive"),n.emit("packetreceive",a),a.cmd){case"publish":(0,t.default)(n,a,h);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":n.reschedulePing(),(0,i.default)(n,a),h();break;case"pubrel":n.reschedulePing(),(0,r.default)(n,a,h);break;case"connack":(0,u.default)(n,a),h();break;case"auth":n.reschedulePing(),(0,l.default)(n,a),h();break;case"pingresp":n.log("_handlePacket :: received pingresp"),n.reschedulePing(!0),h();break;case"disconnect":n.emit("disconnect",a),h();break;default:n.log("_handlePacket :: unknown command"),h()}}}),yl=ce(e=>{ie(),oe(),ne();var o=e&&e.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0}),e.TypedEventEmitter=void 0;var t=o((Wt(),Re(Tt))),l=qt(),u=class{};e.TypedEventEmitter=u,(0,l.applyMixin)(u,t.default)}),dr=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"__esModule",{value:!0}),e.isReactNativeBrowser=e.isWebWorker=void 0;var i,t=()=>{var i,r;return!("object"!=typeof self||null===(r=null===(i=self?.constructor)||void 0===i?void 0:i.name)||void 0===r||!r.includes("WorkerGlobalScope"))},l=()=>typeof navigator<"u"&&"ReactNative"===navigator.product,u=typeof window<"u"&&(typeof navigator<"u"&&(null===(i=navigator.userAgent)||void 0===i?void 0:i.toLowerCase().indexOf(" electron/"))>-1&&null!=Ae&&Ae.versions?!Object.prototype.hasOwnProperty.call(Ae.versions,"electron"):typeof window.document<"u")||t()||l();e.isWebWorker=t(),e.isReactNativeBrowser=l(),e.default=u}),ml=ce((e,o)=>{var t,l;ie(),oe(),ne(),t=e,l=function(t){var m,i=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,r=536870912,s=2*r,a=new WeakMap,d=function(m,w){return function(g){var v=w.get(g),_=void 0===v?g.size:v<s?v+1:0;if(!g.has(_))return m(g,_);if(g.size<r){for(;g.has(_);)_=Math.floor(Math.random()*s);return m(g,_)}if(g.size>i)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;g.has(_);)_=Math.floor(Math.random()*i);return m(g,_)}}((m=a,function(w,g){return m.set(w,g),g}),a),p=function(m){return function(w){var g=m(w);return w.add(g),g}}(d);t.addUniqueNumber=p,t.generateUniqueNumber=d},"object"==typeof e&&typeof o<"u"?l(e):"function"==typeof define&&tt.amdO?define(["exports"],l):l((t=typeof globalThis<"u"?globalThis:t||self).fastUniqueNumbers={})}),bl=ce((e,o)=>{var t,l;ie(),oe(),ne(),t=e,l=function(t,l){t.load=function(s){var n=new Map([[0,function(){}]]),a=new Map([[0,function(){}]]),h=new Map,d=new Worker(s);return d.addEventListener("message",function(v){var _=v.data;if(function(s){return void 0!==s.method&&"call"===s.method}(_)){var S=_.params,E=S.timerId,C=S.timerType;if("interval"===C){var U=n.get(E);if("number"==typeof U){var A=h.get(U);if(void 0===A||A.timerId!==E||A.timerType!==C)throw new Error("The timer is in an undefined state.")}else{if(!(typeof U<"u"))throw new Error("The timer is in an undefined state.");U()}}else if("timeout"===C){var O=a.get(E);if("number"==typeof O){var M=h.get(O);if(void 0===M||M.timerId!==E||M.timerType!==C)throw new Error("The timer is in an undefined state.")}else{if(!(typeof O<"u"))throw new Error("The timer is in an undefined state.");O(),a.delete(E)}}}else{if(!function(s){return null===s.error&&"number"==typeof s.id}(_))throw new Error(_.error.message);var W=_.id,G=h.get(W);if(void 0===G)throw new Error("The timer is in an undefined state.");var Z=G.timerId,P=G.timerType;h.delete(W),"interval"===P?n.delete(Z):a.delete(Z)}}),{clearInterval:function(v){var _=l.generateUniqueNumber(h);h.set(_,{timerId:v,timerType:"interval"}),n.set(v,_),d.postMessage({id:_,method:"clear",params:{timerId:v,timerType:"interval"}})},clearTimeout:function(v){var _=l.generateUniqueNumber(h);h.set(_,{timerId:v,timerType:"timeout"}),a.set(v,_),d.postMessage({id:_,method:"clear",params:{timerId:v,timerType:"timeout"}})},setInterval:function(v){var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,S=l.generateUniqueNumber(n);return n.set(S,function(){v(),"function"==typeof n.get(S)&&d.postMessage({id:null,method:"set",params:{delay:_,now:performance.now(),timerId:S,timerType:"interval"}})}),d.postMessage({id:null,method:"set",params:{delay:_,now:performance.now(),timerId:S,timerType:"interval"}}),S},setTimeout:function(v){var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,S=l.generateUniqueNumber(a);return a.set(S,v),d.postMessage({id:null,method:"set",params:{delay:_,now:performance.now(),timerId:S,timerType:"timeout"}}),S}}}},"object"==typeof e&&typeof o<"u"?l(e,ml()):"function"==typeof define&&tt.amdO?define(["exports","fast-unique-numbers"],l):l((t=typeof globalThis<"u"?globalThis:t||self).workerTimersBroker={},t.fastUniqueNumbers)}),wl=ce((e,o)=>{var t,l;ie(),oe(),ne(),t=e,l=function(t,l){var d,m,r=(d=l.load,m=null,function(){if(null!==m)return m;var w=new Blob(['(()=>{var e={472:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error(\'The given type "\'.concat(c,\'" is not supported\'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error(\'The given method "\'.concat(t.method,\'" is not supported\'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error(\'The given type "\'.concat(v,\'" is not supported\'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();'],{type:"application/javascript; charset=utf-8"}),g=URL.createObjectURL(w);return m=d(g),setTimeout(function(){return URL.revokeObjectURL(g)}),m});t.clearInterval=function(d){return r().clearInterval(d)},t.clearTimeout=function(d){return r().clearTimeout(d)},t.setInterval=function(){var d;return(d=r()).setInterval.apply(d,arguments)},t.setTimeout=function(){var d;return(d=r()).setTimeout.apply(d,arguments)}},"object"==typeof e&&typeof o<"u"?l(e,bl()):"function"==typeof define&&tt.amdO?define(["exports","worker-timers-broker"],l):l((t=typeof globalThis<"u"?globalThis:t||self).workerTimers={},t.workerTimersBroker)}),vl=ce(e=>{ie(),oe(),ne();var o=e&&e.__createBinding||(Object.create?function(a,h,d,p){void 0===p&&(p=d);var m=Object.getOwnPropertyDescriptor(h,d);(!m||("get"in m?!h.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return h[d]}}),Object.defineProperty(a,p,m)}:function(a,h,d,p){void 0===p&&(p=d),a[p]=h[d]}),t=e&&e.__setModuleDefault||(Object.create?function(a,h){Object.defineProperty(a,"default",{enumerable:!0,value:h})}:function(a,h){a.default=h}),l=e&&e.__importStar||function(a){if(a&&a.__esModule)return a;var h={};if(null!=a)for(var d in a)"default"!==d&&Object.prototype.hasOwnProperty.call(a,d)&&o(h,a,d);return t(h,a),h};Object.defineProperty(e,"__esModule",{value:!0});var u=l(dr()),i=wl(),r={set:i.setInterval,clear:i.clearInterval},s={set:(a,h)=>setInterval(a,h),clear:a=>clearInterval(a)};e.default=a=>{switch(a){case"native":return s;case"worker":return r;default:return!u.default||u.isWebWorker||u.isReactNativeBrowser?s:r}}}),Uo=ce(e=>{ie(),oe(),ne();var o=e&&e.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0});var t=o(vl());e.default=class{get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(u,i){this.destroyed=!1,this.client=u,this.timer="object"==typeof i&&"set"in i&&"clear"in i?i:(0,t.default)(i),this.setKeepalive(u.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(u){if(u*=1e3,isNaN(u)||u<=0||u>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${u}`);this._keepalive=u,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${u}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let u=Math.ceil(1.5*this._keepalive);this._keepaliveTimeoutTimestamp=Date.now()+u,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,2===this.counter?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}}}),Gi=ce(e=>{ie(),oe(),ne();var o=e&&e.__createBinding||(Object.create?function(U,A,O,M){void 0===M&&(M=O);var W=Object.getOwnPropertyDescriptor(A,O);(!W||("get"in W?!A.__esModule:W.writable||W.configurable))&&(W={enumerable:!0,get:function(){return A[O]}}),Object.defineProperty(U,M,W)}:function(U,A,O,M){void 0===M&&(M=O),U[M]=A[O]}),t=e&&e.__setModuleDefault||(Object.create?function(U,A){Object.defineProperty(U,"default",{enumerable:!0,value:A})}:function(U,A){U.default=A}),l=e&&e.__importStar||function(U){if(U&&U.__esModule)return U;var A={};if(null!=U)for(var O in U)"default"!==O&&Object.prototype.hasOwnProperty.call(U,O)&&o(A,U,O);return t(A,U),A},u=e&&e.__importDefault||function(U){return U&&U.__esModule?U:{default:U}};Object.defineProperty(e,"__esModule",{value:!0});var i=u(ua()),r=u(Va()),s=u(ko()),n=Pt(),a=u(Ka()),h=l(Ya()),d=u(ht()),p=u(Ro()),m=u(gl()),w=qt(),g=yl(),v=u(Uo()),_=l(dr()),S=globalThis.setImmediate||((...U)=>{let A=U.shift();(0,w.nextTick)(()=>{A(...U)})}),E={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0,resubscribe:!0,writeCache:!0,timerVariant:"auto"},C=class bn extends g.TypedEventEmitter{static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(A,O){super(),this.options=O||{};for(let M in E)this.options[M]=typeof this.options[M]>"u"?E[M]:O[M];this.log=this.options.log||(0,d.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",bn.VERSION),this.log("MqttClient :: environment",_.isWebWorker?"webworker":_.default?"browser":"node"),this.log("MqttClient :: options.protocol",O.protocol),this.log("MqttClient :: options.protocolVersion",O.protocolVersion),this.log("MqttClient :: options.username",O.username),this.log("MqttClient :: options.keepalive",O.keepalive),this.log("MqttClient :: options.reconnectPeriod",O.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",O.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",O.properties?O.properties.topicAliasMaximum:void 0),this.options.clientId="string"==typeof O.clientId?O.clientId:bn.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=5===O.protocolVersion&&O.customHandleAcks?O.customHandleAcks:(...M)=>{M[3](null,0)},this.options.writeCache||(r.default.writeToStream.cacheNumbers=!1),this.streamBuilder=A,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new s.default:this.options.messageIdProvider,this.outgoingStore=O.outgoingStore||new p.default,this.incomingStore=O.incomingStore||new p.default,this.queueQoSZero=void 0===O.queueQoSZero||O.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,O.properties&&O.properties.topicAliasMaximum>0&&(O.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new i.default(O.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:M}=this,W=()=>{let G=M.shift();this.log("deliver :: entry %o",G);let Z=null;if(!G)return void this._resubscribe();Z=G.packet,this.log("deliver :: call _sendPacket for %o",Z);let P=!0;Z.messageId&&0!==Z.messageId&&(this.messageIdProvider.register(Z.messageId)||(P=!1)),P?this._sendPacket(Z,F=>{G.cb&&G.cb(F),W()}):(this.log("messageId: %d has already used. The message is skipped and removed.",Z.messageId),W())};this.log("connect :: sending queued packets"),W()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(A,O){O()}handleMessage(A,O){O()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var A;let O=new n.Writable,M=r.default.parser(this.options),W=null,G=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new p.default,this.outgoingStore=this.options.outgoingStore||new p.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),M.on("packet",Y=>{this.log("parser :: on packet push to packets array."),G.push(Y)});let Z=()=>{this.log("work :: getting next packet in queue");let Y=G.shift();if(Y)this.log("work :: packet pulled from queue"),(0,m.default)(this,Y,P);else{this.log("work :: no packets in queue");let ee=W;W=null,this.log("work :: done flag is %s",!!ee),ee&&ee()}},P=()=>{if(G.length)(0,w.nextTick)(Z);else{let Y=W;W=null,Y()}};O._write=(Y,ee,ue)=>{W=ue,this.log("writable stream :: parsing buffer"),M.parse(Y),Z()},this.log("connect :: pipe stream to writable stream"),this.stream.pipe(O),this.stream.on("error",Y=>{this.log("streamErrorHandler :: error",Y.message),Y.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",Y)):this.noop(Y)}),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let J={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(J.will=Object.assign(Object.assign({},this.options.will),{payload:null===(A=this.options.will)||void 0===A?void 0:A.payload})),this.topicAliasRecv&&(J.properties||(J.properties={}),this.topicAliasRecv&&(J.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(J),M.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&"object"==typeof this.options.authPacket){let Y=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(Y)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(A,O,M,W){this.log("publish :: message `%s` to topic `%s`",O,A);let{options:G}=this;"function"==typeof M&&(W=M,M=null),M=M||{},M=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),M);let{qos:Z,retain:P,dup:F,properties:J,cbStorePut:Y}=M;if(this._checkDisconnecting(W))return this;let ee=()=>{let ue=0;if((1===Z||2===Z)&&(ue=this._nextId(),null===ue))return this.log("No messageId left"),!1;let D={cmd:"publish",topic:A,payload:O,qos:Z,retain:P,messageId:ue,dup:F};switch(5===G.protocolVersion&&(D.properties=J),this.log("publish :: qos",Z),Z){case 1:case 2:this.outgoing[D.messageId]={volatile:!1,cb:W||this.noop},this.log("MqttClient:publish: packet cmd: %s",D.cmd),this._sendPacket(D,void 0,Y);break;default:this.log("MqttClient:publish: packet cmd: %s",D.cmd),this._sendPacket(D,W,Y)}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ee())&&this._storeProcessingQueue.push({invoke:ee,cbStorePut:M.cbStorePut,callback:W}),this}publishAsync(A,O,M){return new Promise((W,G)=>{this.publish(A,O,M,(Z,P)=>{Z?G(Z):W(P)})})}subscribe(A,O,M){let W=this.options.protocolVersion;"function"==typeof O&&(M=O),M=M||this.noop;let G=!1,Z=[];"string"==typeof A?Z=A=[A]:Array.isArray(A)?Z=A:"object"==typeof A&&(G=A.resubscribe,delete A.resubscribe,Z=Object.keys(A));let P=h.validateTopics(Z);if(null!==P)return S(M,new Error(`Invalid topic ${P}`)),this;if(this._checkDisconnecting(M))return this.log("subscribe: discconecting true"),this;let F={qos:0};5===W&&(F.nl=!1,F.rap=!1,F.rh=0);let J=(O=Object.assign(Object.assign({},F),O)).properties,Y=[],ee=(D,se)=>{if(se=se||O,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,D)||this._resubscribeTopics[D].qos<se.qos||G){let te={topic:D,qos:se.qos};5===W&&(te.nl=se.nl,te.rap=se.rap,te.rh=se.rh,te.properties=J),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",te.topic,te.qos),Y.push(te)}};if(Array.isArray(A)?A.forEach(D=>{this.log("subscribe: array topic %s",D),ee(D)}):Object.keys(A).forEach(D=>{this.log("subscribe: object topic %s, %o",D,A[D]),ee(D,A[D])}),!Y.length)return M(null,[]),this;let ue=()=>{let D=this._nextId();if(null===D)return this.log("No messageId left"),!1;let se={cmd:"subscribe",subscriptions:Y,messageId:D};if(J&&(se.properties=J),this.options.resubscribe){this.log("subscribe :: resubscribe true");let te=[];Y.forEach(de=>{if(this.options.reconnectPeriod>0){let k={qos:de.qos};5===W&&(k.nl=de.nl||!1,k.rap=de.rap||!1,k.rh=de.rh||0,k.properties=de.properties),this._resubscribeTopics[de.topic]=k,te.push(de.topic)}}),this.messageIdToTopic[se.messageId]=te}return this.outgoing[se.messageId]={volatile:!0,cb(te,de){if(!te){let{granted:k}=de;for(let he=0;he<k.length;he+=1)Y[he].qos=k[he]}M(te,Y,de)}},this.log("subscribe :: call _sendPacket"),this._sendPacket(se),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ue())&&this._storeProcessingQueue.push({invoke:ue,callback:M}),this}subscribeAsync(A,O){return new Promise((M,W)=>{this.subscribe(A,O,(G,Z)=>{G?W(G):M(Z)})})}unsubscribe(A,O,M){"string"==typeof A&&(A=[A]),"function"==typeof O&&(M=O),M=M||this.noop;let W=h.validateTopics(A);if(null!==W)return S(M,new Error(`Invalid topic ${W}`)),this;if(this._checkDisconnecting(M))return this;let G=()=>{let Z=this._nextId();if(null===Z)return this.log("No messageId left"),!1;let P={cmd:"unsubscribe",messageId:Z,unsubscriptions:[]};return"string"==typeof A?P.unsubscriptions=[A]:Array.isArray(A)&&(P.unsubscriptions=A),this.options.resubscribe&&P.unsubscriptions.forEach(F=>{delete this._resubscribeTopics[F]}),"object"==typeof O&&O.properties&&(P.properties=O.properties),this.outgoing[P.messageId]={volatile:!0,cb:M},this.log("unsubscribe: call _sendPacket"),this._sendPacket(P),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!G())&&this._storeProcessingQueue.push({invoke:G,callback:M}),this}unsubscribeAsync(A,O){return new Promise((M,W)=>{this.unsubscribe(A,O,(G,Z)=>{G?W(G):M(Z)})})}end(A,O,M){this.log("end :: (%s)",this.options.clientId),(null==A||"boolean"!=typeof A)&&(M=M||O,O=A,A=!1),"object"!=typeof O&&(M=M||O,O=null),this.log("end :: cb? %s",!!M),(!M||"function"!=typeof M)&&(M=this.noop);let W=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(Z=>{this.outgoingStore.close(P=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),M){let F=Z||P;this.log("end :: closeStores: invoking callback with args"),M(F)}})}),this._deferredReconnect?this._deferredReconnect():(0===this.options.reconnectPeriod||this.options.manualConnect)&&(this.disconnecting=!1)},G=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,A),this._cleanUp(A,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,w.nextTick)(W)},O)};return this.disconnecting?(M(),this):(this._clearReconnect(),this.disconnecting=!0,!A&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,G,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),G()),this)}endAsync(A,O){return new Promise((M,W)=>{this.end(A,O,G=>{G?W(G):M()})})}removeOutgoingMessage(A){if(this.outgoing[A]){let{cb:O}=this.outgoing[A];this._removeOutgoingAndStoreMessage(A,()=>{O(new Error("Message removed"))})}return this}reconnect(A){this.log("client reconnect");let O=()=>{A?(this.options.incomingStore=A.incomingStore,this.options.outgoingStore=A.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new p.default,this.outgoingStore=this.options.outgoingStore||new p.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=O:O(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(A=>{this.outgoing[A].volatile&&"function"==typeof this.outgoing[A].cb&&(this.outgoing[A].cb(new Error("Connection closed")),delete this.outgoing[A])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(A=>{"function"==typeof this.outgoing[A].cb&&(this.outgoing[A].cb(new Error("Connection closed")),delete this.outgoing[A])}))}_removeTopicAliasAndRecoverTopicName(A){let O;A.properties&&(O=A.properties.topicAlias);let M=A.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",O,M),0===M.length){if(typeof O>"u")return new Error("Unregistered Topic Alias");if(M=this.topicAliasSend.getTopicByAlias(O),typeof M>"u")return new Error("Unregistered Topic Alias");A.topic=M}O&&delete A.properties.topicAlias}_checkDisconnecting(A){return this.disconnecting&&(A&&A!==this.noop?A(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(A,O,M={}){if(O&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",O)),this.log("_cleanUp :: forced? %s",A),A)0===this.options.reconnectPeriod&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let W=Object.assign({cmd:"disconnect"},M);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(W,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),S(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),O&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",O),O())}_storeAndSend(A,O,M){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",A.cmd);let G,W=A;if("publish"===W.cmd&&(W=(0,a.default)(A),G=this._removeTopicAliasAndRecoverTopicName(W),G))return O&&O(G);this.outgoingStore.put(W,Z=>{if(Z)return O&&O(Z);M(),this._writePacket(A,O)})}_applyTopicAlias(A){if(5===this.options.protocolVersion&&"publish"===A.cmd){let O;A.properties&&(O=A.properties.topicAlias);let M=A.topic.toString();if(this.topicAliasSend)if(O){if(0!==M.length&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",M,O),!this.topicAliasSend.put(M,O)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",M,O),new Error("Sending Topic Alias out of range")}else 0!==M.length&&(this.options.autoAssignTopicAlias?(O=this.topicAliasSend.getAliasByTopic(M),O?(A.topic="",A.properties=Object.assign(Object.assign({},A.properties),{topicAlias:O}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",M,O)):(O=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(M,O),A.properties=Object.assign(Object.assign({},A.properties),{topicAlias:O}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",M,O))):this.options.autoUseTopicAlias&&(O=this.topicAliasSend.getAliasByTopic(M),O&&(A.topic="",A.properties=Object.assign(Object.assign({},A.properties),{topicAlias:O}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",M,O))));else if(O)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",M,O),new Error("Sending Topic Alias out of range")}}_noop(A){this.log("noop ::",A)}_writePacket(A,O){this.log("_writePacket :: packet: %O",A),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",A),this.log("_writePacket :: writing to stream");let M=r.default.writeToStream(A,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",M),!M&&O&&O!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",O)):O&&(this.log("_writePacket :: invoking cb"),O())}_sendPacket(A,O,M,W){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),M=M||this.noop,O=O||this.noop;let G=this._applyTopicAlias(A);if(G)O(G);else{if(!this.connected)return"auth"===A.cmd?void this._writePacket(A,O):(this.log("_sendPacket :: client not connected. Storing packet offline."),void this._storePacket(A,O,M));if(W)this._writePacket(A,O);else{switch(A.cmd){case"publish":break;case"pubrel":return void this._storeAndSend(A,O,M);default:return void this._writePacket(A,O)}switch(A.qos){case 2:case 1:this._storeAndSend(A,O,M);break;default:this._writePacket(A,O)}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}}}_storePacket(A,O,M){this.log("_storePacket :: packet: %o",A),this.log("_storePacket :: cb? %s",!!O),M=M||this.noop;let W=A;if("publish"===W.cmd){W=(0,a.default)(A);let Z=this._removeTopicAliasAndRecoverTopicName(W);if(Z)return O&&O(Z)}let G=W.qos||0;0===G&&this.queueQoSZero||"publish"!==W.cmd?this.queue.push({packet:W,cb:O}):G>0?(O=this.outgoing[W.messageId]?this.outgoing[W.messageId].cb:null,this.outgoingStore.put(W,Z=>{if(Z)return O&&O(Z);M()})):O&&O(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new v.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(A=!1){this.keepaliveManager&&this.options.keepalive&&(A||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let A=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&A.length>0)if(this.options.resubscribe)if(5===this.options.protocolVersion){this.log("_resubscribe: protocolVersion 5");for(let O=0;O<A.length;O++){let M={};M[A[O]]=this._resubscribeTopics[A[O]],M.resubscribe=!0,this.subscribe(M,{properties:M[A[O]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(A){if(this.disconnected)return void this.emit("connect",A);this.connackPacket=A,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let O=()=>{let M=this.outgoingStore.createStream(),W=()=>{M.destroy(),M=null,this._flushStoreProcessingQueue(),G()},G=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",W),M.on("error",P=>{G(),this._flushStoreProcessingQueue(),this.removeListener("close",W),this.emit("error",P)});let Z=()=>{if(!M)return;let F,P=M.read(1);P?(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[P.messageId]?Z():this.disconnecting||this.reconnectTimer?M.destroy&&M.destroy():(F=this.outgoing[P.messageId]?this.outgoing[P.messageId].cb:null,this.outgoing[P.messageId]={volatile:!1,cb(J,Y){F&&F(J,Y),Z()}},this._packetIdsDuringStoreProcessing[P.messageId]=!0,this.messageIdProvider.register(P.messageId)?this._sendPacket(P,void 0,void 0,!0):this.log("messageId: %d has already used.",P.messageId))):M.once("readable",Z)};M.on("end",()=>{let P=!0;for(let F in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[F]){P=!1;break}this.removeListener("close",W),P?(G(),this._invokeAllStoreProcessingQueue(),this.emit("connect",A)):O()}),Z()};O()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let A=this._storeProcessingQueue[0];if(A&&A.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let A of this._storeProcessingQueue)A.cbStorePut&&A.cbStorePut(new Error("Connection closed")),A.callback&&A.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(A,O){delete this.outgoing[A],this.outgoingStore.del({messageId:A},(M,W)=>{O(M,W),this.messageIdProvider.deallocate(A),this._invokeStoreProcessingQueue()})}};C.VERSION=w.MQTTJS_VERSION,e.default=C}),_l=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"__esModule",{value:!0});var o=Mo();e.default=class{constructor(){this.numberAllocator=new o.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(l){return this.numberAllocator.use(l)}deallocate(l){this.numberAllocator.free(l)}clear(){this.numberAllocator.clear()}}});function Bt(e){throw new RangeError(Wo[e])}function Lo(e,o){let t=e.split("@"),l="";return t.length>1&&(l=t[0]+"@",e=t[1]),l+function(i,r){let s=[],n=i.length;for(;n--;)s[n]=r(i[n]);return s}((e=e.replace(Fo,".")).split("."),o).join(".")}function jo(e){let o=[],t=0,l=e.length;for(;t<l;){let u=e.charCodeAt(t++);if(u>=55296&&u<=56319&&t<l){let i=e.charCodeAt(t++);56320==(64512&i)?o.push(((1023&u)<<10)+(1023&i)+65536):(o.push(u),t--)}else o.push(u)}return o}var No,Do,Fo,Wo,Qe,pr,Ji,Xi,Zi,en,vt,El=Le(()=>{ie(),oe(),ne(),No=/^xn--/,Do=/[^\0-\x7E]/,Fo=/[\x2E\u3002\uFF0E\uFF61]/g,Wo={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Qe=Math.floor,pr=String.fromCharCode,Ji=function(e,o){return e+22+75*(e<26)-((0!=o)<<5)},Xi=function(e,o,t){let l=0;for(e=t?Qe(e/700):e>>1,e+=Qe(e/o);e>455;l+=36)e=Qe(e/35);return Qe(l+36*e/(e+38))},en=function(e){let o=[],t=(e=jo(e)).length,l=128,u=0,i=72;for(let n of e)n<128&&o.push(pr(n));let r=o.length,s=r;for(r&&o.push("-");s<t;){let n=2147483647;for(let h of e)h>=l&&h<n&&(n=h);let a=s+1;n-l>Qe((2147483647-u)/a)&&Bt("overflow"),u+=(n-l)*a,l=n;for(let h of e)if(h<l&&++u>2147483647&&Bt("overflow"),h==l){let d=u;for(let p=36;;p+=36){let m=p<=i?1:p>=i+26?26:p-i;if(d<m)break;let w=d-m,g=36-m;o.push(pr(Ji(m+w%g,0))),d=Qe(w/g)}o.push(pr(Ji(d,0))),i=Xi(u,a,s==r),u=0,++s}++u,++l}return o.join("")},vt={version:"2.1.0",ucs2:{decode:jo,encode:e=>String.fromCodePoint(...e)},decode:Zi=function(e){let o=[],t=e.length,l=0,u=128,i=72,r=e.lastIndexOf("-");r<0&&(r=0);for(let n=0;n<r;++n)e.charCodeAt(n)>=128&&Bt("not-basic"),o.push(e.charCodeAt(n));for(let n=r>0?r+1:0;n<t;){let a=l;for(let d=1,p=36;;p+=36){n>=t&&Bt("invalid-input");let m=(s=e.charCodeAt(n++))-48<10?s-22:s-65<26?s-65:s-97<26?s-97:36;(m>=36||m>Qe((2147483647-l)/d))&&Bt("overflow"),l+=m*d;let w=p<=i?1:p>=i+26?26:p-i;if(m<w)break;let g=36-w;d>Qe(2147483647/g)&&Bt("overflow"),d*=g}let h=o.length+1;i=Xi(l-a,h,0==a),Qe(l/h)>2147483647-u&&Bt("overflow"),u+=Qe(l/h),l%=h,o.splice(l++,0,u)}var s;return String.fromCodePoint(...o)},encode:en,toASCII:function(e){return Lo(e,function(o){return Do.test(o)?"xn--"+en(o):o})},toUnicode:function(e){return Lo(e,function(o){return No.test(o)?Zi(o.slice(4).toLowerCase()):o})}}});function Sl(e,o){return Object.prototype.hasOwnProperty.call(e,o)}var Ht,qo,Ze,Al=Le(()=>{ie(),oe(),ne(),Ht=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},qo=function(e,o,t,l){return o=o||"&",t=t||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(u){var i=encodeURIComponent(Ht(u))+t;return Array.isArray(e[u])?e[u].map(function(r){return i+encodeURIComponent(Ht(r))}).join(o):i+encodeURIComponent(Ht(e[u]))}).join(o):l?encodeURIComponent(Ht(l))+t+encodeURIComponent(Ht(e)):""},(Ze={}).decode=Ze.parse=function(e,o,t,l){t=t||"=";var u={};if("string"!=typeof e||0===e.length)return u;var i=/\+/g;e=e.split(o=o||"&");var r=1e3;l&&"number"==typeof l.maxKeys&&(r=l.maxKeys);var s=e.length;r>0&&s>r&&(s=r);for(var n=0;n<s;++n){var a,h,d,p,m=e[n].replace(i,"%20"),w=m.indexOf(t);w>=0?(a=m.substr(0,w),h=m.substr(w+1)):(a=m,h=""),d=decodeURIComponent(a),p=decodeURIComponent(h),Sl(u,d)?Array.isArray(u[d])?u[d].push(p):u[d]=[u[d],p]:u[d]=p}return u},Ze.encode=Ze.stringify=qo});function tn(){throw new Error("setTimeout has not been defined")}function rn(){throw new Error("clearTimeout has not been defined")}function Ho(e){if(pt===setTimeout)return setTimeout(e,0);if((pt===tn||!pt)&&setTimeout)return pt=setTimeout,setTimeout(e,0);try{return pt(e,0)}catch{try{return pt.call(null,e,0)}catch{return pt.call(this||xt,e,0)}}}function Il(){Ut&&Mt&&(Ut=!1,Mt.length?et=Mt.concat(et):Jt=-1,et.length&&Vo())}function Vo(){if(!Ut){var e=Ho(Il);Ut=!0;for(var o=et.length;o;){for(Mt=et,et=[];++Jt<o;)Mt&&Mt[Jt].run();Jt=-1,o=et.length}Mt=null,Ut=!1,function(t){if(gt===clearTimeout)return clearTimeout(t);if((gt===rn||!gt)&&clearTimeout)return gt=clearTimeout,clearTimeout(t);try{gt(t)}catch{try{return gt.call(null,t)}catch{return gt.call(this||xt,t)}}}(e)}}function zo(e,o){(this||xt).fun=e,(this||xt).array=o}function dt(){}var Ko,pt,gt,xt,xe,Mt,et,Ut,Jt,Be,Tl=Le(()=>{ie(),oe(),ne(),xt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,xe=Ko={},function(){try{pt="function"==typeof setTimeout?setTimeout:tn}catch{pt=tn}try{gt="function"==typeof clearTimeout?clearTimeout:rn}catch{gt=rn}}(),et=[],Ut=!1,Jt=-1,xe.nextTick=function(e){var o=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)o[t-1]=arguments[t];et.push(new zo(e,o)),1!==et.length||Ut||Ho(Vo)},zo.prototype.run=function(){(this||xt).fun.apply(null,(this||xt).array)},xe.title="browser",xe.browser=!0,xe.env={},xe.argv=[],xe.version="",xe.versions={},xe.on=dt,xe.addListener=dt,xe.once=dt,xe.off=dt,xe.removeListener=dt,xe.removeAllListeners=dt,xe.emit=dt,xe.prependListener=dt,xe.prependOnceListener=dt,xe.listeners=function(e){return[]},xe.binding=function(e){throw new Error("process.binding is not supported")},xe.cwd=function(){return"/"},xe.chdir=function(e){throw new Error("process.chdir is not supported")},xe.umask=function(){return 0},Be=Ko});var gr,nn,Lt,Oe,yr,on,sn,Yo=Le(()=>{ie(),oe(),ne(),gr={},nn=!1,Lt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,(Oe=function kl(){if(nn)return gr;nn=!0;var o,t,e=gr={};function l(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function i(g){if(o===setTimeout)return setTimeout(g,0);if((o===l||!o)&&setTimeout)return o=setTimeout,setTimeout(g,0);try{return o(g,0)}catch{try{return o.call(null,g,0)}catch{return o.call(this||Lt,g,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:l}catch{o=l}try{t="function"==typeof clearTimeout?clearTimeout:u}catch{t=u}}();var a,s=[],n=!1,h=-1;function d(){!n||!a||(n=!1,a.length?s=a.concat(s):h=-1,s.length&&p())}function p(){if(!n){var g=i(d);n=!0;for(var v=s.length;v;){for(a=s,s=[];++h<v;)a&&a[h].run();h=-1,v=s.length}a=null,n=!1,function r(g){if(t===clearTimeout)return clearTimeout(g);if((t===u||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(g);try{return t(g)}catch{try{return t.call(null,g)}catch{return t.call(this||Lt,g)}}}(g)}}function m(g,v){(this||Lt).fun=g,(this||Lt).array=v}function w(){}return e.nextTick=function(g){var v=new Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)v[_-1]=arguments[_];s.push(new m(g,v)),1===s.length&&!n&&i(p)},m.prototype.run=function(){(this||Lt).fun.apply(null,(this||Lt).array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=w,e.addListener=w,e.once=w,e.off=w,e.removeListener=w,e.removeAllListeners=w,e.emit=w,e.prependListener=w,e.prependOnceListener=w,e.listeners=function(g){return[]},e.binding=function(g){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(g){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},gr}()).platform="browser"}),Ol=Le(()=>{ie(),oe(),ne(),Yo(),yr={},on=!1,sn=function Rl(){if(on)return yr;on=!0;var e=Oe;function o(i){if("string"!=typeof i)throw new TypeError("Path must be a string. Received "+JSON.stringify(i))}function t(i,r){for(var d,s="",n=0,a=-1,h=0,p=0;p<=i.length;++p){if(p<i.length)d=i.charCodeAt(p);else{if(47===d)break;d=47}if(47===d){if(a!==p-1&&1!==h)if(a!==p-1&&2===h){if(s.length<2||2!==n||46!==s.charCodeAt(s.length-1)||46!==s.charCodeAt(s.length-2))if(s.length>2){var m=s.lastIndexOf("/");if(m!==s.length-1){-1===m?(s="",n=0):n=(s=s.slice(0,m)).length-1-s.lastIndexOf("/"),a=p,h=0;continue}}else if(2===s.length||1===s.length){s="",n=0,a=p,h=0;continue}r&&(s.length>0?s+="/..":s="..",n=2)}else s.length>0?s+="/"+i.slice(a+1,p):s=i.slice(a+1,p),n=p-a-1;a=p,h=0}else 46===d&&-1!==h?++h:h=-1}return s}var u={resolve:function(){for(var s,i="",r=!1,n=arguments.length-1;n>=-1&&!r;n--){var a;n>=0?a=arguments[n]:(void 0===s&&(s=e.cwd()),a=s),o(a),0!==a.length&&(i=a+"/"+i,r=47===a.charCodeAt(0))}return i=t(i,!r),r?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(i){if(o(i),0===i.length)return".";var r=47===i.charCodeAt(0),s=47===i.charCodeAt(i.length-1);return 0===(i=t(i,!r)).length&&!r&&(i="."),i.length>0&&s&&(i+="/"),r?"/"+i:i},isAbsolute:function(i){return o(i),i.length>0&&47===i.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var i,r=0;r<arguments.length;++r){var s=arguments[r];o(s),s.length>0&&(void 0===i?i=s:i+="/"+s)}return void 0===i?".":u.normalize(i)},relative:function(i,r){if(o(i),o(r),i===r||(i=u.resolve(i))===(r=u.resolve(r)))return"";for(var s=1;s<i.length&&47===i.charCodeAt(s);++s);for(var n=i.length,a=n-s,h=1;h<r.length&&47===r.charCodeAt(h);++h);for(var p=r.length-h,m=a<p?a:p,w=-1,g=0;g<=m;++g){if(g===m){if(p>m){if(47===r.charCodeAt(h+g))return r.slice(h+g+1);if(0===g)return r.slice(h+g)}else a>m&&(47===i.charCodeAt(s+g)?w=g:0===g&&(w=0));break}var v=i.charCodeAt(s+g);if(v!==r.charCodeAt(h+g))break;47===v&&(w=g)}var S="";for(g=s+w+1;g<=n;++g)(g===n||47===i.charCodeAt(g))&&(S+=0===S.length?"..":"/..");return S.length>0?S+r.slice(h+w):(47===r.charCodeAt(h+=w)&&++h,r.slice(h))},_makeLong:function(i){return i},dirname:function(i){if(o(i),0===i.length)return".";for(var r=i.charCodeAt(0),s=47===r,n=-1,a=!0,h=i.length-1;h>=1;--h)if(47===(r=i.charCodeAt(h))){if(!a){n=h;break}}else a=!1;return-1===n?s?"/":".":s&&1===n?"//":i.slice(0,n)},basename:function(i,r){if(void 0!==r&&"string"!=typeof r)throw new TypeError('"ext" argument must be a string');o(i);var h,s=0,n=-1,a=!0;if(void 0!==r&&r.length>0&&r.length<=i.length){if(r.length===i.length&&r===i)return"";var d=r.length-1,p=-1;for(h=i.length-1;h>=0;--h){var m=i.charCodeAt(h);if(47===m){if(!a){s=h+1;break}}else-1===p&&(a=!1,p=h+1),d>=0&&(m===r.charCodeAt(d)?-1==--d&&(n=h):(d=-1,n=p))}return s===n?n=p:-1===n&&(n=i.length),i.slice(s,n)}for(h=i.length-1;h>=0;--h)if(47===i.charCodeAt(h)){if(!a){s=h+1;break}}else-1===n&&(a=!1,n=h+1);return-1===n?"":i.slice(s,n)},extname:function(i){o(i);for(var r=-1,s=0,n=-1,a=!0,h=0,d=i.length-1;d>=0;--d){var p=i.charCodeAt(d);if(47!==p)-1===n&&(a=!1,n=d+1),46===p?-1===r?r=d:1!==h&&(h=1):-1!==r&&(h=-1);else if(!a){s=d+1;break}}return-1===r||-1===n||0===h||1===h&&r===n-1&&r===s+1?"":i.slice(r,n)},format:function(i){if(null===i||"object"!=typeof i)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof i);return function l(i,r){var s=r.dir||r.root,n=r.base||(r.name||"")+(r.ext||"");return s?s===r.root?s+n:s+i+n:n}("/",i)},parse:function(i){o(i);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===i.length)return r;var a,s=i.charCodeAt(0),n=47===s;n?(r.root="/",a=1):a=0;for(var h=-1,d=0,p=-1,m=!0,w=i.length-1,g=0;w>=a;--w)if(47!==(s=i.charCodeAt(w)))-1===p&&(m=!1,p=w+1),46===s?-1===h?h=w:1!==g&&(g=1):-1!==h&&(g=-1);else if(!m){d=w+1;break}return-1===h||-1===p||0===g||1===g&&h===p-1&&h===d+1?-1!==p&&(r.base=r.name=i.slice(0===d&&n?1:d,p)):(0===d&&n?(r.name=i.slice(1,h),r.base=i.slice(1,p)):(r.name=i.slice(d,h),r.base=i.slice(d,p)),r.ext=i.slice(h,p)),d>0?r.dir=i.slice(0,d-1):n&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};return u.posix=u,yr=u}()}),Qo={};function ze(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function Xt(e,o,t){if(e&&Ge.isObject(e)&&e instanceof ze)return e;var l=new ze;return l.parse(e,o,t),l}function Pl(e){if("string"==typeof e)e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if("file:"!==e.protocol)throw new Deno.errors.InvalidData("invalid url scheme");return _r?function Bl(e){let o=e.hostname,t=e.pathname;for(let l=0;l<t.length;l++)if("%"===t[l]){let u=t.codePointAt(l+2)||32;if("2"===t[l+1]&&102===u||"5"===t[l+1]&&99===u)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(t=t.replace(hs,"\\"),t=decodeURIComponent(t),""!==o)return`\\\\${o}${t}`;{let l=32|t.codePointAt(1);if(l<ls||l>us||":"!==t[2])throw new Deno.errors.InvalidData("file url path must be absolute");return t.slice(1)}}(e):function xl(e){if(""!==e.hostname)throw new Deno.errors.InvalidData("invalid file url hostname");let o=e.pathname;for(let t=0;t<o.length;t++)if("%"===o[t]){let l=o.codePointAt(t+2)||32;if("2"===o[t+1]&&102===l)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(o)}(e)}function Ml(e){let o=cn.resolve(e),t=e.charCodeAt(e.length-1);(t===as||_r&&t===ss)&&o[o.length-1]!==cn.sep&&(o+="/");let l=new URL("file://");return o.includes("%")&&(o=o.replace(cs,"%25")),!_r&&o.includes("\\")&&(o=o.replace(fs,"%5C")),o.includes("\n")&&(o=o.replace(ds,"%0A")),o.includes("\r")&&(o=o.replace(ps,"%0D")),o.includes("\t")&&(o=o.replace(gs,"%09")),l.pathname=o,l}function Go(e){if("string"==typeof e)e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if("file:"!==e.protocol)throw new Deno.errors.InvalidData("invalid url scheme");return Er?function Ul(e){let o=e.hostname,t=e.pathname;for(let l=0;l<t.length;l++)if("%"===t[l]){let u=t.codePointAt(l+2)||32;if("2"===t[l+1]&&102===u||"5"===t[l+1]&&99===u)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(t=t.replace(ks,"\\"),t=decodeURIComponent(t),""!==o)return`\\\\${o}${t}`;{let l=32|t.codePointAt(1);if(l<Is||l>Ts||":"!==t[2])throw new Deno.errors.InvalidData("file url path must be absolute");return t.slice(1)}}(e):function Ll(e){if(""!==e.hostname)throw new Deno.errors.InvalidData("invalid file url hostname");let o=e.pathname;for(let t=0;t<o.length;t++)if("%"===o[t]){let l=o.codePointAt(t+2)||32;if("2"===o[t+1]&&102===l)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(o)}(e)}function Jo(e){let o=sn.resolve(e),t=e.charCodeAt(e.length-1);(t===As||Er&&t===Ss)&&o[o.length-1]!==sn.sep&&(o+="/");let l=new URL("file://");return o.includes("%")&&(o=o.replace(Rs,"%25")),!Er&&o.includes("\\")&&(o=o.replace(Os,"%5C")),o.includes("\n")&&(o=o.replace(Cs,"%0A")),o.includes("\r")&&(o=o.replace(Ps,"%0D")),o.includes("\t")&&(o=o.replace(Bs,"%09")),l.pathname=o,l}_t(Qo,{URL:()=>Es,Url:()=>ms,default:()=>ke,fileURLToPath:()=>Go,format:()=>bs,parse:()=>_s,pathToFileURL:()=>Jo,resolve:()=>ws,resolveObject:()=>vs});var ke,Xo,Ge,Zo,es,ts,rs,mr,an,ln,un,is,ns,br,jt,wr,vr,hn,cn,os,ss,as,ls,us,_r,hs,cs,fs,ds,ps,gs,ys,ms,bs,ws,vs,_s,Es,Ss,As,Is,Ts,Er,ks,Rs,Os,Cs,Ps,Bs,jl=Le(()=>{ie(),oe(),ne(),El(),Al(),Tl(),Ol(),Yo(),Xo=vt,Ge={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}},(ke={}).parse=Xt,ke.resolve=function(e,o){return Xt(e,!1,!0).resolve(o)},ke.resolveObject=function(e,o){return e?Xt(e,!1,!0).resolveObject(o):o},ke.format=function(e){return Ge.isString(e)&&(e=Xt(e)),e instanceof ze?e.format():ze.prototype.format.call(e)},ke.Url=ze,Zo=/^([a-z0-9.+-]+:)/i,es=/:[0-9]*$/,ts=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,rs=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),mr=["'"].concat(rs),an=["%","/","?",";","#"].concat(mr),ln=["/","?","#"],un=/^[+a-z0-9A-Z_-]{0,63}$/,is=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ns={javascript:!0,"javascript:":!0},br={javascript:!0,"javascript:":!0},jt={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},wr=Ze,ze.prototype.parse=function(e,o,t){if(!Ge.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var l=e.indexOf("?"),u=-1!==l&&l<e.indexOf("#")?"?":"#",i=e.split(u);i[0]=i[0].replace(/\\/g,"/");var r=e=i.join(u);if(r=r.trim(),!t&&1===e.split("#").length){var s=ts.exec(r);if(s)return this.path=r,this.href=r,this.pathname=s[1],s[2]?(this.search=s[2],this.query=o?wr.parse(this.search.substr(1)):this.search.substr(1)):o&&(this.search="",this.query={}),this}var n=Zo.exec(r);if(n){var a=(n=n[0]).toLowerCase();this.protocol=a,r=r.substr(n.length)}if(t||n||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var h="//"===r.substr(0,2);!h||n&&br[n]||(r=r.substr(2),this.slashes=!0)}if(!br[n]&&(h||n&&!jt[n])){for(var d,p,m=-1,w=0;w<ln.length;w++)-1!==(g=r.indexOf(ln[w]))&&(-1===m||g<m)&&(m=g);for(-1!==(p=-1===m?r.lastIndexOf("@"):r.lastIndexOf("@",m))&&(d=r.slice(0,p),r=r.slice(p+1),this.auth=decodeURIComponent(d)),m=-1,w=0;w<an.length;w++){var g;-1!==(g=r.indexOf(an[w]))&&(-1===m||g<m)&&(m=g)}-1===m&&(m=r.length),this.host=r.slice(0,m),r=r.slice(m),this.parseHost(),this.hostname=this.hostname||"";var v="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!v)for(var _=this.hostname.split(/\./),S=(w=0,_.length);w<S;w++){var E=_[w];if(E&&!E.match(un)){for(var C="",U=0,A=E.length;U<A;U++)E.charCodeAt(U)>127?C+="x":C+=E[U];if(!C.match(un)){var O=_.slice(0,w),M=_.slice(w+1),W=E.match(is);W&&(O.push(W[1]),M.unshift(W[2])),M.length&&(r="/"+M.join(".")+r),this.hostname=O.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),v||(this.hostname=Xo.toASCII(this.hostname));var G=this.port?":"+this.port:"";this.host=(this.hostname||"")+G,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!ns[a])for(w=0,S=mr.length;w<S;w++){var P=mr[w];if(-1!==r.indexOf(P)){var F=encodeURIComponent(P);F===P&&(F=escape(P)),r=r.split(P).join(F)}}var J=r.indexOf("#");-1!==J&&(this.hash=r.substr(J),r=r.slice(0,J));var Y=r.indexOf("?");return-1!==Y?(this.search=r.substr(Y),this.query=r.substr(Y+1),o&&(this.query=wr.parse(this.query)),r=r.slice(0,Y)):o&&(this.search="",this.query={}),r&&(this.pathname=r),jt[a]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(G=this.pathname||"")+(this.search||"")),this.href=this.format(),this},ze.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var o=this.protocol||"",t=this.pathname||"",l=this.hash||"",u=!1,i="";this.host?u=e+this.host:this.hostname&&(u=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(u+=":"+this.port)),this.query&&Ge.isObject(this.query)&&Object.keys(this.query).length&&(i=wr.stringify(this.query));var r=this.search||i&&"?"+i||"";return o&&":"!==o.substr(-1)&&(o+=":"),this.slashes||(!o||jt[o])&&!1!==u?(u="//"+(u||""),t&&"/"!==t.charAt(0)&&(t="/"+t)):u||(u=""),l&&"#"!==l.charAt(0)&&(l="#"+l),r&&"?"!==r.charAt(0)&&(r="?"+r),o+u+(t=t.replace(/[?#]/g,function(s){return encodeURIComponent(s)}))+(r=r.replace("#","%23"))+l},ze.prototype.resolve=function(e){return this.resolveObject(Xt(e,!1,!0)).format()},ze.prototype.resolveObject=function(e){if(Ge.isString(e)){var o=new ze;o.parse(e,!1,!0),e=o}for(var t=new ze,l=Object.keys(this),u=0;u<l.length;u++){var i=l[u];t[i]=this[i]}if(t.hash=e.hash,""===e.href)return t.href=t.format(),t;if(e.slashes&&!e.protocol){for(var r=Object.keys(e),s=0;s<r.length;s++){var n=r[s];"protocol"!==n&&(t[n]=e[n])}return jt[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}if(e.protocol&&e.protocol!==t.protocol){if(!jt[e.protocol]){for(var a=Object.keys(e),h=0;h<a.length;h++){var d=a[h];t[d]=e[d]}return t.href=t.format(),t}if(t.protocol=e.protocol,e.host||br[e.protocol])t.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),t.pathname=p.join("/")}return t.search=e.search,t.query=e.query,t.host=e.host||"",t.auth=e.auth,t.hostname=e.hostname||e.host,t.port=e.port,(t.pathname||t.search)&&(t.path=(t.pathname||"")+(t.search||"")),t.slashes=t.slashes||e.slashes,t.href=t.format(),t}var g=t.pathname&&"/"===t.pathname.charAt(0),v=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=v||g||t.host&&e.pathname,S=_,E=t.pathname&&t.pathname.split("/")||[],C=(p=e.pathname&&e.pathname.split("/")||[],t.protocol&&!jt[t.protocol]);if(C&&(t.hostname="",t.port=null,t.host&&(""===E[0]?E[0]=t.host:E.unshift(t.host)),t.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),_=_&&(""===p[0]||""===E[0])),v)t.host=e.host||""===e.host?e.host:t.host,t.hostname=e.hostname||""===e.hostname?e.hostname:t.hostname,t.search=e.search,t.query=e.query,E=p;else if(p.length)E||(E=[]),E.pop(),E=E.concat(p),t.search=e.search,t.query=e.query;else if(!Ge.isNullOrUndefined(e.search))return C&&(t.hostname=t.host=E.shift(),(W=!!(t.host&&t.host.indexOf("@")>0)&&t.host.split("@"))&&(t.auth=W.shift(),t.host=t.hostname=W.shift())),t.search=e.search,t.query=e.query,Ge.isNull(t.pathname)&&Ge.isNull(t.search)||(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t;if(!E.length)return t.pathname=null,t.path=t.search?"/"+t.search:null,t.href=t.format(),t;for(var U=E.slice(-1)[0],A=(t.host||e.host||E.length>1)&&("."===U||".."===U)||""===U,O=0,M=E.length;M>=0;M--)"."===(U=E[M])?E.splice(M,1):".."===U?(E.splice(M,1),O++):O&&(E.splice(M,1),O--);if(!_&&!S)for(;O--;O)E.unshift("..");!_||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),A&&"/"!==E.join("/").substr(-1)&&E.push("");var W,G=""===E[0]||E[0]&&"/"===E[0].charAt(0);return C&&(t.hostname=t.host=G?"":E.length?E.shift():"",(W=!!(t.host&&t.host.indexOf("@")>0)&&t.host.split("@"))&&(t.auth=W.shift(),t.host=t.hostname=W.shift())),(_=_||t.host&&E.length)&&!G&&E.unshift(""),E.length?t.pathname=E.join("/"):(t.pathname=null,t.path=null),Ge.isNull(t.pathname)&&Ge.isNull(t.search)||(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes,t.href=t.format(),t},ze.prototype.parseHost=function(){var e=this.host,o=es.exec(e);o&&(":"!==(o=o[0])&&(this.port=o.substr(1)),e=e.substr(0,e.length-o.length)),e&&(this.hostname=e)},vr={},hn=!1,cn=function Cl(){if(hn)return vr;hn=!0;var e=Be;function o(i){if("string"!=typeof i)throw new TypeError("Path must be a string. Received "+JSON.stringify(i))}function t(i,r){for(var d,s="",n=0,a=-1,h=0,p=0;p<=i.length;++p){if(p<i.length)d=i.charCodeAt(p);else{if(47===d)break;d=47}if(47===d){if(a!==p-1&&1!==h)if(a!==p-1&&2===h){if(s.length<2||2!==n||46!==s.charCodeAt(s.length-1)||46!==s.charCodeAt(s.length-2))if(s.length>2){var m=s.lastIndexOf("/");if(m!==s.length-1){-1===m?(s="",n=0):n=(s=s.slice(0,m)).length-1-s.lastIndexOf("/"),a=p,h=0;continue}}else if(2===s.length||1===s.length){s="",n=0,a=p,h=0;continue}r&&(s.length>0?s+="/..":s="..",n=2)}else s.length>0?s+="/"+i.slice(a+1,p):s=i.slice(a+1,p),n=p-a-1;a=p,h=0}else 46===d&&-1!==h?++h:h=-1}return s}var u={resolve:function(){for(var s,i="",r=!1,n=arguments.length-1;n>=-1&&!r;n--){var a;n>=0?a=arguments[n]:(void 0===s&&(s=e.cwd()),a=s),o(a),0!==a.length&&(i=a+"/"+i,r=47===a.charCodeAt(0))}return i=t(i,!r),r?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(i){if(o(i),0===i.length)return".";var r=47===i.charCodeAt(0),s=47===i.charCodeAt(i.length-1);return 0===(i=t(i,!r)).length&&!r&&(i="."),i.length>0&&s&&(i+="/"),r?"/"+i:i},isAbsolute:function(i){return o(i),i.length>0&&47===i.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var i,r=0;r<arguments.length;++r){var s=arguments[r];o(s),s.length>0&&(void 0===i?i=s:i+="/"+s)}return void 0===i?".":u.normalize(i)},relative:function(i,r){if(o(i),o(r),i===r||(i=u.resolve(i))===(r=u.resolve(r)))return"";for(var s=1;s<i.length&&47===i.charCodeAt(s);++s);for(var n=i.length,a=n-s,h=1;h<r.length&&47===r.charCodeAt(h);++h);for(var p=r.length-h,m=a<p?a:p,w=-1,g=0;g<=m;++g){if(g===m){if(p>m){if(47===r.charCodeAt(h+g))return r.slice(h+g+1);if(0===g)return r.slice(h+g)}else a>m&&(47===i.charCodeAt(s+g)?w=g:0===g&&(w=0));break}var v=i.charCodeAt(s+g);if(v!==r.charCodeAt(h+g))break;47===v&&(w=g)}var S="";for(g=s+w+1;g<=n;++g)(g===n||47===i.charCodeAt(g))&&(S+=0===S.length?"..":"/..");return S.length>0?S+r.slice(h+w):(47===r.charCodeAt(h+=w)&&++h,r.slice(h))},_makeLong:function(i){return i},dirname:function(i){if(o(i),0===i.length)return".";for(var r=i.charCodeAt(0),s=47===r,n=-1,a=!0,h=i.length-1;h>=1;--h)if(47===(r=i.charCodeAt(h))){if(!a){n=h;break}}else a=!1;return-1===n?s?"/":".":s&&1===n?"//":i.slice(0,n)},basename:function(i,r){if(void 0!==r&&"string"!=typeof r)throw new TypeError('"ext" argument must be a string');o(i);var h,s=0,n=-1,a=!0;if(void 0!==r&&r.length>0&&r.length<=i.length){if(r.length===i.length&&r===i)return"";var d=r.length-1,p=-1;for(h=i.length-1;h>=0;--h){var m=i.charCodeAt(h);if(47===m){if(!a){s=h+1;break}}else-1===p&&(a=!1,p=h+1),d>=0&&(m===r.charCodeAt(d)?-1==--d&&(n=h):(d=-1,n=p))}return s===n?n=p:-1===n&&(n=i.length),i.slice(s,n)}for(h=i.length-1;h>=0;--h)if(47===i.charCodeAt(h)){if(!a){s=h+1;break}}else-1===n&&(a=!1,n=h+1);return-1===n?"":i.slice(s,n)},extname:function(i){o(i);for(var r=-1,s=0,n=-1,a=!0,h=0,d=i.length-1;d>=0;--d){var p=i.charCodeAt(d);if(47!==p)-1===n&&(a=!1,n=d+1),46===p?-1===r?r=d:1!==h&&(h=1):-1!==r&&(h=-1);else if(!a){s=d+1;break}}return-1===r||-1===n||0===h||1===h&&r===n-1&&r===s+1?"":i.slice(r,n)},format:function(i){if(null===i||"object"!=typeof i)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof i);return function l(i,r){var s=r.dir||r.root,n=r.base||(r.name||"")+(r.ext||"");return s?s===r.root?s+n:s+i+n:n}("/",i)},parse:function(i){o(i);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===i.length)return r;var a,s=i.charCodeAt(0),n=47===s;n?(r.root="/",a=1):a=0;for(var h=-1,d=0,p=-1,m=!0,w=i.length-1,g=0;w>=a;--w)if(47!==(s=i.charCodeAt(w)))-1===p&&(m=!1,p=w+1),46===s?-1===h?h=w:1!==g&&(g=1):-1!==h&&(g=-1);else if(!m){d=w+1;break}return-1===h||-1===p||0===g||1===g&&h===p-1&&h===d+1?-1!==p&&(r.base=r.name=i.slice(0===d&&n?1:d,p)):(0===d&&n?(r.name=i.slice(1,h),r.base=i.slice(1,p)):(r.name=i.slice(d,h),r.base=i.slice(d,p)),r.ext=i.slice(h,p)),d>0?r.dir=i.slice(0,d-1):n&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};return u.posix=u,vr=u}(),os=typeof Deno<"u"?"windows"===Deno.build.os?"win32":Deno.build.os:void 0,ke.URL=typeof URL<"u"?URL:null,ke.pathToFileURL=Ml,ke.fileURLToPath=Pl,ss=92,as=47,ls=97,us=122,_r="win32"===os,hs=/\//g,cs=/%/g,fs=/\\/g,ds=/\n/g,ps=/\r/g,gs=/\t/g,ys=typeof Deno<"u"?"windows"===Deno.build.os?"win32":Deno.build.os:void 0,ke.URL=typeof URL<"u"?URL:null,ke.pathToFileURL=Jo,ke.fileURLToPath=Go,ms=ke.Url,bs=ke.format,ws=ke.resolve,vs=ke.resolveObject,_s=ke.parse,Es=ke.URL,Ss=92,As=47,Is=97,Ts=122,Er="win32"===ys,ks=/\//g,Rs=/%/g,Os=/\\/g,Cs=/\n/g,Ps=/\r/g,Bs=/\t/g}),Nl=ce((e,o)=>{ie(),oe(),ne(),o.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),fn=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"__esModule",{value:!0}),e.BufferedDuplex=e.writev=void 0;var o=Pt(),t=(Ne(),Re(je));function l(i,r){let s=new Array(i.length);for(let n=0;n<i.length;n++)s[n]="string"==typeof i[n].chunk?t.Buffer.from(i[n].chunk,"utf8"):i[n].chunk;this._write(t.Buffer.concat(s),"binary",r)}e.writev=l,e.BufferedDuplex=class extends o.Duplex{constructor(i,r,s){super({objectMode:!0}),this.proxy=r,this.socket=s,this.writeQueue=[],i.objectMode||(this._writev=l.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",n=>{this.destroyed||this.push(n)})}_read(i){this.proxy.read(i)}_write(i,r,s){this.isSocketOpen?this.writeToProxy(i,r,s):this.writeQueue.push({chunk:i,encoding:r,cb:s})}_final(i){this.writeQueue=[],this.proxy.end(i)}_destroy(i,r){this.writeQueue=[],this.proxy.destroy(),r(i)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(i,r,s){!1===this.proxy.write(i,r)?this.proxy.once("drain",s):s()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:i,encoding:r,cb:s}=this.writeQueue.shift();this.writeToProxy(i,r,s)}}}}),Sr=ce(e=>{ie(),oe(),ne();var o=e&&e.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(e,"__esModule",{value:!0}),e.streamBuilder=e.browserStreamBuilder=void 0;var t=(Ne(),Re(je)),l=o(Nl()),u=o(ht()),i=Pt(),r=o(dr()),s=fn(),n=(0,u.default)("mqttjs:ws"),a=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function h(_,S){let E=`${_.protocol}://${_.hostname}:${_.port}${_.path}`;return"function"==typeof _.transformWsUrl&&(E=_.transformWsUrl(E,_,S)),E}function d(_){let S=_;return _.port||(S.port="wss"===_.protocol?443:80),_.path||(S.path="/"),_.wsOptions||(S.wsOptions={}),!r.default&&!_.forceNativeWebSocket&&"wss"===_.protocol&&a.forEach(E=>{Object.prototype.hasOwnProperty.call(_,E)&&!Object.prototype.hasOwnProperty.call(_.wsOptions,E)&&(S.wsOptions[E]=_[E])}),S}e.streamBuilder=(_,S)=>{n("streamBuilder");let E=d(S);E.hostname=E.hostname||E.host||"localhost";let C=h(E,_),U=function m(_,S,E){n("createWebSocket"),n(`protocol: ${E.protocolId} ${E.protocolVersion}`);let U,C="MQIsdp"===E.protocolId&&3===E.protocolVersion?"mqttv3.1":"mqtt";return n(`creating new Websocket for url: ${S} and protocol: ${C}`),U=E.createWebsocket?E.createWebsocket(S,[C],E):new l.default(S,[C],E.wsOptions),U}(0,C,E),A=l.default.createWebSocketStream(U,E.wsOptions);return A.url=C,U.on("close",()=>{A.destroy()}),A},e.browserStreamBuilder=(_,S)=>{n("browserStreamBuilder");let E,C=function p(_){let S=d(_);if(S.hostname||(S.hostname=S.host),!S.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let E=new URL(document.URL);S.hostname=E.hostname,S.port||(S.port=Number(E.port))}return void 0===S.objectMode&&(S.objectMode=!(!0===S.binary||void 0===S.binary)),S}(S).browserBufferSize||524288,U=S.browserBufferTimeout||1e3,A=!S.objectMode,O=function w(_,S){let U,E="MQIsdp"===S.protocolId&&3===S.protocolVersion?"mqttv3.1":"mqtt",C=h(S,_);return U=S.createWebsocket?S.createWebsocket(C,[E],S):new WebSocket(C,[E]),U.binaryType="arraybuffer",U}(_,S),M=function G(D,se,te){let de=new i.Transform({objectMode:D.objectMode});return de._write=se,de._flush=te,de}(S,function ee(D,se,te){if(O.bufferedAmount>C)setTimeout(ee,U,D,se,te);else{A&&"string"==typeof D&&(D=t.Buffer.from(D,"utf8"));try{O.send(D)}catch(de){return te(de)}te()}},function ue(D){O.close(),D()});S.objectMode||(M._writev=s.writev.bind(M)),M.on("close",()=>{O.close()});let W=typeof O.addEventListener<"u";function Z(){n("WebSocket onOpen"),E instanceof s.BufferedDuplex&&E.socketReady()}function P(D){n("WebSocket onClose",D),E.end(),E.destroy()}function F(D){n("WebSocket onError",D);let se=new Error("WebSocket error");se.event=D,E.destroy(se)}function J(D){return Y.apply(this,arguments)}function Y(){return(Y=(0,Pe.A)(function*(D){let{data:se}=D;se=se instanceof ArrayBuffer?t.Buffer.from(se):se instanceof Blob?t.Buffer.from(yield new Response(se).arrayBuffer()):t.Buffer.from(se,"utf8"),M&&!M.destroyed&&M.push(se)})).apply(this,arguments)}return O.readyState===O.OPEN?(E=M,E.socket=O):(E=new s.BufferedDuplex(S,M,O),W?O.addEventListener("open",Z):O.onopen=Z),W?(O.addEventListener("close",P),O.addEventListener("error",F),O.addEventListener("message",J)):(O.onclose=P,O.onerror=F,O.onmessage=J),E}}),dn={};function Ce(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}_t(dn,{Server:()=>Ce,Socket:()=>Ce,Stream:()=>Ce,_createServerHandle:()=>Ce,_normalizeArgs:()=>Ce,_setSimultaneousAccepts:()=>Ce,connect:()=>Ce,createConnection:()=>Ce,createServer:()=>Ce,default:()=>xs,isIP:()=>Ce,isIPv4:()=>Ce,isIPv6:()=>Ce});var xs,Ms=Le(()=>{ie(),oe(),ne(),xs={_createServerHandle:Ce,_normalizeArgs:Ce,_setSimultaneousAccepts:Ce,connect:Ce,createConnection:Ce,createServer:Ce,isIP:Ce,isIPv4:Ce,isIPv6:Ce,Server:Ce,Socket:Ce,Stream:Ce}}),Us=ce(e=>{ie(),oe(),ne();var o=e&&e.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0});var t=o((Ms(),Re(dn))),u=(0,o(ht()).default)("mqttjs:tcp");e.default=(r,s)=>{s.port=s.port||1883,s.hostname=s.hostname||s.host||"localhost";let{port:n,path:a}=s,h=s.hostname;return u("port %d and host %s",n,h),t.default.createConnection({port:n,host:h,path:a})}}),Ls={};_t(Ls,{default:()=>js});var js,Dl=Le(()=>{ie(),oe(),ne(),js={}}),Ns=ce(e=>{ie(),oe(),ne();var o=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});var t=o((Dl(),Re(Ls))),l=o((Ms(),Re(dn))),i=(0,o(ht()).default)("mqttjs:tls");e.default=(s,n)=>{n.port=n.port||8883,n.host=n.hostname||n.host||"localhost",0===l.default.isIP(n.host)&&(n.servername=n.host),n.rejectUnauthorized=!1!==n.rejectUnauthorized,delete n.path,i("port %d host %s rejectUnauthorized %b",n.port,n.host,n.rejectUnauthorized);let a=t.default.connect(n);function h(d){n.rejectUnauthorized&&s.emit("error",d),a.end()}return a.on("secureConnect",()=>{n.rejectUnauthorized&&!a.authorized?a.emit("error",new Error("TLS not authorized")):a.removeListener("error",h)}),a.on("error",h),a}}),Ds=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"__esModule",{value:!0});var u,i,r,o=(Ne(),Re(je)),t=Pt(),l=fn();e.default=(p,m)=>{if(m.hostname=m.hostname||m.host,!m.hostname)throw new Error("Could not determine host. Specify host manually.");let w="MQIsdp"===m.protocolId&&3===m.protocolVersion?"mqttv3.1":"mqtt";!function n(p){p.hostname||(p.hostname="localhost"),p.path||(p.path="/"),p.wsOptions||(p.wsOptions={})}(m);let g=function a(p,m){let w="wxs"===p.protocol?"wss":"ws",g=`${w}://${p.hostname}${p.path}`;return p.port&&80!==p.port&&443!==p.port&&(g=`${w}://${p.hostname}:${p.port}${p.path}`),"function"==typeof p.transformWsUrl&&(g=p.transformWsUrl(g,p,m)),g}(m,p);u=wx.connectSocket({url:g,protocols:[w]}),i=function s(){let p=new t.Transform;return p._write=(m,w,g)=>{u.send({data:m.buffer,success(){g()},fail(v){g(new Error(v))}})},p._flush=m=>{u.close({success(){m()}})},p}(),(r=new l.BufferedDuplex(m,i,u))._destroy=(_,S)=>{u.close({success(){S&&S(_)}})};let v=r.destroy;return r.destroy=(_,S)=>(r.destroy=v,setTimeout(()=>{u.close({fail(){r._destroy(_,S)}})},0),r),function h(){u.onOpen(()=>{r.socketReady()}),u.onMessage(p=>{let{data:m}=p;m=m instanceof ArrayBuffer?o.Buffer.from(m):o.Buffer.from(m,"utf8"),i.push(m)}),u.onClose(()=>{r.emit("close"),r.end(),r.destroy()}),u.onError(p=>{let m=new Error(p.errMsg);r.destroy(m)})}(),r}}),Fs=ce(e=>{ie(),oe(),ne(),Object.defineProperty(e,"__esModule",{value:!0});var u,i,r,o=(Ne(),Re(je)),t=Pt(),l=fn(),s=!1;e.default=(m,w)=>{if(w.hostname=w.hostname||w.host,!w.hostname)throw new Error("Could not determine host. Specify host manually.");let g="MQIsdp"===w.protocolId&&3===w.protocolVersion?"mqttv3.1":"mqtt";!function a(m){m.hostname||(m.hostname="localhost"),m.path||(m.path="/"),m.wsOptions||(m.wsOptions={})}(w);let v=function h(m,w){let g="alis"===m.protocol?"wss":"ws",v=`${g}://${m.hostname}${m.path}`;return m.port&&80!==m.port&&443!==m.port&&(v=`${g}://${m.hostname}:${m.port}${m.path}`),"function"==typeof m.transformWsUrl&&(v=m.transformWsUrl(v,m,w)),v}(w,m);return(u=w.my).connectSocket({url:v,protocols:g}),i=function n(){let m=new t.Transform;return m._write=(w,g,v)=>{u.sendSocketMessage({data:w.buffer,success(){v()},fail(){v(new Error)}})},m._flush=w=>{u.closeSocket({success(){w()}})},m}(),r=new l.BufferedDuplex(w,i,u),function d(){s||(s=!0,u.onSocketOpen(()=>{r.socketReady()}),u.onSocketMessage(m=>{if("string"==typeof m.data){let w=o.Buffer.from(m.data,"base64");i.push(w)}else{let w=new FileReader;w.addEventListener("load",()=>{let g=w.result;g=g instanceof ArrayBuffer?o.Buffer.from(g):o.Buffer.from(g,"utf8"),i.push(g)}),w.readAsArrayBuffer(m.data)}}),u.onSocketClose(()=>{r.end(),r.destroy()}),u.onSocketError(m=>{r.destroy(m)}))}(),r}}),Fl=ce(e=>{ie(),oe(),ne();var o=e&&e.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.connectAsync=void 0;var t=o(ht()),l=o((jl(),Re(Qo))),u=o(Gi()),i=o(dr());"function"!=typeof Ae?.nextTick&&(Ae.nextTick=setImmediate);var r=(0,t.default)("mqttjs"),s=null;function a(d,p){var m,w,g,v;if(r("connecting to an MQTT broker..."),"object"==typeof d&&!p&&(p=d,d=""),p=p||{},d&&"string"==typeof d){let E=l.default.parse(d,!0),C={};if(null!=E.port&&(C.port=Number(E.port)),C.host=E.hostname,C.query=E.query,C.auth=E.auth,C.protocol=E.protocol,C.path=E.path,C.protocol=null===(m=C.protocol)||void 0===m?void 0:m.replace(/:$/,""),!(p=Object.assign(Object.assign({},C),p)).protocol)throw new Error("Missing protocol")}if(p.unixSocket=p.unixSocket||(null===(w=p.protocol)||void 0===w?void 0:w.includes("+unix")),p.unixSocket?p.protocol=p.protocol.replace("+unix",""):null!==(g=p.protocol)&&void 0!==g&&g.startsWith("ws")||null!==(v=p.protocol)&&void 0!==v&&v.startsWith("wx")||delete p.path,function n(d){let p;d.auth&&(p=d.auth.match(/^(.+):(.+)$/),p?(d.username=p[1],d.password=p[2]):d.username=d.auth)}(p),p.query&&"string"==typeof p.query.clientId&&(p.clientId=p.query.clientId),p.cert&&p.key){if(!p.protocol)throw new Error("Missing secure protocol key");if(-1===["mqtts","wss","wxs","alis"].indexOf(p.protocol))switch(p.protocol){case"mqtt":p.protocol="mqtts";break;case"ws":p.protocol="wss";break;case"wx":p.protocol="wxs";break;case"ali":p.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${p.protocol}"!`)}}if(s||(s={},i.default||p.forceNativeWebSocket?(s.ws=Sr().browserStreamBuilder,s.wss=Sr().browserStreamBuilder,s.wx=Ds().default,s.wxs=Ds().default,s.ali=Fs().default,s.alis=Fs().default):(s.ws=Sr().streamBuilder,s.wss=Sr().streamBuilder,s.mqtt=Us().default,s.tcp=Us().default,s.ssl=Ns().default,s.tls=s.ssl,s.mqtts=Ns().default)),!s[p.protocol]){let E=-1!==["mqtts","wss"].indexOf(p.protocol);p.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((C,U)=>(!E||U%2!=0)&&"function"==typeof s[C])[0]}if(!1===p.clean&&!p.clientId)throw new Error("Missing clientId for unclean clients");p.protocol&&(p.defaultProtocol=p.protocol);let S=new u.default(function _(E){return p.servers&&((!E._reconnectCount||E._reconnectCount===p.servers.length)&&(E._reconnectCount=0),p.host=p.servers[E._reconnectCount].host,p.port=p.servers[E._reconnectCount].port,p.protocol=p.servers[E._reconnectCount].protocol?p.servers[E._reconnectCount].protocol:p.defaultProtocol,p.hostname=p.host,E._reconnectCount++),r("calling streambuilder for",p.protocol),s[p.protocol](E,p)},p);return S.on("error",()=>{}),S}e.connectAsync=function h(d,p,m=!0){return new Promise((w,g)=>{let v=a(d,p),_={connect:E=>{S(),w(v)},end:()=>{S(),w(v)},error:E=>{S(),v.end(),g(E)}};function S(){Object.keys(_).forEach(E=>{v.off(E,_[E])})}!1===m&&(_.close=()=>{_.error(new Error("Couldn't connect to server"))}),Object.keys(_).forEach(E=>{v.on(E,_[E])})})},e.default=a}),Ws=ce(e=>{ie(),oe(),ne();var o=e&&e.__createBinding||(Object.create?function(m,w,g,v){void 0===v&&(v=g);var _=Object.getOwnPropertyDescriptor(w,g);(!_||("get"in _?!w.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return w[g]}}),Object.defineProperty(m,v,_)}:function(m,w,g,v){void 0===v&&(v=g),m[v]=w[g]}),t=e&&e.__setModuleDefault||(Object.create?function(m,w){Object.defineProperty(m,"default",{enumerable:!0,value:w})}:function(m,w){m.default=w}),l=e&&e.__importStar||function(m){if(m&&m.__esModule)return m;var w={};if(null!=m)for(var g in m)"default"!==g&&Object.prototype.hasOwnProperty.call(m,g)&&o(w,m,g);return t(w,m),w},u=e&&e.__exportStar||function(m,w){for(var g in m)"default"!==g&&!Object.prototype.hasOwnProperty.call(w,g)&&o(w,m,g)},i=e&&e.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=e.KeepaliveManager=e.UniqueMessageIdProvider=e.DefaultMessageIdProvider=e.Store=e.MqttClient=e.connectAsync=e.connect=e.Client=void 0;var r=i(Gi());e.MqttClient=r.default;var s=i(ko());e.DefaultMessageIdProvider=s.default;var n=i(_l());e.UniqueMessageIdProvider=n.default;var a=i(Ro());e.Store=a.default;var h=l(Fl());e.connect=h.default,Object.defineProperty(e,"connectAsync",{enumerable:!0,get:function(){return h.connectAsync}});var d=i(Uo());e.KeepaliveManager=d.default,e.Client=r.default,u(Gi(),e),u(qt(),e);var p=fr();Object.defineProperty(e,"ReasonCodes",{enumerable:!0,get:function(){return p.ReasonCodes}})});const $l=ce(e=>{ie(),oe(),ne();var o=e&&e.__createBinding||(Object.create?function(r,s,n,a){void 0===a&&(a=n);var h=Object.getOwnPropertyDescriptor(s,n);(!h||("get"in h?!s.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return s[n]}}),Object.defineProperty(r,a,h)}:function(r,s,n,a){void 0===a&&(a=n),r[a]=s[n]}),t=e&&e.__setModuleDefault||(Object.create?function(r,s){Object.defineProperty(r,"default",{enumerable:!0,value:s})}:function(r,s){r.default=s}),l=e&&e.__importStar||function(r){if(r&&r.__esModule)return r;var s={};if(null!=r)for(var n in r)"default"!==n&&Object.prototype.hasOwnProperty.call(r,n)&&o(s,r,n);return t(s,r),s},u=e&&e.__exportStar||function(r,s){for(var n in r)"default"!==n&&!Object.prototype.hasOwnProperty.call(s,n)&&o(s,r,n)};Object.defineProperty(e,"__esModule",{value:!0});var i=l(Ws());e.default=i,u(Ws(),e)})()}}]);