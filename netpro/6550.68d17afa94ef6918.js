"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[6550],{31849:(F,v,o)=>{o.d(v,{$:()=>w});var h=o(14085),b=o(87122),i=o(54438);const y=[[["","fuseCardFront",""]],[["","fuseCardBack",""]],"*",[["","fuseCardExpansion",""]]],C=["[fuseCardFront]","[fuseCardBack]","*","[fuseCardExpansion]"];function u(l,x){1&l&&(i.j41(0,"div",0),i.SdG(1),i.k0s(),i.j41(2,"div",1),i.SdG(3,1),i.k0s())}function m(l,x){1&l&&(i.j41(0,"div",2),i.SdG(1,3),i.k0s()),2&l&&i.Y8G("@expandCollapse",void 0)}function r(l,x){if(1&l&&(i.SdG(0,2),i.DNE(1,m,2,1,"div",2)),2&l){const t=i.XpG();i.R7$(),i.vxM(t.expanded?1:-1)}}let w=(()=>{class l{constructor(){this.expanded=!1,this.face="front",this.flippable=!1}get classList(){return{"fuse-card-expanded":this.expanded,"fuse-card-face-back":this.flippable&&"back"===this.face,"fuse-card-face-front":this.flippable&&"front"===this.face,"fuse-card-flippable":this.flippable}}ngOnChanges(t){"expanded"in t&&(this.expanded=(0,h.he)(t.expanded.currentValue)),"flippable"in t&&(this.flippable=(0,h.he)(t.flippable.currentValue))}static{this.\u0275fac=function(d){return new(d||l)}}static{this.\u0275cmp=i.VBU({type:l,selectors:[["fuse-card"]],hostVars:2,hostBindings:function(d,p){2&d&&i.HbH(p.classList)},inputs:{expanded:"expanded",face:"face",flippable:"flippable"},exportAs:["fuseCard"],standalone:!0,features:[i.OA$,i.aNF],ngContentSelectors:C,decls:2,vars:2,consts:[[1,"fuse-card-front"],[1,"fuse-card-back"],[1,"fuse-card-expansion"]],template:function(d,p){1&d&&(i.NAR(y),i.DNE(0,u,4,0)(1,r,2,1)),2&d&&(i.vxM(p.flippable?0:-1),i.R7$(),i.vxM(p.flippable?-1:1))},styles:["fuse-card{position:relative;display:flex;overflow:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable{border-radius:0;overflow:visible;transform-style:preserve-3d;transition:transform 1s;perspective:600px;background:transparent;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-front{visibility:hidden;opacity:0;transform:rotateY(180deg)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-back{visibility:visible;opacity:1;transform:rotateY(360deg)}fuse-card.fuse-card-flippable .fuse-card-front,fuse-card.fuse-card-flippable .fuse-card-back{display:flex;flex-direction:column;flex:1 1 auto;z-index:10;transition:transform .5s ease-out 0s,visibility 0s ease-in .2s,opacity 0s ease-in .2s;backface-visibility:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable .fuse-card-front{position:relative;opacity:1;visibility:visible;transform:rotateY(0);overflow:hidden}fuse-card.fuse-card-flippable .fuse-card-back{position:absolute;inset:0;opacity:0;visibility:hidden;transform:rotateY(180deg);overflow:hidden auto}\n"],encapsulation:2,data:{animation:b.X}})}}return l})()},36550:(F,v,o)=>{o.r(v),o.d(v,{default:()=>O});var h=o(60177),b=o(89417),i=o(88834),y=o(99213),C=o(59042),u=o(96695),m=o(2042),r=o(9159),w=o(49192),l=o(31849),x=o(84412),t=o(54438),d=o(80507),p=o(46601),D=o(96504),g=o(25798);const S=()=>[".."],U=()=>[5,10,20];function A(e,s){1&e&&(t.j41(0,"mat-header-cell",28),t.EFF(1," Name "),t.k0s())}function T(e,s){if(1&e&&(t.j41(0,"mat-cell",29),t.EFF(1),t.k0s()),2&e){const a=s.$implicit;t.R7$(),t.SpI(" ",a.name," ")}}function E(e,s){1&e&&(t.j41(0,"mat-header-cell",28),t.EFF(1," Activity "),t.k0s())}function k(e,s){if(1&e&&(t.j41(0,"mat-cell"),t.EFF(1),t.k0s()),2&e){const a=s.$implicit;t.R7$(),t.SpI(" ",a.activity," ")}}function _(e,s){1&e&&(t.j41(0,"mat-header-cell",28),t.EFF(1," MAC "),t.k0s())}function $(e,s){if(1&e&&(t.j41(0,"mat-cell"),t.EFF(1),t.k0s()),2&e){const a=s.$implicit;t.R7$(),t.SpI(" ",a.mac," ")}}function B(e,s){1&e&&(t.j41(0,"mat-header-cell",28),t.EFF(1," Rate Upload "),t.k0s())}function j(e,s){if(1&e&&(t.j41(0,"mat-cell"),t.EFF(1),t.k0s()),2&e){const a=s.$implicit,n=t.XpG();t.R7$(),t.SpI(" ",n.convertBytesToMB(a.rateUp).toFixed(2)," Mb/s ")}}function R(e,s){1&e&&(t.j41(0,"mat-header-cell",30),t.EFF(1," Rate Download "),t.k0s())}function G(e,s){if(1&e&&(t.j41(0,"mat-cell"),t.EFF(1),t.k0s()),2&e){const a=s.$implicit,n=t.XpG();t.R7$(),t.SpI(" ",n.convertBytesToMB(a.rateDown).toFixed(2)," Mb/s ")}}function N(e,s){1&e&&(t.j41(0,"mat-header-cell",30),t.EFF(1," Total Upload "),t.k0s())}function M(e,s){if(1&e&&(t.j41(0,"mat-cell"),t.EFF(1),t.k0s()),2&e){const a=s.$implicit,n=t.XpG();t.R7$(),t.SpI(" ",n.convertBytesToMB(a.bytesUp).toFixed(2)," MB/s ")}}function X(e,s){1&e&&(t.j41(0,"mat-header-cell",30),t.EFF(1," Total Download "),t.k0s())}function I(e,s){if(1&e&&(t.j41(0,"mat-cell"),t.EFF(1),t.k0s()),2&e){const a=s.$implicit,n=t.XpG();t.R7$(),t.SpI(" ",n.convertBytesToMB(a.bytesDown).toFixed(2)," Mb/s ")}}function Y(e,s){1&e&&(t.j41(0,"mat-header-cell",30),t.EFF(1," Ip Address "),t.k0s())}function V(e,s){if(1&e&&(t.j41(0,"mat-cell"),t.EFF(1),t.k0s()),2&e){const a=s.$implicit;t.R7$(),t.SpI(" ",a.ipAddress," ")}}function L(e,s){1&e&&t.nrm(0,"mat-header-row")}function H(e,s){1&e&&t.nrm(0,"mat-row")}const O=[{path:"",component:(()=>{class e{constructor(a,n,c,f,z){this.fuseLoadingService=a,this.fuseConfirmationService=n,this.mqtt=c,this.userService=f,this._topic=z,this.displayedColumns=["name","activity","mac","rateUp","rateDown","bytesUp","bytesDown","ipAddress"],this.data=[],this.dataSource=new r.I6,this._userActivyData=new x.t([])}ngOnInit(){this._topic.topic$.subscribe(a=>{this.mqttSubs=this.mqtt.subscribeToTopic(`${"Netpro"===a?"mikrotik":a}/get-activity`).subscribe(n=>{this.mqttSubs&&this.mqttSubs.unsubscribe();const c=JSON.parse(n);this._userActivyData.next(c.devices)})}),this._userActivyData.subscribe(a=>{this.dataSource.data=a})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}ngOnDestroy(){this.mqttSubs.unsubscribe()}applyFilter(a){a=(a=a.trim()).toLowerCase(),this.dataSource.filter=a}convertBytesToMB(a){return parseFloat(a)/1048576}calculateSpeed(a,n){return this.convertBytesToMB(a)/n*8}static{this.\u0275fac=function(n){return new(n||e)(t.rXU(d.X),t.rXU(p.G),t.rXU(D.s),t.rXU(g.D),t.rXU(g.D))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-user-activity"]],viewQuery:function(n,c){if(1&n&&(t.GBs(u.iy,5),t.GBs(m.B4,5)),2&n){let f;t.mGM(f=t.lsd())&&(c.paginator=f.first),t.mGM(f=t.lsd())&&(c.sort=f.first)}},standalone:!0,features:[t.aNF],decls:42,vars:10,consts:[["fuseCard",""],["table",""],["paginator",""],[1,"w-full"],["aria-label","Breadcrumb",1,"flex","shadow","px-5","py-3","text-gray-700","borde","bg-white","dark:bg-slate-800"],[1,"inline-flex","items-center","space-x-1","md:space-x-2","rtl:space-x-reverse"],[1,"inline-flex","items-center"],[1,"inline-flex","items-center","text-sm","font-medium","text-gray-700","hover:text-blue-600","dark:text-gray-400","dark:hover:text-white",3,"routerLink"],[1,"mx-6","my-4","mb-20","sm:mb-20"],[1,"flex","flex-col","shadow-md"],[1,"truncate","text-lg","flex-col","sm:flex-row","font-semibold","leading-6","tracking-tight","px-5","py-3","flex","items-start","sm:items-center","w-full","justify-between"],[1,"overflow-x-auto"],["matSort","",1,"min-w-[600px]",3,"dataSource"],["matColumnDef","name"],["mat-sort-header","","class","px-4 py-2",4,"matHeaderCellDef"],["class","py-4 font-medium px-6",4,"matCellDef"],["matColumnDef","activity"],[4,"matCellDef"],["matColumnDef","mac"],["matColumnDef","rateUp"],["matColumnDef","rateDown"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","bytesUp"],["matColumnDef","bytesDown"],["matColumnDef","ipAddress"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"pageSize","length","pageSizeOptions","showFirstLastButtons"],["mat-sort-header","",1,"px-4","py-2"],[1,"py-4","font-medium","px-6"],["mat-sort-header",""]],template:function(n,c){1&n&&(t.j41(0,"div",3)(1,"nav",4)(2,"ol",5)(3,"li",6)(4,"a",7),t.EFF(5," User Activity "),t.k0s()()()(),t.j41(6,"main",8)(7,"fuse-card",9,0)(9,"div",10),t.EFF(10," User Activity "),t.k0s(),t.j41(11,"div",11)(12,"mat-table",12,1),t.qex(14,13),t.DNE(15,A,2,0,"mat-header-cell",14)(16,T,2,1,"mat-cell",15),t.bVm(),t.qex(17,16),t.DNE(18,E,2,0,"mat-header-cell",14)(19,k,2,1,"mat-cell",17),t.bVm(),t.qex(20,18),t.DNE(21,_,2,0,"mat-header-cell",14)(22,$,2,1,"mat-cell",17),t.bVm(),t.qex(23,19),t.DNE(24,B,2,0,"mat-header-cell",14)(25,j,2,1,"mat-cell",17),t.bVm(),t.qex(26,20),t.DNE(27,R,2,0,"mat-header-cell",21)(28,G,2,1,"mat-cell",17),t.bVm(),t.qex(29,22),t.DNE(30,N,2,0,"mat-header-cell",21)(31,M,2,1,"mat-cell",17),t.bVm(),t.qex(32,23),t.DNE(33,X,2,0,"mat-header-cell",21)(34,I,2,1,"mat-cell",17),t.bVm(),t.qex(35,24),t.DNE(36,Y,2,0,"mat-header-cell",21)(37,V,2,1,"mat-cell",17),t.bVm(),t.DNE(38,L,1,0,"mat-header-row",25)(39,H,1,0,"mat-row",26),t.k0s()(),t.nrm(40,"mat-paginator",27,2),t.k0s()()()),2&n&&(t.R7$(4),t.Y8G("routerLink",t.lJ4(8,S)),t.R7$(8),t.Y8G("dataSource",c.dataSource),t.R7$(26),t.Y8G("matHeaderRowDef",c.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",c.displayedColumns),t.R7$(),t.Y8G("pageSize",5)("length",c.dataSource.data.length)("pageSizeOptions",t.lJ4(9,U))("showFirstLastButtons",!0))},dependencies:[u.Ou,u.iy,l.$,r.tP,r.Zl,r.tL,r.ji,r.cC,r.YV,r.iL,r.KS,r.$R,r.YZ,r.NB,h.MD,w.Wk,y.m_,b.X1,i.Hl,C.fS,m.NQ,m.B4,m.aE],encapsulation:2})}}return e})()}]}}]);