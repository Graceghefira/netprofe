"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[2617],{69445:(k,p,o)=>{o.d(p,{$:()=>v});var f=o(14085),h=o(87122),e=o(54438);const C=[[["","fuseCardFront",""]],[["","fuseCardBack",""]],"*",[["","fuseCardExpansion",""]]],g=["[fuseCardFront]","[fuseCardBack]","*","[fuseCardExpansion]"];function y(i,l){1&i&&(e.j41(0,"div",0),e.SdG(1),e.k0s(),e.j41(2,"div",1),e.SdG(3,1),e.k0s())}function x(i,l){1&i&&(e.j41(0,"div",2),e.SdG(1,3),e.k0s()),2&i&&e.Y8G("@expandCollapse",void 0)}function b(i,l){if(1&i&&(e.SdG(0,2),e.DNE(1,x,2,1,"div",2)),2&i){const c=e.XpG();e.R7$(),e.vxM(c.expanded?1:-1)}}let v=(()=>{class i{constructor(){this.expanded=!1,this.face="front",this.flippable=!1}get classList(){return{"fuse-card-expanded":this.expanded,"fuse-card-face-back":this.flippable&&"back"===this.face,"fuse-card-face-front":this.flippable&&"front"===this.face,"fuse-card-flippable":this.flippable}}ngOnChanges(c){"expanded"in c&&(this.expanded=(0,f.he)(c.expanded.currentValue)),"flippable"in c&&(this.flippable=(0,f.he)(c.flippable.currentValue))}static{this.\u0275fac=function(m){return new(m||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["fuse-card"]],hostVars:2,hostBindings:function(m,u){2&m&&e.HbH(u.classList)},inputs:{expanded:"expanded",face:"face",flippable:"flippable"},exportAs:["fuseCard"],features:[e.OA$],ngContentSelectors:g,decls:2,vars:2,consts:[[1,"fuse-card-front"],[1,"fuse-card-back"],[1,"fuse-card-expansion"]],template:function(m,u){1&m&&(e.NAR(C),e.DNE(0,y,4,0)(1,b,2,1)),2&m&&(e.vxM(u.flippable?0:-1),e.R7$(),e.vxM(u.flippable?-1:1))},styles:["fuse-card{position:relative;display:flex;overflow:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable{border-radius:0;overflow:visible;transform-style:preserve-3d;transition:transform 1s;perspective:600px;background:transparent;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-front{visibility:hidden;opacity:0;transform:rotateY(180deg)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-back{visibility:visible;opacity:1;transform:rotateY(360deg)}fuse-card.fuse-card-flippable .fuse-card-front,fuse-card.fuse-card-flippable .fuse-card-back{display:flex;flex-direction:column;flex:1 1 auto;z-index:10;transition:transform .5s ease-out 0s,visibility 0s ease-in .2s,opacity 0s ease-in .2s;backface-visibility:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable .fuse-card-front{position:relative;opacity:1;visibility:visible;transform:rotateY(0);overflow:hidden}fuse-card.fuse-card-flippable .fuse-card-back{position:absolute;inset:0;opacity:0;visibility:hidden;transform:rotateY(180deg);overflow:hidden auto}\n"],encapsulation:2,data:{animation:h.X}})}}return i})()},61843:(k,p,o)=>{o.d(p,{$:()=>f.$});var f=o(69445)},52617:(k,p,o)=>{o.r(p),o.d(p,{default:()=>q});var f=o(10467),h=o(60177),e=o(54438),C=o(89417),g=o(88834),y=o(30636),x=o(99213),b=o(59042),v=o(96695),i=o(2042),l=o(9159),c=o(49192),m=o(61843),u=o(44742),D=o(21413),j=o(45794),S=o(80507),E=o(46601),F=o(25798),R=o(3366);const $=()=>[".."],G=()=>["add-user"],T=()=>[5,10,20],B=(a,n,t,s)=>({"bg-gray-500":a,"bg-red-500":n,"bg-green-500":t,"bg-amber-500":s}),I=a=>["edit-user",a],L=a=>["view-detail",a];function U(a,n){1&a&&(e.j41(0,"div",27),e.nrm(1,"div",28)(2,"div",28)(3,"div",28)(4,"div",28)(5,"div",28)(6,"div",28)(7,"div",29),e.k0s())}function _(a,n){1&a&&(e.j41(0,"div")(1,"div",30),e.nrm(2,"img",31),e.j41(3,"h1",32),e.EFF(4,"Data Not Found"),e.k0s()()())}function Y(a,n){1&a&&(e.j41(0,"mat-header-cell",45),e.EFF(1," Name "),e.k0s())}function N(a,n){if(1&a&&(e.j41(0,"mat-cell",46)(1,"div",47)(2,"div",48),e.EFF(3),e.k0s(),e.j41(4,"div",49),e.EFF(5),e.k0s()()()),2&a){const t=n.$implicit;e.R7$(3),e.JRh(t.name),e.R7$(2),e.JRh(t.password)}}function A(a,n){1&a&&(e.j41(0,"mat-header-cell",45),e.EFF(1," Time Limit "),e.k0s())}function O(a,n){if(1&a&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&a){const t=n.$implicit;e.R7$(),e.SpI(" ",t.waktu," Hours")}}function M(a,n){1&a&&(e.j41(0,"mat-header-cell",45),e.EFF(1," Status Voucher "),e.k0s())}function V(a,n){if(1&a&&(e.j41(0,"mat-cell")(1,"td",50)(2,"span",51),e.nrm(3,"span",52),e.j41(4,"span",53),e.EFF(5),e.k0s()()()()),2&a){const t=n.$implicit;e.R7$(3),e.Y8G("ngClass",e.ziG(2,B,"Already Used"===t.status,"Offline"===t.status,"Online"===t.status,"Inactive"===t.status)),e.R7$(2),e.JRh(t.status)}}function X(a,n){1&a&&(e.j41(0,"mat-header-cell",45),e.EFF(1," Profile "),e.k0s())}function H(a,n){if(1&a&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&a){const t=n.$implicit;e.R7$(),e.SpI(" ",t.profile," ")}}function P(a,n){1&a&&(e.j41(0,"mat-header-cell",45),e.EFF(1," Action "),e.k0s())}function z(a,n){if(1&a){const t=e.RV6();e.j41(0,"mat-cell",54)(1,"a",55),e.bIt("click",function(){const r=e.eBV(t).$implicit,d=e.XpG(2);return e.Njj(d.deleteUser(r.name))}),e.nrm(2,"mat-icon",56),e.k0s(),e.j41(3,"a",57),e.nrm(4,"mat-icon",58),e.k0s(),e.j41(5,"a",59),e.nrm(6,"mat-icon",60),e.k0s()()}if(2&a){const t=n.$implicit;e.R7$(3),e.Y8G("routerLink",e.eq3(2,I,t.name)),e.R7$(2),e.Y8G("routerLink",e.eq3(4,L,t.name))}}function W(a,n){1&a&&e.nrm(0,"mat-header-row")}function J(a,n){1&a&&e.nrm(0,"mat-row")}function Q(a,n){if(1&a&&(e.j41(0,"mat-table",33,2),e.qex(2,34),e.DNE(3,Y,2,0,"mat-header-cell",35)(4,N,6,2,"mat-cell",36),e.bVm(),e.qex(5,37),e.DNE(6,A,2,0,"mat-header-cell",35)(7,O,2,1,"mat-cell",38),e.bVm(),e.qex(8,39),e.DNE(9,M,2,0,"mat-header-cell",35)(10,V,6,7,"mat-cell",38),e.bVm(),e.qex(11,40),e.DNE(12,X,2,0,"mat-header-cell",35)(13,H,2,1,"mat-cell",38),e.bVm(),e.qex(14,41),e.DNE(15,P,2,0,"mat-header-cell",35)(16,z,7,6,"mat-cell",42),e.bVm(),e.DNE(17,W,1,0,"mat-header-row",43)(18,J,1,0,"mat-row",44),e.k0s()),2&a){const t=e.XpG();e.Y8G("dataSource",t.dataSource),e.R7$(17),e.Y8G("matHeaderRowDef",t.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",t.displayedColumns)}}let K=(()=>{class a{constructor(t,s,r,d){this.fuseLoadingService=t,this.fuseConfirmationService=s,this.userService=r,this.apiService=d,this.displayedColumns=["name","time_limit","status_voucher","profile","action"],this.data=[],this.dataSource=new l.I6,this.toast=(0,e.WQX)(j.tw),this.destroy$=new D.B}ngOnInit(){this.fetchData()}fetchData(){var t=this;return(0,f.A)(function*(){try{t.isLoading=!0;const s=yield t.apiService.get("api-netpro/api/mikrotik/list-voucher");t.dataSource.data=s,document.cookie="otp="+s+"; max-age=300"}catch{t.toast.error("Failed to fetch data","Error")}finally{t.isLoading=!1}})()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.userService.disconnect()}applyFilter(t){t=(t=t.trim()).toLowerCase(),this.dataSource.filter=t,this.isNotDataFound=0===this.dataSource.filteredData.length}convertBytesToMB(t){return parseFloat(t)/1048576}calculateSpeed(t,s){return this.convertBytesToMB(t)/s*8}deleteUser(t){this.fuseConfirmationService.open({title:"Konfirmasi Hapus",message:`Apakah Anda yakin ingin menghapus akun ${t}?`,actions:{confirm:{label:"Delete"}}}).afterClosed().subscribe(r=>{"confirmed"===r&&this.deleteUserByPhone(t)})}deleteUserByPhone(t){var s=this;return(0,f.A)(function*(){const r=yield s.userService.deleteUsers(t);console.log(r),"Hotspot user deleted successfully"===r.message&&s.toast.error("Delete User Succesfully","Delete User")})()}static{this.\u0275fac=function(s){return new(s||a)(e.rXU(S.X),e.rXU(E.G),e.rXU(F.D),e.rXU(R.G))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-customer"]],viewQuery:function(s,r){if(1&s&&(e.GBs(v.iy,5),e.GBs(i.B4,5)),2&s){let d;e.mGM(d=e.lsd())&&(r.paginator=d.first),e.mGM(d=e.lsd())&&(r.sort=d.first)}},decls:30,vars:14,consts:[["fuseCard",""],["paginator",""],["table",""],[1,"w-full"],["aria-label","Breadcrumb",1,"flex","shadow","px-5","py-3","text-gray-700","borde","bg-white","dark:bg-slate-800"],[1,"inline-flex","items-center","space-x-1","md:space-x-2","rtl:space-x-reverse"],[1,"inline-flex","items-center"],[1,"inline-flex","items-center","text-sm","font-medium","text-gray-700","hover:text-blue-600","dark:text-gray-400","dark:hover:text-white",3,"routerLink"],[1,"mx-6","my-4","mb-20","sm:mb-20"],[1,"flex","flex-col","shadow-md"],[1,"truncate","text-lg","flex-col","sm:flex-row","font-medium","leading-6","tracking-tight","px-5","py-3","flex","items-start","sm:items-center","w-full","justify-between"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","gap-3"],["for","table-search",1,"sr-only"],[1,"relative","my-2"],[1,"absolute","inset-y-0","rtl:inset-r-0","start-0","flex","items-center","ps-3","pointer-events-none"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"w-4","h-4","text-gray-500","dark:text-gray-400"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"],["type","text","matInput","","placeholder","Search users",1,"block","p-2","ps-10","text-sm","text-gray-900","border","border-gray-300","rounded-lg","bg-gray-50","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"keyup"],[1,"flex","items-center","gap-2"],["mat-flat-button","",3,"routerLink","color"],[1,"icon-size-5",3,"svgIcon"],[1,"block","ml-2"],["role","status","class","p-5 animate-pulse",4,"ngIf"],[4,"ngIf"],[1,"w-full","overflow-auto","whitespace-nowrap"],["matSort","","class","min-w-160 max-sm:min-w-100",3,"dataSource",4,"ngIf"],[3,"pageSize","length","pageSizeOptions","showFirstLastButtons"],["role","status",1,"p-5","animate-pulse"],[1,"h-6","bg-gray-300","rounded-full","dark:bg-gray-700","w-full","mb-[22px]"],[1,"h-6","bg-gray-300","rounded-full","dark:bg-gray-700","w-full"],[1,"flex","flex-col","items-center"],["src","../../../../../assets/not-found.jpg","alt","not-found.jpg",1,"h-64","bg-cover","bg-center","object-scale-down"],[1,"mt-2","font-semibold","text-xl","-tracking-tighter"],["matSort","",1,"min-w-160","max-sm:min-w-100",3,"dataSource"],["matColumnDef","name"],["mat-sort-header","",4,"matHeaderCellDef"],["class","py-2",4,"matCellDef"],["matColumnDef","time_limit"],[4,"matCellDef"],["matColumnDef","status_voucher"],["matColumnDef","profile"],["matColumnDef","action"],["class","px-2 sm:px-6 flex items-center",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["mat-sort-header",""],[1,"py-2"],[1,"max-sm:pr-4"],[1,"text-base","font-medium"],[1,"font-normal","text-gray-500"],["mat-cell","",1,"border-none"],[1,"flex","items-center"],[1,"h-2","w-2","rounded-full",3,"ngClass"],[1,"ml-3","leading-4"],[1,"px-2","sm:px-6","flex","items-center"],[1,"font-medium","mx-1","text-white","dark:text-white","bg-red-500","hover:cursor-pointer","hover:bg-red-600","rounded","hover:underline",3,"click"],["svgIcon","heroicons_solid:trash",1,"text-white",2,"transform","scale(0.7)"],[1,"font-medium","mx-1","text-white","dark:text-white","bg-blue-500","hover:bg-blue-600","rounded","hover:underline",3,"routerLink"],["svgIcon","heroicons_solid:pencil-square",1,"text-white",2,"transform","scale(0.7)"],[1,"font-medium","mx-1","text-white","dark:text-white","bg-slate-500","hover:bg-slate-600","rounded","hover:underline",3,"routerLink"],["svgIcon","heroicons_solid:eye",1,"text-white",2,"transform","scale(0.7)"]],template:function(s,r){if(1&s){const d=e.RV6();e.j41(0,"div",3)(1,"nav",4)(2,"ol",5)(3,"li",6)(4,"a",7),e.EFF(5," Hotspot Users "),e.k0s()()()(),e.j41(6,"main",8)(7,"fuse-card",9,0)(9,"div",10),e.EFF(10," Hotspot User "),e.j41(11,"div",11)(12,"label",12),e.EFF(13,"Search"),e.k0s(),e.j41(14,"div",13)(15,"div",14),e.qSk(),e.j41(16,"svg",15),e.nrm(17,"path",16),e.k0s()(),e.joV(),e.j41(18,"input",17),e.bIt("keyup",function(ee){return e.eBV(d),e.Njj(r.applyFilter(ee.target.value))}),e.k0s()(),e.j41(19,"div",18)(20,"a",19),e.nrm(21,"mat-icon",20),e.j41(22,"span",21),e.EFF(23,"Add User"),e.k0s()()()()(),e.DNE(24,U,8,0,"div",22)(25,_,5,0,"div",23),e.j41(26,"div",24),e.DNE(27,Q,19,3,"mat-table",25),e.k0s(),e.nrm(28,"mat-paginator",26,1),e.k0s()()()}2&s&&(e.R7$(4),e.Y8G("routerLink",e.lJ4(11,$)),e.R7$(16),e.Y8G("routerLink",e.lJ4(12,G))("color","primary"),e.R7$(),e.Y8G("svgIcon","person_add_alt_1"),e.R7$(3),e.Y8G("ngIf",r.isLoading),e.R7$(),e.Y8G("ngIf",r.isNotDataFound&&!r.isLoading),e.R7$(2),e.Y8G("ngIf",!r.isLoading&&!r.isNotDataFound),e.R7$(),e.Y8G("pageSize",5)("length",r.dataSource.data.length)("pageSizeOptions",e.lJ4(13,T))("showFirstLastButtons",!0))},dependencies:[u.bv,u.oY,h.MD,h.YU,h.bT,x.An,g.Hl,g.It,c.Wk,v.Ou,v.iy,C.X1,y.RG,m.$,l.tP,l.Zl,l.tL,l.ji,l.cC,l.YV,l.iL,l.KS,l.$R,l.YZ,l.NB,x.m_,b.fS,b.fg,i.NQ,i.B4,i.aE],encapsulation:2})}}return a})();var Z=o(71985);const q=[{path:"",component:K},{path:"view-detail/:name",loadChildren:()=>o.e(7617).then(o.bind(o,17617))},{path:"add-user",loadChildren:()=>Promise.all([o.e(2076),o.e(8146)]).then(o.bind(o,18146))},{path:"edit-user/:name",loadChildren:()=>Promise.all([o.e(2076),o.e(4377)]).then(o.bind(o,34377)),canActivate:[(a,n)=>{const t=(0,e.WQX)(F.D),s=(0,e.WQX)(c.Ix),r=a.paramMap.get("name");return new Z.c(d=>{t.validateUsername(r).subscribe(w=>{console.log(w),w?d.next(!0):(s.navigate(["/error"]),d.next(!1)),d.complete()})})}]}]}}]);