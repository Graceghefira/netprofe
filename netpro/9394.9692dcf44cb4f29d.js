"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[9394],{89394:(O,d,a)=>{a.r(d),a.d(d,{default:()=>A});var g=a(10467),v=a(60177),x=a(89417),u=a(88834),C=a(53719),h=a(99213),f=a(59042),c=a(96695),m=a(2042),r=a(9159),y=a(49192),b=a(31849),p=a(44742),e=a(54438),S=a(80507),k=a(46601),D=a(9157),F=a(25798);const j=()=>[".."],R=()=>["add-user"],$=()=>[5,10,20],w=o=>["edit-user",o],B=o=>["view-detail",o];function G(o,i){1&o&&(e.j41(0,"mat-header-cell",33),e.EFF(1," Name "),e.k0s())}function T(o,i){if(1&o&&(e.j41(0,"mat-cell",34)(1,"div",35)(2,"div",36),e.EFF(3),e.k0s(),e.j41(4,"div",37),e.EFF(5),e.k0s()()()),2&o){const t=i.$implicit;e.R7$(3),e.JRh(t.comment),e.R7$(2),e.JRh(t.name)}}function E(o,i){1&o&&(e.j41(0,"mat-header-cell",33),e.EFF(1," Profile "),e.k0s())}function I(o,i){if(1&o&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.R7$(),e.SpI(" ",t.name," ")}}function L(o,i){1&o&&(e.j41(0,"mat-header-cell",33),e.EFF(1," Action "),e.k0s())}function N(o,i){if(1&o){const t=e.RV6();e.j41(0,"mat-cell",38)(1,"a",39),e.bIt("click",function(){const s=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteUser(s.name))}),e.nrm(2,"mat-icon",40),e.k0s(),e.j41(3,"a",41),e.nrm(4,"mat-icon",42),e.k0s(),e.j41(5,"a",43),e.nrm(6,"mat-icon",44),e.k0s()()}if(2&o){const t=i.$implicit;e.R7$(3),e.Y8G("routerLink",e.eq3(2,w,t.name)),e.R7$(2),e.Y8G("routerLink",e.eq3(4,B,t.name))}}function U(o,i){1&o&&e.nrm(0,"mat-header-row")}function Y(o,i){1&o&&e.nrm(0,"mat-row")}const A=[{path:"",component:(()=>{class o{constructor(t,n,s,l){this.fuseLoadingService=t,this.fuseConfirmationService=n,this.mqtt=s,this.userService=l,this.displayedColumns=["name","profile","action"],this.data=[],this.dataSource=new r.I6,this.cacheData=[]}ngOnInit(){const t=sessionStorage.getItem("customerData");t&&(this.cacheData=JSON.parse(t),this.dataSource.data=this.cacheData),this.mqttSubs=this.mqtt.subscribeToTopic("/test_publish").subscribe(n=>{const s=JSON.parse(n);this.cacheData=s.users,this.dataSource.data=this.cacheData,sessionStorage.setItem("customerData",JSON.stringify(s.users))})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}ngOnDestroy(){this.mqttSubs.unsubscribe()}applyFilter(t){t=(t=t.trim()).toLowerCase(),this.dataSource.filter=t}convertBytesToMB(t){return parseFloat(t)/1048576}calculateSpeed(t,n){return this.convertBytesToMB(t)/n*8}deleteUser(t){this.fuseConfirmationService.open({title:"Konfirmasi Hapus",message:`Apakah Anda yakin ingin menghapus akun ${t}?`,actions:{confirm:{label:"Delete"}}}).afterClosed().subscribe(s=>{"confirmed"===s&&this.deleteUserByPhone(t)})}deleteUserByPhone(t){var n=this;return(0,g.A)(function*(){const s=yield n.userService.deleteUsers(t);console.log(t),s&&console.log(s)})()}static{this.\u0275fac=function(n){return new(n||o)(e.rXU(S.X),e.rXU(k.G),e.rXU(D.s),e.rXU(F.D))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-customer"]],viewQuery:function(n,s){if(1&n&&(e.GBs(c.iy,5),e.GBs(m.B4,5)),2&n){let l;e.mGM(l=e.lsd())&&(s.paginator=l.first),e.mGM(l=e.lsd())&&(s.sort=l.first)}},standalone:!0,features:[e.aNF],decls:39,vars:14,consts:[["fuseCard",""],["table",""],["paginator",""],[1,"w-full"],["aria-label","Breadcrumb",1,"flex","shadow","px-5","py-3","text-gray-700","borde","bg-white","dark:bg-slate-800"],[1,"inline-flex","items-center","space-x-1","md:space-x-2","rtl:space-x-reverse"],[1,"inline-flex","items-center"],[1,"inline-flex","items-center","text-sm","font-medium","text-gray-700","hover:text-blue-600","dark:text-gray-400","dark:hover:text-white",3,"routerLink"],[1,"mx-6","my-4","mb-20","sm:mb-20"],[1,"flex","flex-col","shadow-md"],[1,"truncate","text-lg","flex-col","sm:flex-row","font-medium","leading-6","tracking-tight","px-5","py-3","flex","items-start","sm:items-center","w-full","justify-between"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","gap-3"],["for","table-search",1,"sr-only"],[1,"relative","my-2"],[1,"absolute","inset-y-0","rtl:inset-r-0","start-0","flex","items-center","ps-3","pointer-events-none"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"w-4","h-4","text-gray-500","dark:text-gray-400"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"],["type","text","matInput","","placeholder","Search users",1,"block","p-2","ps-10","text-sm","text-gray-900","border","border-gray-300","rounded-lg","bg-gray-50","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"keyup"],[1,"flex","items-center","gap-2"],["mat-flat-button","",3,"routerLink","color"],[1,"icon-size-5",3,"svgIcon"],[1,"block","ml-2"],["matSort","",3,"dataSource"],["matColumnDef","name"],["mat-sort-header","",4,"matHeaderCellDef"],["class","py-4",4,"matCellDef"],["matColumnDef","profile"],[4,"matCellDef"],["matColumnDef","action"],["class","px-2 sm:px-6 flex items-center",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"pageSize","length","pageSizeOptions","showFirstLastButtons"],["mat-sort-header",""],[1,"py-4"],[1,"max-sm:pr-4"],[1,"text-base","font-semibold"],[1,"font-normal","text-gray-500"],[1,"px-2","sm:px-6","flex","items-center"],[1,"font-medium","mx-1","text-white","dark:text-white","bg-red-500","hover:cursor-pointer","hover:bg-red-600","rounded","hover:underline",3,"click"],["svgIcon","heroicons_solid:trash",1,"text-white",2,"transform","scale(0.7)"],[1,"font-medium","mx-1","text-white","dark:text-white","bg-blue-500","hover:bg-blue-600","rounded","hover:underline",3,"routerLink"],["svgIcon","heroicons_solid:pencil-square",1,"text-white",2,"transform","scale(0.7)"],[1,"font-medium","mx-1","text-white","dark:text-white","bg-slate-500","hover:bg-slate-600","rounded","hover:underline",3,"routerLink"],["svgIcon","heroicons_solid:eye",1,"text-white",2,"transform","scale(0.7)"]],template:function(n,s){if(1&n){const l=e.RV6();e.j41(0,"div",3)(1,"nav",4)(2,"ol",5)(3,"li",6)(4,"a",7),e.EFF(5," Hotspot Users "),e.k0s()()()(),e.j41(6,"main",8)(7,"fuse-card",9,0)(9,"div",10),e.EFF(10," Hotspot User "),e.j41(11,"div",11)(12,"label",12),e.EFF(13,"Search"),e.k0s(),e.j41(14,"div",13)(15,"div",14),e.qSk(),e.j41(16,"svg",15),e.nrm(17,"path",16),e.k0s()(),e.joV(),e.j41(18,"input",17),e.bIt("keyup",function(J){return e.eBV(l),e.Njj(s.applyFilter(J.target.value))}),e.k0s()(),e.j41(19,"div",18)(20,"a",19),e.nrm(21,"mat-icon",20),e.j41(22,"span",21),e.EFF(23,"Add User"),e.k0s()()()()(),e.j41(24,"mat-table",22,1),e.qex(26,23),e.DNE(27,G,2,0,"mat-header-cell",24)(28,T,6,2,"mat-cell",25),e.bVm(),e.qex(29,26),e.DNE(30,E,2,0,"mat-header-cell",24)(31,I,2,1,"mat-cell",27),e.bVm(),e.qex(32,28),e.DNE(33,L,2,0,"mat-header-cell",24)(34,N,7,6,"mat-cell",29),e.bVm(),e.DNE(35,U,1,0,"mat-header-row",30)(36,Y,1,0,"mat-row",31),e.k0s(),e.nrm(37,"mat-paginator",32,2),e.k0s()()()}2&n&&(e.R7$(4),e.Y8G("routerLink",e.lJ4(11,j)),e.R7$(16),e.Y8G("routerLink",e.lJ4(12,R))("color","primary"),e.R7$(),e.Y8G("svgIcon","person_add_alt_1"),e.R7$(3),e.Y8G("dataSource",s.dataSource),e.R7$(11),e.Y8G("matHeaderRowDef",s.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",s.displayedColumns),e.R7$(),e.Y8G("pageSize",5)("length",s.dataSource.data.length)("pageSizeOptions",e.lJ4(13,$))("showFirstLastButtons",!0))},dependencies:[p.bv,p.oY,v.MD,h.An,u.Hl,u.It,y.Wk,c.Ou,c.iy,x.X1,C.RG,b.$,r.tP,r.Zl,r.tL,r.ji,r.cC,r.YV,r.iL,r.KS,r.$R,r.YZ,r.NB,h.m_,f.fS,f.fg,m.NQ,m.B4,m.aE]})}}return o})()},{path:"view-detail/:name",loadChildren:()=>a.e(7617).then(a.bind(a,17617))},{path:"add-user",loadChildren:()=>Promise.all([a.e(2076),a.e(1239)]).then(a.bind(a,41239))},{path:"edit-user/:name",loadChildren:()=>Promise.all([a.e(2076),a.e(4377)]).then(a.bind(a,34377))}]}}]);