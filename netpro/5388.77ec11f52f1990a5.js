"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[5388],{31849:(Y,y,r)=>{r.d(y,{$:()=>t});var h=r(14085),_=r(87122),e=r(54438);const n=[[["","fuseCardFront",""]],[["","fuseCardBack",""]],"*",[["","fuseCardExpansion",""]]],E=["[fuseCardFront]","[fuseCardBack]","*","[fuseCardExpansion]"];function v(s,C){1&s&&(e.j41(0,"div",0),e.SdG(1),e.k0s(),e.j41(2,"div",1),e.SdG(3,1),e.k0s())}function x(s,C){1&s&&(e.j41(0,"div",2),e.SdG(1,3),e.k0s()),2&s&&e.Y8G("@expandCollapse",void 0)}function i(s,C){if(1&s&&(e.SdG(0,2),e.DNE(1,x,2,1,"div",2)),2&s){const b=e.XpG();e.R7$(),e.vxM(b.expanded?1:-1)}}let t=(()=>{class s{constructor(){this.expanded=!1,this.face="front",this.flippable=!1}get classList(){return{"fuse-card-expanded":this.expanded,"fuse-card-face-back":this.flippable&&"back"===this.face,"fuse-card-face-front":this.flippable&&"front"===this.face,"fuse-card-flippable":this.flippable}}ngOnChanges(b){"expanded"in b&&(this.expanded=(0,h.he)(b.expanded.currentValue)),"flippable"in b&&(this.flippable=(0,h.he)(b.flippable.currentValue))}static{this.\u0275fac=function(k){return new(k||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["fuse-card"]],hostVars:2,hostBindings:function(k,F){2&k&&e.HbH(F.classList)},inputs:{expanded:"expanded",face:"face",flippable:"flippable"},exportAs:["fuseCard"],features:[e.OA$],ngContentSelectors:E,decls:2,vars:2,consts:[[1,"fuse-card-front"],[1,"fuse-card-back"],[1,"fuse-card-expansion"]],template:function(k,F){1&k&&(e.NAR(n),e.DNE(0,v,4,0)(1,i,2,1)),2&k&&(e.vxM(F.flippable?0:-1),e.R7$(),e.vxM(F.flippable?-1:1))},styles:["fuse-card{position:relative;display:flex;overflow:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable{border-radius:0;overflow:visible;transform-style:preserve-3d;transition:transform 1s;perspective:600px;background:transparent;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-front{visibility:hidden;opacity:0;transform:rotateY(180deg)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-back{visibility:visible;opacity:1;transform:rotateY(360deg)}fuse-card.fuse-card-flippable .fuse-card-front,fuse-card.fuse-card-flippable .fuse-card-back{display:flex;flex-direction:column;flex:1 1 auto;z-index:10;transition:transform .5s ease-out 0s,visibility 0s ease-in .2s,opacity 0s ease-in .2s;backface-visibility:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable .fuse-card-front{position:relative;opacity:1;visibility:visible;transform:rotateY(0);overflow:hidden}fuse-card.fuse-card-flippable .fuse-card-back{position:absolute;inset:0;opacity:0;visibility:hidden;transform:rotateY(180deg);overflow:hidden auto}\n"],encapsulation:2,data:{animation:_.X}})}}return s})()},2359:(Y,y,r)=>{r.d(y,{X:()=>X});var h=r(10467),_=r(60177),e=r(89417),n=r(75351),E=r(30636),v=r(99213),x=r(59042),i=r(22080),t=r(54438),s=r(45794),C=r(3366),b=r(73387),k=r(46601);const F=f=>({"py-2":f});function j(f,M){1&f&&(t.j41(0,"mat-error"),t.EFF(1,"Profile name is required"),t.k0s())}function K(f,M){1&f&&(t.j41(0,"mat-error"),t.EFF(1,"Shared User is required"),t.k0s())}function o(f,M){1&f&&(t.j41(0,"mat-error"),t.EFF(1,"Upload is required"),t.k0s())}function g(f,M){1&f&&(t.j41(0,"mat-error"),t.EFF(1,'Upload is must be Number and ends with "M", "M" is for Mbps'),t.k0s())}function P(f,M){1&f&&(t.j41(0,"mat-error"),t.EFF(1,"Download is required"),t.k0s())}function S(f,M){1&f&&(t.j41(0,"mat-error"),t.EFF(1,'Download is must be Number and ends with "M", "M" is for Mbps'),t.k0s())}function G(f,M){1&f&&(t.j41(0,"mat-error"),t.EFF(1,"Direct Link is required"),t.k0s())}function N(f,M){1&f&&(t.j41(0,"mat-error"),t.EFF(1,"Direct Link must bet link"),t.k0s())}let X=(()=>{class f{constructor(c,w,d,U,A,T,L,I){this.fb=c,this._toast=w,this._apiService=d,this._tableUserProfileService=U,this.dialogRef=A,this.fuseConfirmationService=T,this._toastService=L,this.data=I,this.isLoading=!1}ngOnInit(){this.roleForm=this.fb.group({profile_name:["",[e.k0.required]],shared_users:["",[e.k0.required,e.k0.pattern(/^\d+$/)]],upload:["",[e.k0.required,e.k0.pattern(/^\d+M$/)]],download:["",[e.k0.required,e.k0.pattern(/^\d+M$/)]],link:["",[e.k0.required,e.k0.pattern(/^(https?:\/\/)?([\w-]+\.)*[\w-]+\.[a-z]{2,}(\/[\w-./?%&=]*)?$/i)]]})}onNoClick(){this.dialogRef.close()}onSubmit(){var c=this;return(0,h.A)(function*(){try{if(c.isLoading=!0,c.roleForm.valid){const w=c.roleForm.get("profile_name")?.value,d=c.roleForm.get("shared_users")?.value,U=c.roleForm.get("upload")?.value,A=c.roleForm.get("download")?.value,T=c.roleForm.get("link")?.value,I={profile_name:w,shared_users:d,rate_limit:`${U}/${A}`,link:T},R=yield c._apiService.post("/api/mikrotik/set-profile",I);"Hotspot profile created successfully"===R.message&&(c.roleForm.reset(),c.dialogRef.close(),c._tableUserProfileService.fetchData(),c._toast.success("Success Create User Profile!","Success")),500===R.status?c._toast.error("Internal Server Error","Error"):"Profile dan link sudah ada, tidak ada perubahan yang dilakukan"===R.message?c.fuseConfirmationService.open({title:"Notification",message:"The user profile already exists on the server. Would you like to create another user profile anyway?",icon:{color:"error"},actions:{confirm:{label:"Confirmation",color:"warn"}}}):(404===R.status||400===R.status)&&c._toast.error("Failed to Create Account","Error")}else c._toastService.info("Please Fill in All Required Fields!","Information")}catch{c._toast.error("Gagal menambahkan role")}finally{c.isLoading=!1}})()}static{this.\u0275fac=function(w){return new(w||f)(t.rXU(e.ok),t.rXU(s.tw),t.rXU(C.G),t.rXU(b.Q),t.rXU(n.CP),t.rXU(k.G),t.rXU(s.tw),t.rXU(n.Vh))}}static{this.\u0275cmp=t.VBU({type:f,selectors:[["app-form-add"]],decls:40,vars:30,consts:[[1,"h-full","w-full"],[1,"flex","justify-between","p-2"],[1,"truncate","text-lg","font-medium","leading-6","tracking-tight","px-5","py-3","flex","flex-col","sm:flex-row","items-start","sm:items-center","w-full","justify-between"],[1,"mb-2","text-xl","font-semibold","sm:mb-0"],[3,"click"],["svgIcon","mat_solid:close",1,"cursor-pointer"],["message","Sumbitting Form...","spinner","circular",3,"isOpen"],[1,"p-3"],[1,"bg-card","flex","flex-col","overflow-hidden","rounded-2xl","px-4","py-4","pb-4",3,"formGroup"],["appearance","outline",1,"w-full",3,"ngClass"],["matInput","","formControlName","profile_name","type","text",3,"placeholder"],[4,"ngIf"],["matInput","","type","number","formControlName","shared_users",3,"placeholder"],["matInput","","formControlName","upload",3,"placeholder"],["matInput","","formControlName","download",3,"placeholder"],["matInput","","formControlName","link",3,"placeholder"],[1,"bg-green-600","text-white","p-2","rounded",3,"click"]],template:function(w,d){if(1&w&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),t.EFF(4,"Add User Profile"),t.k0s()(),t.j41(5,"a",4),t.bIt("click",function(){return d.onNoClick()}),t.nrm(6,"mat-icon",5),t.k0s()(),t.nrm(7,"ion-loading",6),t.j41(8,"div",7)(9,"form",8)(10,"mat-form-field",9)(11,"mat-label"),t.EFF(12,"Profile Name"),t.k0s(),t.nrm(13,"input",10),t.DNE(14,j,2,0,"mat-error",11),t.k0s(),t.j41(15,"mat-form-field",9)(16,"mat-label"),t.EFF(17,"Shared User"),t.k0s(),t.nrm(18,"input",12),t.DNE(19,K,2,0,"mat-error",11),t.k0s(),t.j41(20,"mat-form-field",9)(21,"mat-label"),t.EFF(22,"Upload"),t.k0s(),t.nrm(23,"input",13),t.DNE(24,o,2,0,"mat-error",11)(25,g,2,0,"mat-error",11),t.k0s(),t.j41(26,"mat-form-field",9)(27,"mat-label"),t.EFF(28,"Download"),t.k0s(),t.nrm(29,"input",14),t.DNE(30,P,2,0,"mat-error",11)(31,S,2,0,"mat-error",11),t.k0s(),t.j41(32,"mat-form-field",9)(33,"mat-label"),t.EFF(34,"Direct Link"),t.k0s(),t.nrm(35,"input",15),t.DNE(36,G,2,0,"mat-error",11)(37,N,2,0,"mat-error",11),t.k0s(),t.j41(38,"button",16),t.bIt("click",function(){return d.onSubmit()}),t.EFF(39," Add User Profile "),t.k0s()()()()),2&w){let U,A,T,L,I,R,B,O,W,V,$,a,u;t.R7$(7),t.Y8G("isOpen",d.isLoading),t.R7$(2),t.Y8G("formGroup",d.roleForm),t.R7$(),t.Y8G("ngClass",t.eq3(20,F,(null==(U=d.roleForm.get("profile_name"))?null:U.invalid)&&(null==(U=d.roleForm.get("profile_name"))?null:U.touched))),t.R7$(3),t.Y8G("placeholder","Profile Name"),t.R7$(),t.Y8G("ngIf",null==(A=d.roleForm.get("profile_name"))?null:A.hasError("required")),t.R7$(),t.Y8G("ngClass",t.eq3(22,F,(null==(T=d.roleForm.get("shared_users"))?null:T.invalid)&&(null==(T=d.roleForm.get("shared_users"))?null:T.touched))),t.R7$(3),t.Y8G("placeholder","How many device can be connected? (e.g. 10)"),t.R7$(),t.Y8G("ngIf",null==(L=d.roleForm.get("shared_users"))?null:L.hasError("required")),t.R7$(),t.Y8G("ngClass",t.eq3(24,F,(null==(I=d.roleForm.get("upload"))?null:I.invalid)&&(null==(I=d.roleForm.get("upload"))?null:I.touched))),t.R7$(3),t.Y8G("placeholder","Upload Limit (e.g. 10M)"),t.R7$(),t.Y8G("ngIf",null==(R=d.roleForm.get("upload"))?null:R.hasError("required")),t.R7$(),t.Y8G("ngIf",null==(B=d.roleForm.get("upload"))?null:B.hasError("pattern")),t.R7$(),t.Y8G("ngClass",t.eq3(26,F,(null==(O=d.roleForm.get("download"))?null:O.invalid)&&(null==(O=d.roleForm.get("download"))?null:O.touched))),t.R7$(3),t.Y8G("placeholder","Download Limit (e.g. 10M)"),t.R7$(),t.Y8G("ngIf",null==(W=d.roleForm.get("download"))?null:W.hasError("required")),t.R7$(),t.Y8G("ngIf",null==(V=d.roleForm.get("download"))?null:V.hasError("pattern")),t.R7$(),t.Y8G("ngClass",t.eq3(28,F,(null==($=d.roleForm.get("link"))?null:$.invalid)&&(null==($=d.roleForm.get("link"))?null:$.touched))),t.R7$(3),t.Y8G("placeholder","https://awh.co.id/"),t.R7$(),t.Y8G("ngIf",null==(a=d.roleForm.get("link"))?null:a.hasError("required")),t.R7$(),t.Y8G("ngIf",null==(u=d.roleForm.get("link"))?null:u.hasError("pattern"))}},dependencies:[E.RG,E.rl,E.nJ,E.TL,e.YN,e.qT,e.me,e.Q0,e.BC,e.cb,x.fS,x.fg,e.X1,e.j4,e.JD,_.MD,_.YU,_.bT,v.m_,v.An,i.rQ],encapsulation:2})}}return f})()},89445:(Y,y,r)=>{r.d(y,{I:()=>F});var h=r(10467),_=r(60177),e=r(54438),n=r(89417),E=r(75351),v=r(30636),x=r(99213),i=r(59042),t=r(22080),s=r(45794),C=r(49192),b=r(3366),k=r(73387);let F=(()=>{class j{constructor(o,g,P,S,G,N){this.fb=o,this.route=g,this._apiService=P,this._tableUserProfileService=S,this.dialogRef=G,this.data=N,this.isLoading=!1,this.toast=(0,e.WQX)(s.tw)}get disabledInput(){return this._tableUserProfileService.disabledInput()}get isLoadingInput(){return this._tableUserProfileService.isLoadingInput()}get detailDataUserProfile(){return this._tableUserProfileService.detailDataUserProfile()}onNoClick(){this.dialogRef.close()}ngOnInit(){var o=this;return(0,h.A)(function*(){if(o.userProfileFormEdit=o.fb.group({shared_users:["",[n.k0.required,n.k0.pattern(/^\d+$/)]],upload:["",[n.k0.required,n.k0.pattern(/^\d+M$/)]],download:["",[n.k0.required,n.k0.pattern(/^\d+M$/)]],link:["",[n.k0.required,n.k0.pattern(/^(https?:\/\/)?([\w-]+\.)*[\w-]+\.[a-z]{2,}(\/[\w-./?%&=]*)?$/i)]]}),o.disabledInput||o.isLoadingInput?o.userProfileFormEdit.disable():o.userProfileFormEdit.enable(),o.detailDataUserProfile)try{const[g,P]=o.detailDataUserProfile.rate_limit.split("/");o.profile_datas=o.detailDataUserProfile,o.userProfileFormEdit.patchValue({profile_Name:o.profile_name,shared_users:o.profile_datas.shared_users,upload:g,download:P,link:o.profile_datas.link})}catch{o.toast.error("Failed Fetch Data","Error")}})()}onSubmit(){var o=this;return(0,h.A)(function*(){try{if(o.isLoading=!0,o.userProfileFormEdit.valid){const g=new FormData,P=`${o.userProfileFormEdit.value.upload}/${o.userProfileFormEdit.value.download}`;g.append("shared_users",o.userProfileFormEdit.value.shared_users),g.append("rate_limit",P),g.append("link",o.userProfileFormEdit.value.link),"Hotspot profile and link updated successfully"==(yield o._apiService.post(`/api/mikrotik/hotspot-profile/${o.profile_datas.profile_name}`,g)).message?(o.userProfileFormEdit.disable(),o.userProfileFormEdit.reset(),o.isLoading=!1,o.toast.success("Success Update User Profile","Success"),o._tableUserProfileService.fetchData(),o.onNoClick()):(o.toast.error("Failed Update User Profile","Error"),o.isLoading=!1)}else o.toast.info("Please fill in all required fields!","Error"),o.isLoading=!1}catch{o.toast.error("Failed Update User Profile","Error"),o.isLoading=!1}finally{o.isLoading=!1}})()}static{this.\u0275fac=function(g){return new(g||j)(e.rXU(n.ok),e.rXU(C.nX),e.rXU(b.G),e.rXU(k.Q),e.rXU(E.CP),e.rXU(E.Vh))}}static{this.\u0275cmp=e.VBU({type:j,selectors:[["app-form-edit"]],decls:28,vars:6,consts:[[1,"h-full","w-full"],[1,"flex","justify-between","p-2"],[1,"truncate","text-lg","font-medium","leading-6","tracking-tight","px-5","py-3","flex","flex-col","sm:flex-row","items-start","sm:items-center","w-full","justify-between"],[1,"mb-2","text-xl","font-semibold","sm:mb-0"],[3,"click"],["svgIcon","mat_solid:close",1,"cursor-pointer"],["message","Sumbitting Form...","spinner","circular",3,"isOpen"],[1,"p-3"],[1,"bg-card","flex","flex-col","overflow-hidden","rounded-2xl","px-4","py-4","pb-4",3,"formGroup"],["appearance","outline",1,"w-full"],["matInput","","type","number","formControlName","shared_users",3,"placeholder"],["matInput","","pattern","^\\d+M$","formControlName","upload",3,"placeholder"],["matInput","","pattern","^\\d+M$","formControlName","download",3,"placeholder"],["matInput","","formControlName","link",3,"placeholder"],[1,"bg-blue-600","text-white","p-2","font-semibold","rounded",3,"click"]],template:function(g,P){1&g&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e.EFF(4,"Edit User Profile"),e.k0s()(),e.j41(5,"a",4),e.bIt("click",function(){return P.onNoClick()}),e.nrm(6,"mat-icon",5),e.k0s()(),e.nrm(7,"ion-loading",6),e.j41(8,"div",7)(9,"form",8)(10,"mat-form-field",9)(11,"mat-label"),e.EFF(12,"Shared User"),e.k0s(),e.nrm(13,"input",10),e.k0s(),e.j41(14,"mat-form-field",9)(15,"mat-label"),e.EFF(16,"Upload"),e.k0s(),e.nrm(17,"input",11),e.k0s(),e.j41(18,"mat-form-field",9)(19,"mat-label"),e.EFF(20,"Download"),e.k0s(),e.nrm(21,"input",12),e.k0s(),e.j41(22,"mat-form-field",9)(23,"mat-label"),e.EFF(24,"Direct Link"),e.k0s(),e.nrm(25,"input",13),e.k0s(),e.j41(26,"button",14),e.bIt("click",function(){return P.onSubmit()}),e.EFF(27," Edit User Profile "),e.k0s()()()()),2&g&&(e.R7$(7),e.Y8G("isOpen",P.isLoading),e.R7$(2),e.Y8G("formGroup",P.userProfileFormEdit),e.R7$(4),e.Y8G("placeholder","How many accounts can be connected? (e.g. 10)"),e.R7$(4),e.Y8G("placeholder","Upload Limit (e.g. 10M)"),e.R7$(4),e.Y8G("placeholder","Download Limit (e.g. 10M)"),e.R7$(4),e.Y8G("placeholder","https://awh.co.id/"))},dependencies:[v.RG,v.rl,v.nJ,n.YN,n.qT,n.me,n.Q0,n.BC,n.cb,n.R_,i.fS,i.fg,n.X1,n.j4,n.JD,_.MD,x.m_,x.An,t.rQ],encapsulation:2})}}return j})()},65388:(Y,y,r)=>{r.r(y),r.d(y,{default:()=>$});var h=r(10467),_=r(60177),e=r(54438),n=r(88834),E=r(75351),v=r(96695),x=r(2042),i=r(9159),t=r(31849),s=r(59042),C=r(89417),b=r(99213),k=r(45794);const F=[[13273596e5,30.95],[1327446e6,31.34],[13275324e5,31.18],[13276188e5,31.05],[1327878e6,31],[13279644e5,30.95],[13280508e5,31.24],[13281372e5,31.29],[13282236e5,31.85]];var j=r(2359),K=r(89445),o=r(46601),g=r(3366),P=r(73387);const S=()=>[5,10,20];function G(a,u){1&a&&(e.j41(0,"div",22),e.nrm(1,"div",23)(2,"div",23)(3,"div",23)(4,"div",23)(5,"div",23)(6,"div",23)(7,"div",24),e.k0s())}function N(a,u){1&a&&(e.j41(0,"mat-header-cell",38),e.EFF(1," Profile Name "),e.k0s())}function X(a,u){1&a&&(e.j41(0,"div",22),e.nrm(1,"div",23),e.k0s())}function f(a,u){if(1&a&&(e.j41(0,"mat-cell",39),e.EFF(1),e.k0s()),2&a){const l=u.$implicit;e.R7$(),e.SpI(" ",l.profile_name," ")}}function M(a,u){1&a&&(e.j41(0,"mat-header-cell",40),e.EFF(1," Shared Users "),e.k0s())}function c(a,u){if(1&a&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&a){const l=u.$implicit;e.R7$(),e.SpI(" ",l.shared_users," ")}}function w(a,u){1&a&&(e.j41(0,"mat-header-cell",40),e.EFF(1," Rate Limit "),e.k0s())}function d(a,u){if(1&a&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&a){const l=u.$implicit;e.R7$(),e.SpI(" ",l.rate_limit," ")}}function U(a,u){1&a&&(e.j41(0,"mat-header-cell",40),e.EFF(1," Link "),e.k0s())}function A(a,u){if(1&a&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&a){const l=u.$implicit;e.R7$(),e.SpI(" ",l.link," ")}}function T(a,u){1&a&&(e.j41(0,"mat-header-cell",40),e.EFF(1," Action "),e.k0s())}function L(a,u){if(1&a){const l=e.RV6();e.j41(0,"mat-cell",41)(1,"a",42),e.bIt("click",function(){const p=e.eBV(l).$implicit,D=e.XpG(2);return e.Njj(D.deteleProfiles(p.profile_name))}),e.nrm(2,"mat-icon",43),e.k0s(),e.j41(3,"a",44),e.bIt("click",function(){const p=e.eBV(l).$implicit,D=e.XpG(2);return e.Njj(D.editUsersProfile(p.profile_name))}),e.nrm(4,"mat-icon",45),e.k0s()()}}function I(a,u){1&a&&e.nrm(0,"mat-header-row")}function R(a,u){1&a&&e.nrm(0,"mat-row")}function B(a,u){if(1&a&&(e.j41(0,"mat-table",25,2)(2,"div"),e.qex(3,26),e.DNE(4,N,2,0,"mat-header-cell",27)(5,X,2,0,"div",17)(6,f,2,1,"mat-cell",28),e.bVm(),e.qex(7,29),e.DNE(8,M,2,0,"mat-header-cell",30)(9,c,2,1,"mat-cell",31),e.bVm(),e.qex(10,32),e.DNE(11,w,2,0,"mat-header-cell",30)(12,d,2,1,"mat-cell",31),e.bVm(),e.qex(13,33),e.DNE(14,U,2,0,"mat-header-cell",30)(15,A,2,1,"mat-cell",31),e.bVm(),e.qex(16,34),e.DNE(17,T,2,0,"mat-header-cell",30)(18,L,5,0,"mat-cell",35),e.bVm(),e.DNE(19,I,1,0,"mat-header-row",36)(20,R,1,0,"mat-row",37),e.k0s()()),2&a){const l=e.XpG();e.Y8G("dataSource",l.dataSource),e.R7$(5),e.Y8G("ngIf",l.isLoading),e.R7$(14),e.Y8G("matHeaderRowDef",l.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",l.displayedColumns)}}function O(a,u){1&a&&(e.j41(0,"div",46)(1,"div",47),e.nrm(2,"img",48),e.j41(3,"h1",49),e.EFF(4,"Data Not Found"),e.k0s()()())}let W=(()=>{class a{constructor(l,m,p,D){this.fuseConfirmationService=l,this._apiService=m,this._matDialog=p,this._tableUserProfileService=D,this.displayedColumns=["name","shared_users","rate_limit","link","action"],this.dataSource=new i.I6,this.toast=(0,e.WQX)(k.tw),(0,e.QZP)(()=>{this.dataSource.data=this.userProfile})}get userProfile(){return this._tableUserProfileService.hotspotUserProfile()}get isLoading(){return this._tableUserProfileService.isLoading()}set setIsLoading(l){this._tableUserProfileService.isLoading.set(l)}set setIsNotDataFound(l){this._tableUserProfileService.isNotFound.set(l)}get isNotDataFound(){return this._tableUserProfileService.isNotFound()}ngOnInit(){var l=this;return(0,h.A)(function*(){yield l._tableUserProfileService.fetchData()})()}fetchData(){return(0,h.A)(function*(){})()}addNewUserProfile(){this._matDialog.open(j.X,{width:window.innerWidth<600?"90%":"50%",maxWidth:"100vw"})}editUsersProfile(l){var m=this;return(0,h.A)(function*(){yield m._tableUserProfileService.fetchDataByName(l),m._matDialog.open(K.I,{width:window.innerWidth<600?"90%":"50%",maxWidth:"100vw"})})()}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}applyFilter(l){l=l.trim().toLowerCase(),this.dataSource.filterPredicate=(m,p)=>m.profile_name.toLowerCase().includes(p),console.log(F),this.dataSource.filter=l,this.setIsNotDataFound=0===this.dataSource.filteredData.length}deteleProfiles(l){this.fuseConfirmationService.open({title:"Delete Confirmation",message:`Are you sure want to delete ${l}?`,actions:{confirm:{label:"Delete"}}}).afterClosed().subscribe(p=>{"confirmed"===p&&this.deleteProfileByName(l)})}deleteProfileByName(l){var m=this;return(0,h.A)(function*(){try{"Hotspot profile deleted successfully"===(yield m._apiService.delete(`/api/mikrotik/delete-profile/${l}`,!0)).message?(m._tableUserProfileService.fetchData(),m.toast.success("Successfully Delete User Profile","Success Delete")):m.toast.error("Failed to Delete User Profile","Error")}catch{m.toast.error("Failed to Delete User Profile","Error")}})()}static{this.\u0275fac=function(m){return new(m||a)(e.rXU(o.G),e.rXU(g.G),e.rXU(E.bZ),e.rXU(P.Q))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-table-user-profile"]],viewQuery:function(m,p){if(1&m&&(e.GBs(x.B4,5),e.GBs(v.iy,5)),2&m){let D;e.mGM(D=e.lsd())&&(p.sort=D.first),e.mGM(D=e.lsd())&&(p.paginator=D.first)}},decls:23,vars:9,consts:[["fuseCard",""],["paginator",""],["table",""],[1,"my-4"],[1,"flex","flex-col","shadow-md"],[1,"truncate","text-lg","flex-col","sm:flex-row","font-medium","leading-6","tracking-tight","px-5","py-3","flex","items-start","sm:items-center","w-full","justify-between"],["for","table-search",1,"sr-only"],[1,"relative","my-2"],[1,"absolute","inset-y-0","rtl:inset-r-0","start-0","flex","items-center","ps-3","pointer-events-none"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"w-4","h-4","text-gray-500","dark:text-gray-400"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"],["type","text","matInput","","placeholder","Search User Profile",1,"block","p-2","ps-10","text-sm","text-gray-900","border","border-gray-300","rounded-lg","bg-gray-50","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"keyup"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","gap-3"],[1,"flex","items-center","gap-2"],["mat-flat-button","",3,"click","color"],[1,"icon-size-5",3,"svgIcon"],[1,"block","ml-2"],["role","status","class","p-5 animate-pulse",4,"ngIf"],[1,"w-full","overflow-auto","whitespace-nowrap"],["matSort","","class","min-w-160 max-sm:min-w-128",3,"dataSource",4,"ngIf"],["class","my-10",4,"ngIf"],[3,"pageSize","pageSizeOptions","showFirstLastButtons"],["role","status",1,"p-5","animate-pulse"],[1,"h-6","bg-gray-300","rounded-full","dark:bg-gray-700","w-full","mb-[22px]"],[1,"h-6","bg-gray-300","rounded-full","dark:bg-gray-700","w-full"],["matSort","",1,"min-w-160","max-sm:min-w-128",3,"dataSource"],["matColumnDef","name"],["mat-sort-header","profile_name",4,"matHeaderCellDef"],["class","py-4 font-medium",4,"matCellDef"],["matColumnDef","shared_users"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","rate_limit"],["matColumnDef","link"],["matColumnDef","action"],["class","px-2 sm:px-6 flex items-center",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["mat-sort-header","profile_name"],[1,"py-4","font-medium"],["mat-sort-header",""],[1,"px-2","sm:px-6","flex","items-center"],[1,"font-medium","mx-1","text-white","dark:text-white","bg-red-500","rounded","hover:underline",3,"click"],["svgIcon","heroicons_solid:trash",1,"text-white",2,"transform","scale(0.7)"],[1,"font-medium","mx-1","text-white","dark:text-white","bg-blue-500","rounded","hover:underline",3,"click"],["svgIcon","heroicons_solid:pencil-square",1,"text-white",2,"transform","scale(0.7)"],[1,"my-10"],[1,"flex","flex-col","items-center"],["src","../../../../../assets/not-found.jpg","alt","not-found.jpg",1,"h-64","bg-cover","bg-center","object-scale-down"],[1,"mt-2","font-semibold","text-xl","-tracking-tighter"]],template:function(m,p){if(1&m){const D=e.RV6();e.j41(0,"main",3)(1,"fuse-card",4,0)(3,"div",5)(4,"label",6),e.EFF(5,"Search"),e.k0s(),e.j41(6,"div",7)(7,"div",8),e.qSk(),e.j41(8,"svg",9),e.nrm(9,"path",10),e.k0s()(),e.joV(),e.j41(10,"input",11),e.bIt("keyup",function(Q){return e.eBV(D),e.Njj(p.applyFilter(Q.target.value))}),e.k0s()(),e.j41(11,"div",12)(12,"div",13)(13,"a",14),e.bIt("click",function(){return e.eBV(D),e.Njj(p.addNewUserProfile())}),e.nrm(14,"mat-icon",15),e.j41(15,"span",16),e.EFF(16,"Add User Profile"),e.k0s()()()()(),e.DNE(17,G,8,0,"div",17),e.j41(18,"div",18),e.DNE(19,B,21,4,"mat-table",19),e.k0s(),e.DNE(20,O,5,0,"div",20),e.nrm(21,"mat-paginator",21,1),e.k0s()()}2&m&&(e.R7$(13),e.Y8G("color","primary"),e.R7$(),e.Y8G("svgIcon","person_add_alt_1"),e.R7$(3),e.Y8G("ngIf",p.isLoading),e.R7$(2),e.Y8G("ngIf",!p.isLoading),e.R7$(),e.Y8G("ngIf",p.isNotDataFound&&!p.isLoading),e.R7$(),e.Y8G("pageSize",10)("pageSizeOptions",e.lJ4(8,S))("showFirstLastButtons",!0))},dependencies:[_.MD,_.bT,n.Hl,n.It,v.Ou,v.iy,E.hM,i.tP,i.Zl,i.tL,i.ji,i.cC,i.YV,i.iL,i.KS,i.$R,i.YZ,i.NB,b.m_,b.An,C.X1,s.fS,s.fg,x.NQ,x.B4,x.aE,t.$],encapsulation:2})}}return a})();const $=[{path:"",component:(()=>{class a{static{this.\u0275fac=function(m){return new(m||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-role-management"]],decls:16,vars:0,consts:[[1,"w-full","flex","flex-col"],[1,"px-6","pt-4","flex","justify-between","items-start","sm:items-center","flex-col","sm:flex-row","gap-5","sm:gap-0"],[1,"font-bold","text-lg","sm:text-3xl"],[1,"text-sm","sm:text-base"],[1,"text-sm","text-gray-600"],[1,"font-medium","text-gray-500"],[1,"mx-2","text-gray-400"],[1,"font-semibold","text-blue-600","hover:text-blue-500","truncate"],[1,"w-full","px-4"]],template:function(m,p){1&m&&(e.j41(0,"main",0)(1,"div",1)(2,"div")(3,"h1",2),e.EFF(4,"Hotspot User Profile"),e.k0s(),e.j41(5,"p",3),e.EFF(6,"This page shows all available user profiles used for hotspot access. Profiles help manage bandwidth for each vouchers"),e.k0s()(),e.j41(7,"div",4)(8,"span",5),e.EFF(9,"Home"),e.k0s(),e.j41(10,"span",6),e.EFF(11,"/"),e.k0s(),e.j41(12,"span",7),e.EFF(13,"Hotspot User Profile"),e.k0s()()(),e.j41(14,"div",8),e.nrm(15,"app-table-user-profile"),e.k0s()())},dependencies:[W],encapsulation:2})}}return a})()},{path:"add-role",loadChildren:()=>r.e(3680).then(r.bind(r,63680))},{path:"edit-role/:name",loadChildren:()=>r.e(1954).then(r.bind(r,61954))}]},73387:(Y,y,r)=>{r.d(y,{Q:()=>E});var h=r(10467),_=r(54438),e=r(3366),n=r(45794);let E=(()=>{class v{constructor(){this.hotspotUserProfile=(0,_.vPA)([]),this.isLoading=(0,_.vPA)(!1),this.isNotFound=(0,_.vPA)(!1),this._toastService=(0,_.WQX)(n.tw),this._apiService=(0,_.WQX)(e.G),this.disabledInput=(0,_.vPA)(!1),this.isLoadingInput=(0,_.vPA)(!1),this.detailDataUserProfile=(0,_.vPA)(null)}fetchData(){var i=this;return(0,h.A)(function*(){i.isLoading.set(!0),i._apiService.get("/api/mikrotik/get-profile",!0).then(function(){var t=(0,h.A)(function*(s){i.isLoading.set(!1),i.isNotFound.set(!1),i.hotspotUserProfile.set(s.profiles)});return function(s){return t.apply(this,arguments)}}()).catch(function(){var t=(0,h.A)(function*(s){i.isLoading.set(!1),i.isNotFound.set(!0),i._toastService.error("Failed to fetch data","Error")});return function(s){return t.apply(this,arguments)}}())})()}fetchDataByName(i){var t=this;return(0,h.A)(function*(){t.isLoadingInput.set(!0),yield t._apiService.get(`/api/mikrotik/get-profile/${i}`,!0).then(function(){var s=(0,h.A)(function*(C){t.isLoadingInput.set(!1),t.detailDataUserProfile.set(C)});return function(C){return s.apply(this,arguments)}}()).catch(function(){var s=(0,h.A)(function*(C){t.disabledInput.set(!0),t._toastService.error("Failed to fetch data","Error")});return function(C){return s.apply(this,arguments)}}())})()}static{this.\u0275fac=function(t){return new(t||v)}}static{this.\u0275prov=_.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()}}]);