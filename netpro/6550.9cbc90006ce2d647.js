"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[6550],{69445:(g,m,i)=>{i.d(m,{$:()=>w});var p=i(14085),b=i(87122),s=i(54438);const y=[[["","fuseCardFront",""]],[["","fuseCardBack",""]],"*",[["","fuseCardExpansion",""]]],C=["[fuseCardFront]","[fuseCardBack]","*","[fuseCardExpansion]"];function h(l,x){1&l&&(s.j41(0,"div",0),s.SdG(1),s.k0s(),s.j41(2,"div",1),s.SdG(3,1),s.k0s())}function f(l,x){1&l&&(s.j41(0,"div",2),s.SdG(1,3),s.k0s()),2&l&&s.Y8G("@expandCollapse",void 0)}function r(l,x){if(1&l&&(s.SdG(0,2),s.DNE(1,f,2,1,"div",2)),2&l){const t=s.XpG();s.R7$(),s.vxM(t.expanded?1:-1)}}let w=(()=>{class l{constructor(){this.expanded=!1,this.face="front",this.flippable=!1}get classList(){return{"fuse-card-expanded":this.expanded,"fuse-card-face-back":this.flippable&&"back"===this.face,"fuse-card-face-front":this.flippable&&"front"===this.face,"fuse-card-flippable":this.flippable}}ngOnChanges(t){"expanded"in t&&(this.expanded=(0,p.he)(t.expanded.currentValue)),"flippable"in t&&(this.flippable=(0,p.he)(t.flippable.currentValue))}static{this.\u0275fac=function(d){return new(d||l)}}static{this.\u0275cmp=s.VBU({type:l,selectors:[["fuse-card"]],hostVars:2,hostBindings:function(d,u){2&d&&s.HbH(u.classList)},inputs:{expanded:"expanded",face:"face",flippable:"flippable"},exportAs:["fuseCard"],features:[s.OA$],ngContentSelectors:C,decls:2,vars:2,consts:[[1,"fuse-card-front"],[1,"fuse-card-back"],[1,"fuse-card-expansion"]],template:function(d,u){1&d&&(s.NAR(y),s.DNE(0,h,4,0)(1,r,2,1)),2&d&&(s.vxM(u.flippable?0:-1),s.R7$(),s.vxM(u.flippable?-1:1))},styles:["fuse-card{position:relative;display:flex;overflow:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable{border-radius:0;overflow:visible;transform-style:preserve-3d;transition:transform 1s;perspective:600px;background:transparent;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-front{visibility:hidden;opacity:0;transform:rotateY(180deg)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-back{visibility:visible;opacity:1;transform:rotateY(360deg)}fuse-card.fuse-card-flippable .fuse-card-front,fuse-card.fuse-card-flippable .fuse-card-back{display:flex;flex-direction:column;flex:1 1 auto;z-index:10;transition:transform .5s ease-out 0s,visibility 0s ease-in .2s,opacity 0s ease-in .2s;backface-visibility:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable .fuse-card-front{position:relative;opacity:1;visibility:visible;transform:rotateY(0);overflow:hidden}fuse-card.fuse-card-flippable .fuse-card-back{position:absolute;inset:0;opacity:0;visibility:hidden;transform:rotateY(180deg);overflow:hidden auto}\n"],encapsulation:2,data:{animation:b.X}})}}return l})()},61843:(g,m,i)=>{i.d(m,{$:()=>p.$});var p=i(69445)},36550:(g,m,i)=>{i.r(m),i.d(m,{default:()=>H});var p=i(60177),b=i(89417),s=i(88834),y=i(99213),C=i(59042),h=i(96695),f=i(2042),r=i(9159),w=i(49192),l=i(61843),x=i(84412),t=i(54438),d=i(80507),u=i(46601),F=i(96504),_=i(25798);const D=()=>[".."],U=()=>[5,10,20];function E(e,o){1&e&&(t.j41(0,"mat-header-cell",28),t.EFF(1," Name "),t.k0s())}function A(e,o){if(1&e&&(t.j41(0,"mat-cell",29),t.EFF(1),t.k0s()),2&e){const a=o.$implicit;t.R7$(),t.SpI(" ",a.name," ")}}function S(e,o){1&e&&(t.j41(0,"mat-header-cell",28),t.EFF(1," Activity "),t.k0s())}function T(e,o){if(1&e&&(t.j41(0,"mat-cell"),t.EFF(1),t.k0s()),2&e){const a=o.$implicit;t.R7$(),t.SpI(" ",a.activity," ")}}function k(e,o){1&e&&(t.j41(0,"mat-header-cell",28),t.EFF(1," MAC "),t.k0s())}function B(e,o){if(1&e&&(t.j41(0,"mat-cell"),t.EFF(1),t.k0s()),2&e){const a=o.$implicit;t.R7$(),t.SpI(" ",a.mac," ")}}function $(e,o){1&e&&(t.j41(0,"mat-header-cell",28),t.EFF(1," Rate Upload "),t.k0s())}function R(e,o){if(1&e&&(t.j41(0,"mat-cell"),t.EFF(1),t.k0s()),2&e){const a=o.$implicit,n=t.XpG();t.R7$(),t.SpI(" ",n.convertBytesToMB(a.rateUp).toFixed(2)," Mb/s ")}}function j(e,o){1&e&&(t.j41(0,"mat-header-cell",30),t.EFF(1," Rate Download "),t.k0s())}function M(e,o){if(1&e&&(t.j41(0,"mat-cell"),t.EFF(1),t.k0s()),2&e){const a=o.$implicit,n=t.XpG();t.R7$(),t.SpI(" ",n.convertBytesToMB(a.rateDown).toFixed(2)," Mb/s ")}}function G(e,o){1&e&&(t.j41(0,"mat-header-cell",30),t.EFF(1," Total Upload "),t.k0s())}function N(e,o){if(1&e&&(t.j41(0,"mat-cell"),t.EFF(1),t.k0s()),2&e){const a=o.$implicit,n=t.XpG();t.R7$(),t.SpI(" ",n.convertBytesToMB(a.bytesUp).toFixed(2)," MB/s ")}}function I(e,o){1&e&&(t.j41(0,"mat-header-cell",30),t.EFF(1," Total Download "),t.k0s())}function O(e,o){if(1&e&&(t.j41(0,"mat-cell"),t.EFF(1),t.k0s()),2&e){const a=o.$implicit,n=t.XpG();t.R7$(),t.SpI(" ",n.convertBytesToMB(a.bytesDown).toFixed(2)," Mb/s ")}}function L(e,o){1&e&&(t.j41(0,"mat-header-cell",30),t.EFF(1," Ip Address "),t.k0s())}function X(e,o){if(1&e&&(t.j41(0,"mat-cell"),t.EFF(1),t.k0s()),2&e){const a=o.$implicit;t.R7$(),t.SpI(" ",a.ipAddress," ")}}function Y(e,o){1&e&&t.nrm(0,"mat-header-row")}function V(e,o){1&e&&t.nrm(0,"mat-row")}const H=[{path:"",component:(()=>{class e{constructor(a,n,c,v,P){this.fuseLoadingService=a,this.fuseConfirmationService=n,this.mqtt=c,this.userService=v,this._topic=P,this.displayedColumns=["name","activity","mac","rateUp","rateDown","bytesUp","bytesDown","ipAddress"],this.data=[],this.dataSource=new r.I6,this._userActivyData=new x.t([])}ngOnInit(){this._topic.topic$.subscribe(a=>{this.mqttSubs=this.mqtt.subscribeToTopic(`${"Netpro"===a?"mikrotik":a}/get-activity`).subscribe(n=>{this.mqttSubs&&this.mqttSubs.unsubscribe();const c=JSON.parse(n);this._userActivyData.next(c.devices)})}),this._userActivyData.subscribe(a=>{this.dataSource.data=a})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}ngOnDestroy(){this.mqttSubs.unsubscribe()}applyFilter(a){a=(a=a.trim()).toLowerCase(),this.dataSource.filter=a}convertBytesToMB(a){return parseFloat(a)/1048576}calculateSpeed(a,n){return this.convertBytesToMB(a)/n*8}static{this.\u0275fac=function(n){return new(n||e)(t.rXU(d.X),t.rXU(u.G),t.rXU(F.s),t.rXU(_.D),t.rXU(_.D))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-user-activity"]],viewQuery:function(n,c){if(1&n&&(t.GBs(h.iy,5),t.GBs(f.B4,5)),2&n){let v;t.mGM(v=t.lsd())&&(c.paginator=v.first),t.mGM(v=t.lsd())&&(c.sort=v.first)}},decls:42,vars:10,consts:[["fuseCard",""],["table",""],["paginator",""],[1,"w-full"],["aria-label","Breadcrumb",1,"flex","shadow","px-5","py-3","text-gray-700","borde","bg-white","dark:bg-slate-800"],[1,"inline-flex","items-center","space-x-1","md:space-x-2","rtl:space-x-reverse"],[1,"inline-flex","items-center"],[1,"inline-flex","items-center","text-sm","font-medium","text-gray-700","hover:text-blue-600","dark:text-gray-400","dark:hover:text-white",3,"routerLink"],[1,"mx-6","my-4","mb-20","sm:mb-20"],[1,"flex","flex-col","shadow-md"],[1,"truncate","text-lg","flex-col","sm:flex-row","font-semibold","leading-6","tracking-tight","px-5","py-3","flex","items-start","sm:items-center","w-full","justify-between"],[1,"overflow-x-auto"],["matSort","",1,"min-w-[600px]",3,"dataSource"],["matColumnDef","name"],["mat-sort-header","","class","px-4 py-2",4,"matHeaderCellDef"],["class","py-4 font-medium px-6",4,"matCellDef"],["matColumnDef","activity"],[4,"matCellDef"],["matColumnDef","mac"],["matColumnDef","rateUp"],["matColumnDef","rateDown"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","bytesUp"],["matColumnDef","bytesDown"],["matColumnDef","ipAddress"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"pageSize","length","pageSizeOptions","showFirstLastButtons"],["mat-sort-header","",1,"px-4","py-2"],[1,"py-4","font-medium","px-6"],["mat-sort-header",""]],template:function(n,c){1&n&&(t.j41(0,"div",3)(1,"nav",4)(2,"ol",5)(3,"li",6)(4,"a",7),t.EFF(5," User Activity "),t.k0s()()()(),t.j41(6,"main",8)(7,"fuse-card",9,0)(9,"div",10),t.EFF(10," User Activity "),t.k0s(),t.j41(11,"div",11)(12,"mat-table",12,1),t.qex(14,13),t.DNE(15,E,2,0,"mat-header-cell",14)(16,A,2,1,"mat-cell",15),t.bVm(),t.qex(17,16),t.DNE(18,S,2,0,"mat-header-cell",14)(19,T,2,1,"mat-cell",17),t.bVm(),t.qex(20,18),t.DNE(21,k,2,0,"mat-header-cell",14)(22,B,2,1,"mat-cell",17),t.bVm(),t.qex(23,19),t.DNE(24,$,2,0,"mat-header-cell",14)(25,R,2,1,"mat-cell",17),t.bVm(),t.qex(26,20),t.DNE(27,j,2,0,"mat-header-cell",21)(28,M,2,1,"mat-cell",17),t.bVm(),t.qex(29,22),t.DNE(30,G,2,0,"mat-header-cell",21)(31,N,2,1,"mat-cell",17),t.bVm(),t.qex(32,23),t.DNE(33,I,2,0,"mat-header-cell",21)(34,O,2,1,"mat-cell",17),t.bVm(),t.qex(35,24),t.DNE(36,L,2,0,"mat-header-cell",21)(37,X,2,1,"mat-cell",17),t.bVm(),t.DNE(38,Y,1,0,"mat-header-row",25)(39,V,1,0,"mat-row",26),t.k0s()(),t.nrm(40,"mat-paginator",27,2),t.k0s()()()),2&n&&(t.R7$(4),t.Y8G("routerLink",t.lJ4(8,D)),t.R7$(8),t.Y8G("dataSource",c.dataSource),t.R7$(26),t.Y8G("matHeaderRowDef",c.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",c.displayedColumns),t.R7$(),t.Y8G("pageSize",5)("length",c.dataSource.data.length)("pageSizeOptions",t.lJ4(9,U))("showFirstLastButtons",!0))},dependencies:[h.Ou,h.iy,l.$,r.tP,r.Zl,r.tL,r.ji,r.cC,r.YV,r.iL,r.KS,r.$R,r.YZ,r.NB,p.MD,w.Wk,y.m_,b.X1,s.Hl,C.fS,f.NQ,f.B4,f.aE],encapsulation:2})}}return e})()}]}}]);