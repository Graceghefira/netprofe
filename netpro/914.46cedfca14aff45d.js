"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[914],{31849:(L,y,c)=>{c.d(y,{$:()=>t});var m=c(14085),b=c(87122),a=c(54438);const w=[[["","fuseCardFront",""]],[["","fuseCardBack",""]],"*",[["","fuseCardExpansion",""]]],_=["[fuseCardFront]","[fuseCardBack]","*","[fuseCardExpansion]"];function C(u,F){1&u&&(a.j41(0,"div",0),a.SdG(1),a.k0s(),a.j41(2,"div",1),a.SdG(3,1),a.k0s())}function D(u,F){1&u&&(a.j41(0,"div",2),a.SdG(1,3),a.k0s()),2&u&&a.Y8G("@expandCollapse",void 0)}function S(u,F){if(1&u&&(a.SdG(0,2),a.DNE(1,D,2,1,"div",2)),2&u){const k=a.XpG();a.R7$(),a.vxM(k.expanded?1:-1)}}let t=(()=>{class u{constructor(){this.expanded=!1,this.face="front",this.flippable=!1}get classList(){return{"fuse-card-expanded":this.expanded,"fuse-card-face-back":this.flippable&&"back"===this.face,"fuse-card-face-front":this.flippable&&"front"===this.face,"fuse-card-flippable":this.flippable}}ngOnChanges(k){"expanded"in k&&(this.expanded=(0,m.he)(k.expanded.currentValue)),"flippable"in k&&(this.flippable=(0,m.he)(k.flippable.currentValue))}static{this.\u0275fac=function(x){return new(x||u)}}static{this.\u0275cmp=a.VBU({type:u,selectors:[["fuse-card"]],hostVars:2,hostBindings:function(x,E){2&x&&a.HbH(E.classList)},inputs:{expanded:"expanded",face:"face",flippable:"flippable"},exportAs:["fuseCard"],standalone:!0,features:[a.OA$,a.aNF],ngContentSelectors:_,decls:2,vars:2,consts:[[1,"fuse-card-front"],[1,"fuse-card-back"],[1,"fuse-card-expansion"]],template:function(x,E){1&x&&(a.NAR(w),a.DNE(0,C,4,0)(1,S,2,1)),2&x&&(a.vxM(E.flippable?0:-1),a.R7$(),a.vxM(E.flippable?-1:1))},styles:["fuse-card{position:relative;display:flex;overflow:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable{border-radius:0;overflow:visible;transform-style:preserve-3d;transition:transform 1s;perspective:600px;background:transparent;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-front{visibility:hidden;opacity:0;transform:rotateY(180deg)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-back{visibility:visible;opacity:1;transform:rotateY(360deg)}fuse-card.fuse-card-flippable .fuse-card-front,fuse-card.fuse-card-flippable .fuse-card-back{display:flex;flex-direction:column;flex:1 1 auto;z-index:10;transition:transform .5s ease-out 0s,visibility 0s ease-in .2s,opacity 0s ease-in .2s;backface-visibility:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable .fuse-card-front{position:relative;opacity:1;visibility:visible;transform:rotateY(0);overflow:hidden}fuse-card.fuse-card-flippable .fuse-card-back{position:absolute;inset:0;opacity:0;visibility:hidden;transform:rotateY(180deg);overflow:hidden auto}\n"],encapsulation:2,data:{animation:b.X}})}}return u})()},3163:(L,y,c)=>{c.r(y),c.d(y,{default:()=>g});var m=c(10467),b=c(60177),a=c(89417),w=c(88834),_=c(99213),C=c(9159),D=c(31849),S=c(74766),t=c(54438),u=c(51373),F=c(93943),k=c(21626);let x=(()=>{class l{constructor(i){this.http=i,this.apiUrl=F.c.apiUrl}getLinkBlock(){var i=this;return(0,m.A)(function*(){return yield u.A.get(i.apiUrl+"api-netpro/api/mikrotik/get-web-block").then(function(){var n=(0,m.A)(function*(r){return r.data});return function(r){return n.apply(this,arguments)}}()).catch(function(){var n=(0,m.A)(function*(r){return r});return function(r){return n.apply(this,arguments)}}())})()}postLink(i){var n=this;return(0,m.A)(function*(){return yield u.A.post(n.apiUrl+"api-netpro/api/mikrotik/web-block",i).then(function(){var r=(0,m.A)(function*(f){return f.data});return function(f){return r.apply(this,arguments)}}()).catch(function(){var r=(0,m.A)(function*(f){return console.log(f),f});return function(f){return r.apply(this,arguments)}}())})()}deleteLink(i){var n=this;return(0,m.A)(function*(){return yield u.A.delete(`${n.apiUrl}api-netpro/api/mikrotik/web-unblock/${i}`).then(function(){var r=(0,m.A)(function*(f){return f.data});return function(f){return r.apply(this,arguments)}}()).catch(function(){var r=(0,m.A)(function*(f){console.log(f)});return function(f){return r.apply(this,arguments)}}())})()}static{this.\u0275fac=function(n){return new(n||l)(t.KVO(k.Qq))}}static{this.\u0275prov=t.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();var E=c(75351),A=c(46601);const d=["userFormTemplate"];function e(l,v){1&l&&(t.j41(0,"small"),t.EFF(1,"Domain tidak valid. Pastikan formatnya benar (contoh: example.com)."),t.k0s())}function s(l,v){if(1&l&&(t.j41(0,"div",31),t.DNE(1,e,2,0,"small",32),t.k0s()),2&l){let i;const n=t.XpG(2);t.R7$(),t.Y8G("ngIf",null==(i=n.linkForm.get("domain"))||null==i.errors?null:i.errors.invalidDomain)}}function o(l,v){if(1&l){const i=t.RV6();t.j41(0,"h2",11),t.EFF(1,"Link Form"),t.k0s(),t.j41(2,"h3",26),t.EFF(3,"Tambah Link yang Ingin Diblokir"),t.k0s(),t.j41(4,"form",27),t.bIt("ngSubmit",function(){t.eBV(i);const r=t.XpG();return t.Njj(r.onSubmit())}),t.nrm(5,"input",28),t.DNE(6,s,2,1,"div",29),t.j41(7,"button",30),t.EFF(8,"Tambah Link"),t.k0s()()}if(2&l){let i;const n=t.XpG();t.R7$(4),t.Y8G("formGroup",n.linkForm),t.R7$(2),t.Y8G("ngIf",(null==(i=n.linkForm.get("domain"))?null:i.invalid)&&((null==(i=n.linkForm.get("domain"))?null:i.touched)||(null==(i=n.linkForm.get("domain"))?null:i.dirty)))}}function p(l,v){if(1&l){const i=t.RV6();t.j41(0,"tr",33)(1,"th",34)(2,"div",35)(3,"div",36),t.EFF(4),t.k0s(),t.j41(5,"div",37),t.EFF(6),t.k0s()()(),t.j41(7,"th",24),t.EFF(8),t.k0s(),t.j41(9,"th",24),t.EFF(10),t.k0s(),t.j41(11,"td",38)(12,"a",39),t.bIt("click",function(){const r=t.eBV(i).$implicit,f=t.XpG();return t.Njj(f.deleteLink(r.domain))}),t.nrm(13,"mat-icon",40),t.k0s()()()}if(2&l){const i=v.$implicit;t.R7$(4),t.JRh(i.ip),t.R7$(2),t.JRh(i.ip),t.R7$(2),t.SpI(" ",i.list," "),t.R7$(2),t.SpI(" ",i.comment," ")}}const g=[{path:"",component:(()=>{class l{constructor(i,n,r,f){this.fb=i,this.linkService=n,this.dialog=r,this.fuseConfirmationService=f,this.displayedColumns=["ip","domain","comment"],this.linkForm=this.fb.group({domain:["",[a.k0.required,this.domainValidator]]})}domainValidator(i){return/^(https?:\/\/)?([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,7}$/.test(i.value)?null:{invalidDomain:!0}}openUserForm(){this.dialog.open(this.userFormTemplate,{width:"500px"}).afterClosed().subscribe(n=>{n&&(this.linkForm.valid?console.log("Data yang diterima dari form:",this.linkForm.value):console.error("Form tidak valid:",this.linkForm.errors))})}onSubmit(){var i=this;return(0,m.A)(function*(){if(i.linkForm.valid){const n=new FormData;n.append("domain",i.linkForm.value.domain);const r=yield i.linkService.postLink(n);console.log(r),r&&(i.linkForm.reset(),window.location.reload())}})()}deleteLink(i){var n=this;return(0,m.A)(function*(){n.fuseConfirmationService.open({title:"Konfirmasi Hapus",message:`Apakah Anda yakin ingin menghapus link ${i}?`,actions:{confirm:{label:"Delete"}}}).afterClosed().subscribe(function(){var f=(0,m.A)(function*(T){if(T){const V=yield n.linkService.deleteLink(i);console.log(V),window.location.reload()}});return function(T){return f.apply(this,arguments)}}())})()}ngOnInit(){this.listLink=[{ip:"facebook.com",list:"facebook.com",comment:"Blocked by Laravel API"},{ip:"detik.com",list:"blocked-domains",comment:"Blocked by Laravel API"},{ip:"142.251.10.91",list:"blocked_sites",comment:"Dynamic block for youtube.com"},{ip:"103.49.221.211",list:"blocked-domains",comment:"detik.com"},{ip:"203.190.242.211",list:"blocked-domains",comment:"detik.com"},{ip:"157.240.217.35",list:"facebook.com",comment:"facebook.com"}]}static{this.\u0275fac=function(n){return new(n||l)(t.rXU(a.ok),t.rXU(x),t.rXU(E.bZ),t.rXU(A.G))}}static{this.\u0275cmp=t.VBU({type:l,selectors:[["app-block-link"]],viewQuery:function(n,r){if(1&n&&(t.GBs(d,5),t.GBs(S.Sb,5)),2&n){let f;t.mGM(f=t.lsd())&&(r.userFormTemplate=f.first),t.mGM(f=t.lsd())&&(r.modal=f.first)}},standalone:!0,features:[t.aNF],decls:41,vars:1,consts:[["userFormTemplate",""],["fuseCard",""],[1,"w-full","h-fit","overflow-y-auto"],[1,"dark","relative","flex-0","overflow-hidden","bg-[#0576D9]","px-4","py-2","h-64","sm:p-16"],["viewBox","0 0 960 540","width","100%","height","100%","preserveAspectRatio","xMidYMax slice","xmlns","http://www.w3.org/2000/svg",1,"absolute","inset-0","pointer-events-none"],["fill","none","stroke","currentColor","stroke-width","100",1,"text-gray-700","opacity-25"],["r","234","cx","196","cy","23"],["r","234","cx","790","cy","491"],[1,"w-5/6","h-full","relative","m-auto","-translate-y-15"],[1,"w-full","h-full"],[1,"flex","flex-col","px-8","py-10","shadow-lg","text-center"],[1,"text-xl","font-bold"],[1,"mt-2"],[1,"font-medium"],["id","open-modal","expand","block","mat-flat-button","",1,"bg-green-500","my-5","w-full","text-white",3,"click"],["svgIcon","mat_solid:add_circle"],[1,"mb-5"],[1,"bg-card","flex","flex-col","overflow-hidden","rounded-2xl","h-fit","w-full","p-4","shadow","sm:col-span-6"],[1,"truncate","flex-col","text-lg","font-bold","leading-6","tracking-tight","px-4","flex","items-start","w-full","justify-between"],[1,"text-base","font-medium","opacity-60"],[1,"max-h-[400px]","overflow-y-auto"],[1,"relative","overflow-x-auto","sm:rounded-lg"],[1,"w-full","h-fit","text-sm","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","dark:text-gray-400"],["scope","col",1,"px-2","sm:px-6","py-3","text-xs","sm:text-sm"],["class","border-b-2",4,"ngFor","ngForOf"],[1,"font-medium","opacity-70"],["action","",1,"py-4","w-full",3,"ngSubmit","formGroup"],["type","text","formControlName","domain","placeholder","Link Yang Ingin Diblokir",1,"py-2","px-2","border-2","rounded","w-full"],["class","text-red-600",4,"ngIf"],["type","submit","mat-button","",1,"bg-green-600","w-full","text-white","mt-4"],[1,"text-red-600"],[4,"ngIf"],[1,"border-b-2"],["scope","row",1,"flex","items-center","px-2","sm:px-6","py-4","font-medium","text-gray-900","whitespace-nowrap","dark:text-white"],[1,"max-sm:pr-4"],[1,"text-base","font-semibold"],[1,"font-normal","text-gray-500"],[1,"px-2","sm:px-6","translate-y-[10px]","flex","items-center"],[1,"font-medium","mx-1","text-white","dark:text-white","bg-red-500","hover:cursor-pointer","hover:bg-red-600","rounded","hover:underline",3,"click"],["svgIcon","heroicons_solid:trash",1,"text-white",2,"transform","scale(0.7)"]],template:function(n,r){if(1&n){const f=t.RV6();t.DNE(0,o,9,2,"ng-template",null,0,t.C5r),t.j41(2,"div",2)(3,"div",3),t.qSk(),t.j41(4,"svg",4)(5,"g",5),t.nrm(6,"circle",6)(7,"circle",7),t.k0s()()(),t.joV(),t.j41(8,"div",8)(9,"div",9)(10,"fuse-card",10,1)(12,"div",11),t.EFF(13,"Blocking Link"),t.k0s(),t.j41(14,"div",12)(15,"p",13),t.EFF(16,"List Link yang diblock "),t.k0s()()(),t.j41(17,"button",14),t.bIt("click",function(){return t.eBV(f),t.Njj(r.openUserForm())}),t.nrm(18,"mat-icon",15),t.EFF(19," Tambah Link "),t.k0s(),t.j41(20,"section",16)(21,"div",17)(22,"div",18),t.EFF(23," Link yang diblokir "),t.j41(24,"span",19),t.EFF(25," Di bawah merupakan link yang diblokir "),t.k0s()(),t.j41(26,"div",20)(27,"div",21)(28,"table",22)(29,"thead",23)(30,"tr")(31,"th",24),t.EFF(32," IP "),t.k0s(),t.j41(33,"th",24),t.EFF(34," Domain "),t.k0s(),t.j41(35,"th",24),t.EFF(36," Keterangan "),t.k0s(),t.j41(37,"th",24),t.EFF(38," Action "),t.k0s()()(),t.j41(39,"tbody"),t.DNE(40,p,14,4,"tr",25),t.k0s()()()()()()()()()}2&n&&(t.R7$(40),t.Y8G("ngForOf",r.listLink))},dependencies:[D.$,_.m_,_.An,w.Hl,w.$z,C.tP,b.MD,b.Sq,b.bT,a.X1,a.qT,a.me,a.BC,a.cb,a.j4,a.JD]})}}return l})()}]},45024:(L,y,c)=>{c.d(y,{CB:()=>x,DQ:()=>k,Q3:()=>t,qS:()=>C,sL:()=>u,xn:()=>F,y4:()=>D,zP:()=>A});var m=c(30017),w=(c(74402),c(7673),c(21413)),_=c(54438);class C{}function D(d){return d&&"function"==typeof d.connect&&!(d instanceof m.G)}var t=function(d){return d[d.REPLACED=0]="REPLACED",d[d.INSERTED=1]="INSERTED",d[d.MOVED=2]="MOVED",d[d.REMOVED=3]="REMOVED",d}(t||{});const u=new _.nKC("_ViewRepeater");class F{applyChanges(e,s,o,p,h){e.forEachOperation((g,l,v)=>{let i,n;if(null==g.previousIndex){const r=o(g,l,v);i=s.createEmbeddedView(r.templateRef,r.context,r.index),n=t.INSERTED}else null==v?(s.remove(l),n=t.REMOVED):(i=s.get(l),s.move(i,v),n=t.MOVED);h&&h({context:i?.context,operation:n,record:g})})}detach(){}}class k{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(e,s,o,p,h){e.forEachOperation((g,l,v)=>{let i,n;null==g.previousIndex?(i=this._insertView(()=>o(g,l,v),v,s,p(g)),n=i?t.INSERTED:t.REPLACED):null==v?(this._detachAndCacheView(l,s),n=t.REMOVED):(i=this._moveView(l,v,s,p(g)),n=t.MOVED),h&&h({context:i?.context,operation:n,record:g})})}detach(){for(const e of this._viewCache)e.destroy();this._viewCache=[]}_insertView(e,s,o,p){const h=this._insertViewFromCache(s,o);if(h)return void(h.context.$implicit=p);const g=e();return o.createEmbeddedView(g.templateRef,g.context,g.index)}_detachAndCacheView(e,s){const o=s.detach(e);this._maybeCacheView(o,s)}_moveView(e,s,o,p){const h=o.get(e);return o.move(h,s),h.context.$implicit=p,h}_maybeCacheView(e,s){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{const o=s.indexOf(e);-1===o?e.destroy():s.remove(o)}}_insertViewFromCache(e,s){const o=this._viewCache.pop();return o&&s.insert(o,e),o||null}}class x{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,s,o=!0,p){this._multiple=e,this._emitChanges=o,this.compareWith=p,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new w.B,s&&s.length&&(e?s.forEach(h=>this._markSelected(h)):this._markSelected(s[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(o=>this._markSelected(o));const s=this._hasQueuedChanges();return this._emitChangeEvent(),s}deselect(...e){this._verifyValueAssignment(e),e.forEach(o=>this._unmarkSelected(o));const s=this._hasQueuedChanges();return this._emitChangeEvent(),s}setSelection(...e){this._verifyValueAssignment(e);const s=this.selected,o=new Set(e);e.forEach(h=>this._markSelected(h)),s.filter(h=>!o.has(this._getConcreteValue(h,o))).forEach(h=>this._unmarkSelected(h));const p=this._hasQueuedChanges();return this._emitChangeEvent(),p}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const s=this._hasQueuedChanges();return e&&this._emitChangeEvent(),s}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e,s){if(this.compareWith){s=s??this._selection;for(let o of s)if(this.compareWith(e,o))return o;return e}return e}}let A=(()=>{class d{constructor(){this._listeners=[]}notify(s,o){for(let p of this._listeners)p(s,o)}listen(s){return this._listeners.push(s),()=>{this._listeners=this._listeners.filter(o=>s!==o)}}ngOnDestroy(){this._listeners=[]}static{this.\u0275fac=function(o){return new(o||d)}}static{this.\u0275prov=_.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})()}}]);